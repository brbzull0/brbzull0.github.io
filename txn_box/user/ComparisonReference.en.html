

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Comparison Reference &mdash; Transaction Box</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Modifier Reference" href="ModifierReference.en.html" />
    <link rel="prev" title="Directive Reference" href="DirectiveReference.en.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Transaction Box Plugin
          

          
            
            <img src="../_static/balcora-gate-400x400.jpg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../txn_box.en.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../txn_box.en.html#configuration">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building.en.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.en.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../expr.en.html">Feature Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../directive.en.html">Directives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../selection.en.html">Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide.en.html">Usage Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.en.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch.en.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtractorReference.en.html">Extractor Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtractorReference.en.html#extractors">Extractors</a></li>
<li class="toctree-l1"><a class="reference internal" href="DirectiveReference.en.html">Directive Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Comparison Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#comparisons">Comparisons</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#special-comparisons">Special Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="#string-comparisons">String Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="#numeric-comparisons">Numeric Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boolean-comparisons">Boolean Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compound-comparisons">Compound Comparisons</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#combining-comparisons">Combining Comparisons</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tuple-comparisons">Tuple Comparisons</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ModifierReference.en.html">Modifier Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../future.en.html">Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc.en.html">Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/dev-guide.en.html">Developer Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference.en.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Transaction Box Plugin</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Comparison Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/user/ComparisonReference.en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="comparison-reference">
<span id="id1"></span><h1>Comparison Reference<a class="headerlink" href="#comparison-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="comparisons">
<h2>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this headline">¶</a></h2>
<p>Comparison match again the active feature. For most comparisons the value to compare is the value of
the comparison key. In a few cases the comparison value is implicit in the comparison (e.g.
<a class="reference internal" href="#is-true" title="is-true"><code class="xref txb txb-cmp docutils literal notranslate"><span class="pre">is-true</span></code></a>). These are indicated by the leading “is-“.</p>
<p>Each comparison can compares its value against features of specific types. A feature that is not one
of those types is never matched. In some cases the value can be a list, in which each value is
compared against the active feature and the comparison matches if any element of the list matches.
These are marked as such, for example <a class="reference internal" href="#match" title="match"><code class="xref txb txb-cmp docutils literal notranslate"><span class="pre">match</span></code></a>.</p>
<div class="section" id="special-comparisons">
<h3>Special Comparisons<a class="headerlink" href="#special-comparisons" title="Permalink to this headline">¶</a></h3>
<dl class="comparison">
<dt class="comparison-title" id="is-null">
<code class="descname">is-null</code><a class="headerlink" href="#is-null" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">NIL</dd>
</dl>
<div class="compound">
<p class="compound-first">Succeed if the active feature is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. The most common use for this is with HTTP fields to
detect if the field is not present.</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">with</span><span class="p">:</span> <span class="nt">proxy-req-field&lt;Best-Band&gt;</span><span class="p">:</span>
<span class="nt">select</span><span class="p">:</span>
<span class="p p-Indicator">-</span>  <span class="nt">is-null</span><span class="p">:</span> <span class="c1"># Field is not present.</span>
   <span class="nt">do</span><span class="p">:</span>
   <span class="p p-Indicator">-</span>  <span class="c1"># stuff</span>
<span class="p p-Indicator">-</span>  <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;&quot;</span> <span class="c1"># Field is present but empty.</span>
   <span class="nt">do</span><span class="p">:</span>
   <span class="p p-Indicator">-</span>  <span class="c1"># stuff</span>
<span class="p p-Indicator">-</span>  <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;Delain&quot;</span> <span class="c1"># Field is correctly set, including capitalization.</span>
<span class="p p-Indicator">-</span>  <span class="nt">do</span><span class="p">:</span> <span class="c1"># Present but invalid value.</span>
   <span class="p p-Indicator">-</span>  <span class="c1"># stuff</span>
</pre></div>
</div>
<p class="compound-last">See <a class="reference internal" href="#is-empty" title="is-empty"><code class="xref txb txb-cmp docutils literal notranslate"><span class="pre">is-empty</span></code></a> to check for <code class="docutils literal notranslate"><span class="pre">NULL</span></code> or the empty string.</p>
</div>
</div>
<div class="section" id="string-comparisons">
<h3>String Comparisons<a class="headerlink" href="#string-comparisons" title="Permalink to this headline">¶</a></h3>
<p>String comparisons can set the active index group extractors. The string comparisons are marked with
which groups, if any, are set by the comparison if it matches. All string comparisons are by default
case sensitive.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">nc</span></code> (no case) can be passed to make the comparison case insensitive. For  instance
to make sure the field “Best-Band” is capitalized correctly</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">with</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ua-req-field&lt;Best-Band&gt;</span>
<span class="nt">select</span><span class="p">:</span>
<span class="p p-Indicator">-</span>  <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;Delain&quot;</span> <span class="c1"># Exactly &quot;Delain&quot;</span>
   <span class="c1"># Do nothing, it&#39;s correct.</span>
<span class="p p-Indicator">-</span>  <span class="nt">match&lt;nc&gt;</span><span class="p">:</span> <span class="s">&quot;Delain&quot;</span> <span class="c1"># wrong capitalization like &quot;delain&quot; or &quot;delaiN&quot;</span>
   <span class="nt">do</span><span class="p">:</span>
   <span class="p p-Indicator">-</span>  <span class="nt">ua-req-field&lt;Best-Band&gt;</span><span class="p">:</span> <span class="s">&quot;Delain&quot;</span> <span class="c1"># fix it.</span>
</pre></div>
</div>
<table class="docutils align-center">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Index</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>The matched string.</p></td>
</tr>
<tr class="row-odd"><td><p>1..N</p></td>
<td><p>Regular expression capture groups.</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>The unmatched string.</p></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#none-of" title="none-of"><code class="xref txb txb-cmp docutils literal notranslate"><span class="pre">none-of</span></code></a> for handling negative string matches. This makes it easy to match features that
do <strong>not</strong> contain a string.</p>
<dl class="comparison">
<dt class="comparison-title" id="match">
<code class="descname">match</code><a class="headerlink" href="#match" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">string</dd>
<dt class="field-even">List matching</dt>
<dd class="field-even"><em>enabled</em></dd>
<dt class="field-odd">Groups</dt>
<dd class="field-odd">0,*</dd>
</dl>
<div class="compound">
<p>Exact string match.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="prefix">
<code class="descname">prefix</code><a class="headerlink" href="#prefix" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">string</dd>
<dt class="field-even">List matching</dt>
<dd class="field-even"><em>enabled</em></dd>
<dt class="field-odd">Groups</dt>
<dd class="field-odd">0,*</dd>
</dl>
<div class="compound">
<p>Prefix string match. Successful if the value is a prefix of the feature.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="suffix">
<code class="descname">suffix</code><a class="headerlink" href="#suffix" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">string</dd>
<dt class="field-even">List matching</dt>
<dd class="field-even"><em>enabled</em></dd>
<dt class="field-odd">Groups</dt>
<dd class="field-odd">0,*</dd>
</dl>
<div class="compound">
<p>Suffix string match. Successful if the value is a suffix of the feature.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="tld">
<code class="descname">tld</code><a class="headerlink" href="#tld" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">string</dd>
<dt class="field-even">List matching</dt>
<dd class="field-even"><em>enabled</em></dd>
<dt class="field-odd">Groups</dt>
<dd class="field-odd">0,*</dd>
</dl>
<div class="compound">
<p class="compound-first">Top level domain matching. This is similar to <a class="reference internal" href="#suffix" title="suffix"><code class="xref txb txb-cmp docutils literal notranslate"><span class="pre">suffix</span></code></a> but has a special case for the “.”
separator for domains. It will match the exact feature, or as a suffix if there is an intervening
“.”.</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tld</span><span class="p">:</span> <span class="s">&quot;yahoo.com&quot;</span>
</pre></div>
</div>
<p class="compound-middle">is equivalent to</p>
<div class="compound-last highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">any-of</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">suffix</span><span class="p">:</span> <span class="s">&quot;.yahoo.com&quot;</span>
<span class="p p-Indicator">-</span> <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;yahoo.com&quot;</span>
</pre></div>
</div>
</div>
<dl class="comparison">
<dt class="comparison-title" id="contains">
<code class="descname">contains</code><a class="headerlink" href="#contains" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">string</dd>
<dt class="field-even">Groups</dt>
<dd class="field-even">0</dd>
</dl>
<div class="compound">
<p class="compound-first">Substring checking. This matches if the active feature has the value as a substring.</p>
<p class="compound-middle">If the feature is “potzrebie” then</p>
<div class="compound-last highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span>  <span class="nt">contains</span><span class="p">:</span> <span class="s">&quot;pot&quot;</span> <span class="c1"># success</span>
<span class="p p-Indicator">-</span>  <span class="nt">contains</span><span class="p">:</span> <span class="s">&quot;zri&quot;</span> <span class="c1"># failure</span>
<span class="p p-Indicator">-</span>  <span class="nt">contains</span><span class="p">:</span> <span class="s">&quot;zreb&quot;</span> <span class="c1"># success</span>
</pre></div>
</div>
</div>
<dl class="comparison">
<dt class="comparison-title" id="path">
<code class="descname">path</code><a class="headerlink" href="#path" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">string</dd>
<dt class="field-even">Groups</dt>
<dd class="field-even">0,*</dd>
</dl>
<div class="compound">
<p class="compound-first">This is a literal match which accepts an optional trailing “/” character. This is useful for
matching a specific path in a URL because the request may or may not add the trailing character.
That is</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">path</span><span class="p">:</span> <span class="s">&quot;albums&quot;</span>
</pre></div>
</div>
<p class="compound-middle">will match a path of “albums” or “albums/”. I.e. it is identical to</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">any-of</span><span class="p">:</span>
<span class="p p-Indicator">-</span>  <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;albums&quot;</span>
<span class="p p-Indicator">-</span>  <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;albums/&quot;</span>
</pre></div>
</div>
<p class="compound-middle">and to</p>
<div class="compound-last highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">path</span><span class="p">:</span> <span class="s">&quot;albums/&quot;</span>
</pre></div>
</div>
</div>
<dl class="comparison">
<dt class="comparison-title" id="rxp">
<code class="descname">rxp</code><a class="headerlink" href="#rxp" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">string</dd>
<dt class="field-even">Groups</dt>
<dd class="field-even">0,1..N</dd>
</dl>
<div class="compound">
<p>Regular expression comparison. If this matches the index scoped extractors are set. Index 0 is
the entire match, index 1 is the first capture group, etc.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="is-empty">
<code class="descname">is-empty</code><a class="headerlink" href="#is-empty" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">NIL, string</dd>
</dl>
<div class="compound">
<p class="compound-first">Successful if the active feature is <code class="docutils literal notranslate"><span class="pre">NULL</span></code> or the empty string. This is identical to</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">any-of</span><span class="p">:</span>
<span class="p p-Indicator">-</span>  <span class="nt">is-null</span><span class="p">:</span>
<span class="p p-Indicator">-</span>  <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;&quot;</span>
</pre></div>
</div>
<p class="compound-middle">This is sufficiently common to justify having a specific comparison. If the actions for having no
value, either because it’s missing or has no value are the same, then the example from
<a class="reference internal" href="#is-null" title="is-null"><code class="xref txb txb-cmp docutils literal notranslate"><span class="pre">is-null</span></code></a> can be done more cleanly as</p>
<div class="compound-last highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">with</span><span class="p">:</span> <span class="nt">proxy-req-field&lt;Best-Band&gt;</span><span class="p">:</span>
<span class="nt">select</span><span class="p">:</span>
<span class="p p-Indicator">-</span>  <span class="nt">is-empty</span><span class="p">:</span> <span class="c1"># Field has no value - missing or empty.</span>
   <span class="nt">do</span><span class="p">:</span>
   <span class="p p-Indicator">-</span>  <span class="c1"># stuff</span>
<span class="p p-Indicator">-</span>  <span class="nt">match</span><span class="p">:</span> <span class="s">&quot;Delain&quot;</span> <span class="c1"># Field is correctly set, including capitalization.</span>
<span class="p p-Indicator">-</span>  <span class="nt">do</span><span class="p">:</span> <span class="c1"># Present but invalid value.</span>
   <span class="p p-Indicator">-</span>  <span class="c1"># stuff</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="numeric-comparisons">
<h3>Numeric Comparisons<a class="headerlink" href="#numeric-comparisons" title="Permalink to this headline">¶</a></h3>
<dl class="comparison">
<dt class="comparison-title" id="eq">
<code class="descname">eq</code><a class="headerlink" href="#eq" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">integer, boolean, IP address</dd>
</dl>
<div class="compound">
<p>Equal. Successful if the value is equal to the feature. This works for numeric and IP address features.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="ne">
<code class="descname">ne</code><a class="headerlink" href="#ne" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">integer, boolean, IP address</dd>
</dl>
<div class="compound">
<p>Not equal. Successful if the value is not equal to the feature. This is valid for Integers and
IP Addresses.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="lt">
<code class="descname">lt</code><a class="headerlink" href="#lt" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Less than. Successful if the feature is numerically less than the value.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="le">
<code class="descname">le</code><a class="headerlink" href="#le" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Less than or equal. Successful if the feature is numerically less than or equal to the value.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="gt">
<code class="descname">gt</code><a class="headerlink" href="#gt" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Greater than. Successful if feature is numerically greater than the value.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="ge">
<code class="descname">ge</code><a class="headerlink" href="#ge" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Greater than or equal. Successful if the feature is greater than or equal to the value.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="in">
<code class="descname">in</code><a class="headerlink" href="#in" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list">
<dt class="field-odd">Value Types</dt>
<dd class="field-odd">integer, IP address</dd>
</dl>
<div class="compound">
<p class="compound-first">Check if the feature is in a range. The value must be a tuple of two values, the minimum and
the maximum. This matches if the feature is at least the minimum and no more than the maximum.
The comparison</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">in</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">10</span><span class="p p-Indicator">,</span> <span class="nv">20</span> <span class="p p-Indicator">]</span>
</pre></div>
</div>
<p class="compound-middle">is identical to</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">all-of</span><span class="p">:</span>
<span class="p p-Indicator">-</span>  <span class="nt">le</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="p p-Indicator">-</span>  <span class="nt">ge</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
</pre></div>
</div>
<p class="compound-middle">If the feature is (the Integer) 8, then</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">in</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">1</span><span class="p p-Indicator">,</span> <span class="nv">10</span> <span class="p p-Indicator">]</span> <span class="c1"># match</span>
<span class="nt">in</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">9</span><span class="p p-Indicator">,</span> <span class="nv">20</span> <span class="p p-Indicator">]</span> <span class="c1"># no match</span>
<span class="nt">in</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">1</span><span class="p p-Indicator">,</span> <span class="nv">6</span> <span class="p p-Indicator">]</span> <span class="c1"># no match</span>
<span class="nt">in</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">8</span><span class="p p-Indicator">,</span> <span class="nv">8</span> <span class="p p-Indicator">]</span> <span class="c1"># match</span>
</pre></div>
</div>
<p class="compound-middle">For IP Addresses, the value is a range. It can be specified as a string that can be parsed as
an IP range.</p>
<blockquote class="compound-middle">
<div><ul class="simple">
<li><p>single address - “172.16.23.8”</p></li>
<li><p>a CIDR network - “172.16.23.8/29”</p></li>
<li><p>two addresses separated by a dash - “172.16.23.8-172.16.23.15”</p></li>
</ul>
</div></blockquote>
<ul class="compound-last">
<li><p>A single value, repreenting a single value range.</p></li>
<li><p>A dash separated pair of IP addresses, representing an inclusive range. These are equivalent</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">in</span><span class="p">:</span> <span class="s">&quot;192.168.56.1-192.168.56.99&quot;</span>
<span class="nt">in</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">192.168.56.1</span><span class="p p-Indicator">,</span> <span class="nv">192.168.56.99</span> <span class="p p-Indicator">]</span>
</pre></div>
</div>
</li>
<li><p>A CIDR notation network, which is treated a range that contains exactly the network. These are
equivalent</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">in</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">172.16.23.0</span> <span class="p p-Indicator">,</span> <span class="nv">172.16.23.127</span> <span class="p p-Indicator">]</span>
<span class="nt">in</span><span class="p">:</span> <span class="s">&quot;172.16.23.0-127.16.23.127&quot;</span>
<span class="nt">in</span><span class="p">:</span> <span class="s">&quot;172.16.23.0/25&quot;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="boolean-comparisons">
<h3>Boolean Comparisons<a class="headerlink" href="#boolean-comparisons" title="Permalink to this headline">¶</a></h3>
<dl class="comparison">
<dt class="comparison-title" id="is-true">
<code class="descname">is-true</code><a class="headerlink" href="#is-true" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Matches if the active feature is a boolen that has the value <code class="docutils literal notranslate"><span class="pre">true</span></code>. The value, if any, is ignored.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="is-false">
<code class="descname">is-false</code><a class="headerlink" href="#is-false" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Matches if the active feature is a boolen that has the value <code class="docutils literal notranslate"><span class="pre">false</span></code>. The value, if any, is ignored.</p>
</div>
</div>
<div class="section" id="compound-comparisons">
<h3>Compound Comparisons<a class="headerlink" href="#compound-comparisons" title="Permalink to this headline">¶</a></h3>
<p>These comparisons do not directly compare values. They combine or change other comparisons.</p>
<div class="section" id="combining-comparisons">
<h4>Combining Comparisons<a class="headerlink" href="#combining-comparisons" title="Permalink to this headline">¶</a></h4>
<p>These combine the results of other comparisons.</p>
<dl class="comparison">
<dt class="comparison-title" id="any-of">
<code class="descname">any-of</code><a class="headerlink" href="#any-of" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Given a list of comparisons, this comparison succeeds if <em>any</em> of the comparisons in the list
succeed. This is another term for “or”. This stops doing comparisons in the list as soon as one
succeeds.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="all-of">
<code class="descname">all-of</code><a class="headerlink" href="#all-of" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Given a list of comparisons, this comparison succeeds if <em>all</em> of the comparisons in the list
succeed. This is another term for “and”. This stops doing comparisons in the list as soon as one
does not succeed.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="none-of">
<code class="descname">none-of</code><a class="headerlink" href="#none-of" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p class="compound-first">Given a list of comparisons, this comparison succeeds if <em>none</em> of the comparisons in the list
succeed. This stops as doing comparisons as soon as one succeeds.</p>
<p class="compound-middle">This serves as the “not” comparison if the list is of length 1. For instance, if the goal was to
set the field “Best-Band” in proxy requests where the “App” field does <strong>not</strong> match a specific
regular expression</p>
<div class="compound-middle highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">with</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">proxy-req-field&lt;App&gt;</span>
<span class="nt">select</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">none-of</span><span class="p">:</span>
  <span class="p p-Indicator">-</span>  <span class="nt">rxp</span><span class="p">:</span> <span class="s">&quot;^channel=(?:(?:.*</span><span class="nv"> </span><span class="s">metal)|(?:.*symphonic.*))&quot;</span>
  <span class="nt">do</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">proxy-req-field&lt;Best-Band&gt;</span><span class="p">:</span> <span class="s">&quot;Delain&quot;</span>
</pre></div>
</div>
<p class="compound-last">This could be done as a “negative regular expression” but those are tricky to write, slow, and
can create stack explosions. This approach is more robust and faster. Note the <code class="docutils literal notranslate"><span class="pre">do</span></code> is
attached to the <code class="docutils literal notranslate"><span class="pre">none-of</span></code>. If attached to <code class="docutils literal notranslate"><span class="pre">rxp</span></code> those directives would trigger on the <code class="docutils literal notranslate"><span class="pre">rxp</span></code>
succeeding, not on it failing.</p>
</div>
</div>
<div class="section" id="tuple-comparisons">
<h4>Tuple Comparisons<a class="headerlink" href="#tuple-comparisons" title="Permalink to this headline">¶</a></h4>
<p>These comparisons are compound in that they do not directly compare values but take other
comparisons and apply those. They are intended for use on tuples or lists of values. The “for-…”
comparisons treat the tuple as a homogenous list where the same comparison is used on every element.
<code class="code docutils literal notranslate"><span class="pre">as-tuple</span></code> is for heterogenous lists where the different comparisons are used on different
elements of the tuple.</p>
<dl class="comparison">
<dt class="comparison-title" id="for-any">
<code class="descname">for-any</code><a class="headerlink" href="#for-any" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>The value must be another comparison. The comparison is applied to every element of the tuple and
the comparison is successful if nested comparison is successful for any element of the tuple.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="for-all">
<code class="descname">for-all</code><a class="headerlink" href="#for-all" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>The value must be another comparison. The comparison is applied to every element of the tuple and
the comparison is successful if nested comparison is successful for every element of the tuple.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="for-none">
<code class="descname">for-none</code><a class="headerlink" href="#for-none" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>The value must be another comparison. The comparison is applied to every element of the tuple and
the comparison is successful if nested comparison is successful for no elements of the tuple.</p>
</div>
<dl class="comparison">
<dt class="comparison-title" id="as-tuple">
<code class="descname">as-tuple</code><a class="headerlink" href="#as-tuple" title="Permalink to this definition">¶</a></dt>
</dl>

<dl class="field-list simple">
</dl>
<div class="compound">
<p>Compare a tuple as a tuple. This requires a list of comparison which are applied to the tuple
elements in the same order. The list may be a different length than the tuple, in which case
the excess elements (tuple values or comparisons) are ignored.</p>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ModifierReference.en.html" class="btn btn-neutral float-right" title="Modifier Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="DirectiveReference.en.html" class="btn btn-neutral float-left" title="Directive Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Verizon Media.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>