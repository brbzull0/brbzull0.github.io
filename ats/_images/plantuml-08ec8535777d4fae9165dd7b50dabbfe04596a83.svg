<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="894px" preserveAspectRatio="none" style="width:497px;height:894px;" version="1.1" viewBox="0 0 497 894" width="497px" zoomAndPan="magnify"><defs><filter height="300%" id="fjrcr5mirqfk0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#87CEEB" filter="url(#fjrcr5mirqfk0)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="221" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="221" x2="347" y1="115.2969" y2="115.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="265.5" y="106.9951">kSize</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="226" y="131.4355">Accumulate size_</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="226" y="145.4043">from hex input.</text><ellipse cx="284" cy="18" fill="#000000" filter="url(#fjrcr5mirqfk0)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#87CEEB" filter="url(#fjrcr5mirqfk0)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="49" y="230"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="49" x2="181" y1="256.2969" y2="256.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="90" y="247.9951">kDataN</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="54" y="272.4355">ASSERT(size_ &gt; 0)</text><rect fill="#87CEEB" filter="url(#fjrcr5mirqfk0)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="290.5" y="625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="290.5" x2="355.5" y1="651.2969" y2="651.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="300.5" y="642.9951">kEndN</text><rect fill="#FEFECE" filter="url(#fjrcr5mirqfk0)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="188" y="752"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="188" x2="258" y1="778.2969" y2="778.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="198" y="769.9951">kInvalid</text><rect fill="#FEFECE" filter="url(#fjrcr5mirqfk0)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="59.5" y="357"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="59.5" x2="170.5" y1="383.2969" y2="383.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="95" y="374.9951">kData</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="64.5" y="399.4355">Consume size_</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="64.5" y="413.4043">bytes of input.</text><rect fill="#FEFECE" filter="url(#fjrcr5mirqfk0)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="294.5" y="752"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="349.5" y1="778.2969" y2="778.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="304.5" y="769.9951">kEnd</text><rect fill="#87CEEB" filter="url(#fjrcr5mirqfk0)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="107.5" y="498"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="107.5" x2="174.5" y1="524.2969" y2="524.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="117.5" y="515.9951">kSizeR</text><rect fill="#87CEEB" filter="url(#fjrcr5mirqfk0)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="188.5" y="625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="188.5" x2="255.5" y1="651.2969" y2="651.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="198.5" y="642.9951">kSizeN</text><ellipse cx="271" cy="873" fill="none" filter="url(#fjrcr5mirqfk0)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="271.5" cy="873.5" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start to kSize--><path d="M284,28.32 C284,40.78 284,63.6 284,83.35 " fill="none" id="*start-kSize" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="284,88.56,288,79.56,284,83.56,280,79.56,284,88.56" style="stroke: #A80036; stroke-width: 1.0;"/><!--link kSize to kSize--><path d="M347.15,109.39 C366.67,109.62 382,113.49 382,121 C382,127.8 369.41,131.62 352.52,132.45 " fill="none" id="kSize-kSize" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="347.15,132.61,356.2606,136.3513,352.148,132.4672,356.0321,128.3546,347.15,132.61" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="388" y="125.5669">hex digit</text><!--link kSize to kDataN--><path d="M220.7,133.6 C190.17,142.31 155.4,157.33 133,183 C123.02,194.43 118.43,210.64 116.38,224.68 " fill="none" id="kSize-kDataN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="115.73,229.74,120.8304,221.3147,116.359,224.7797,112.8939,220.3083,115.73,229.74" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="134" y="196.0669">CR,size_ &gt; 0</text><!--link kSize to kEndN--><path d="M300.26,153.08 C312.43,179.26 327,218.09 327,254 C327,254 327,254 327,524 C327,556.64 325.62,594.04 324.48,619.36 " fill="none" id="kSize-kEndN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="324.24,624.58,328.6468,615.7721,324.4683,619.5852,320.6552,615.4067,324.24,624.58" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="328" y="393.5669">CR, size_ == 0</text><!--link kSize to kInvalid--><path d="M347.2,137.02 C403.48,154.61 477,189.86 477,254 C477,254 477,254 477,651 C477,750.58 368.27,712.16 277,752 C272.42,754 267.62,756.11 262.86,758.21 " fill="none" id="kSize-kInvalid" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="258.12,760.31,267.9689,760.3157,262.6902,758.282,264.724,753.0033,258.12,760.31" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="478" y="464.0669">*</text><!--link kDataN to kData--><path d="M115,280.21 C115,300.28 115,329.1 115,351.89 " fill="none" id="kDataN-kData" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="115,356.95,119,347.95,115,351.95,111,347.95,115,356.95" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="116" y="323.0669">LF</text><!--link kDataN to kInvalid--><path d="M77.18,280.14 C45.7,303.51 6,342.08 6,388 C6,388 6,388 6,651 C6,731.56 119.68,760.99 182.48,771.1 " fill="none" id="kDataN-kInvalid" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="187.65,771.9,179.3745,766.56,182.7098,771.129,178.1408,774.4643,187.65,771.9" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="7" y="527.5669">*</text><!--link kEndN to kEnd--><path d="M322.81,675.1 C322.64,695.59 322.41,725.08 322.23,746.88 " fill="none" id="kEndN-kEnd" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="322.19,751.97,326.267,743.0046,322.2329,746.9702,318.2673,742.936,322.19,751.97" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="324" y="718.0669">LF</text><!--link kEndN to kInvalid--><path d="M303.72,675.1 C287.05,695.94 262.94,726.07 245.41,747.98 " fill="none" id="kEndN-kInvalid" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="242.22,751.97,250.9617,747.4331,245.34,748.0629,244.7103,742.4412,242.22,751.97" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="280" y="718.0669">*</text><!--link kData to kSizeR--><path d="M108.46,421.2 C106.58,435.65 105.98,452.92 110,468 C112.35,476.81 116.52,485.68 121.05,493.61 " fill="none" id="kData-kSizeR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="123.6,497.92,122.4378,488.14,121.0443,493.6225,115.5618,492.229,123.6,497.92" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="111" y="464.0669">Input consumed</text><!--link kSizeR to kSizeN--><path d="M156.62,548.1 C170.06,568.85 189.49,598.82 203.67,620.71 " fill="none" id="kSizeR-kSizeN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206.43,624.97,204.8812,615.2437,203.7061,620.7771,198.1726,619.602,206.43,624.97" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="188" y="591.0669">CR</text><!--link kSizeR to kInvalid--><path d="M141.39,548.24 C142.54,578.68 146.79,632.09 162,675 C171.29,701.21 187.88,728.02 201.41,747.42 " fill="none" id="kSizeR-kInvalid" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="204.43,751.7,202.5051,742.0411,201.5455,747.616,195.9706,746.6563,204.43,751.7" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="163" y="654.5669">*</text><!--link kSizeN to kSize--><path d="M227.91,624.73 C233.49,599.67 241,559.34 241,524 C241,254 241,254 241,254 C241,220.19 253.91,183.8 265.58,157.81 " fill="none" id="kSizeN-kSize" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="267.74,153.08,260.3574,159.599,265.6592,157.6264,267.6317,162.9283,267.74,153.08" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="242" y="393.5669">LF</text><!--link kSizeN to kInvalid--><path d="M222.19,675.1 C222.36,695.59 222.59,725.08 222.77,746.88 " fill="none" id="kSizeN-kInvalid" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="222.81,751.97,226.7327,742.936,222.7671,746.9702,218.733,743.0046,222.81,751.97" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="224" y="718.0669">*</text><!--link kInvalid to *end--><path d="M235.36,802.21 C244.64,820.39 256.99,844.57 264.45,859.18 " fill="none" id="kInvalid-*end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="266.78,863.74,266.2574,853.905,264.5097,859.2851,259.1296,857.5374,266.78,863.74" style="stroke: #A80036; stroke-width: 1.0;"/><!--link kEnd to *end--><path d="M308.87,802.21 C299,820.39 285.88,844.57 277.96,859.18 " fill="none" id="kEnd-*end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="275.48,863.74,283.2862,857.7348,277.8633,859.3445,276.2535,853.9216,275.48,863.74" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

skinparam state {
   backgroundColor<<SIZE_STATE>> SkyBlue
}

state kSize <<SIZE_STATE>>
kSize : Accumulate size_\nfrom hex input.
[*] - -> kSize
kSize - -> kSize : hex digit
kSize - -> kDataN : CR,size_ > 0
kSize - -> kEndN : CR, size_ == 0
kSize - -> kInvalid : *

state kDataN <<SIZE_STATE>>
kDataN - -> kData : LF
kDataN - -> kInvalid : *
kDataN : ASSERT(size_ > 0)

state kEndN <<SIZE_STATE>>
kEndN - -> kEnd : LF
kEndN - -> kInvalid : *

kData : Consume size_\nbytes of input.
kData - -> kSizeR : Input consumed

state kSizeR <<SIZE_STATE>>
kSizeR - -> kSizeN : CR
kSizeR - -> kInvalid : *

state kSizeN <<SIZE_STATE>>
kSizeN - -> kSize : LF
kSizeN - -> kInvalid : *

kInvalid - -> [*]
kEnd - -> [*]
@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 GMT 2018)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+11
Operating System: Linux
OS Version: 5.10.7-200.fc33.x86_64
Default Encoding: UTF-8
Language: en
Country: IE
--></g></svg>