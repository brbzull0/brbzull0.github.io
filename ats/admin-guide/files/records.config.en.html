


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>records.config &mdash; Apache Traffic Server 10.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/override.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="remap.config" href="remap.config.en.html" />
    <link rel="prev" title="plugin.config" href="plugin.config.en.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Apache Traffic Server
          

          
            
            <img src="../../_static/trans_logo_tm_380x69.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.en.html">Administrator’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.en.html">Installing Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.en.html">Proxy Cache Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interaction/index.en.html">Interacting with Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/index.en.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.en.html">Cache Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.en.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.en.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.en.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuring-traffic-server.en.html">Configuring Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layer-4-routing.en.html">Layer 4 Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance/index.en.html">Performance Tuning</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.en.html">Configuration Files</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cache.config.en.html">cache.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="hosting.config.en.html">hosting.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="ip_allow.yaml.en.html">ip_allow.yaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="logging.yaml.en.html">logging.yaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="parent.config.en.html">parent.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin.config.en.html">plugin.config</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">records.config</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#format">Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-overrides">Environment Overrides</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-variables">Configuration Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network">Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#local-manager">Local Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alarm-configuration">Alarm Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#http-engine">HTTP Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parent-proxy-configuration">Parent Proxy Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#http-connection-timeouts">HTTP Connection Timeouts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#http-redirection">HTTP Redirection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#origin-server-connect-attempts">Origin Server Connect Attempts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#congestion-control">Congestion Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="#negative-response-caching">Negative Response Caching</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxy-user-variables">Proxy User Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security">Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cache-control">Cache Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ram-cache">RAM Cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#heuristic-expiration">Heuristic Expiration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-content-content-negotiation">Dynamic Content &amp; Content Negotiation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#customizable-user-response-pages">Customizable User Response Pages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dns">DNS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hostdb">HostDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-configuration">Logging Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diagnostic-logging-configuration">Diagnostic Logging Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reverse-proxy">Reverse Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#url-remap-rules">URL Remap Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ssl-termination">SSL Termination</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ocsp-stapling-configuration">OCSP Stapling Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#http-2-configuration">HTTP/2 Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#http-3-configuration">HTTP/3 Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quic-configuration">QUIC Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plug-in-configuration">Plug-in Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#socks-processor">SOCKS Processor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sockets">Sockets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="remap.config.en.html">remap.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="splitdns.config.en.html">splitdns.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="ssl_multicert.config.en.html">ssl_multicert.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="sni.yaml.en.html">sni.yaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="storage.config.en.html">storage.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="strategies.yaml.en.html">strategies.yaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="volume.config.en.html">volume.config</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../jsonrpc/index.en.html">JSONRPC API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.en.html#audience">Audience</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer-guide/index.en.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/index.en.html">Appendices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Apache Traffic Server</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.en.html">Administrator’s Guide</a> &raquo;</li>
        
          <li><a href="index.en.html">Configuration Files</a> &raquo;</li>
        
      <li>records.config</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/admin-guide/files/records.config.en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="records-config">
<span id="std:configfile-records.config"></span><h1>records.config<a class="headerlink" href="#records-config" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> file (by default, located in
<code class="docutils literal notranslate"><span class="pre">/usr/local/etc/trafficserver/</span></code>) is a list of configurable variables used by
the Traffic Server software. Many of the variables in <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> are set
automatically when you set configuration options with <a class="reference internal" href="../../appendices/command-line/traffic_ctl.en.html#cmdoption-traffic-ctl-config-arg-set"><code class="xref std std-option docutils literal notranslate"><span class="pre">traffic_ctl</span> <span class="pre">config</span> <span class="pre">set</span></code></a>. After you
modify <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a>, run the command <a class="reference internal" href="../../appendices/command-line/traffic_ctl.en.html#cmdoption-traffic-ctl-config-arg-reload"><code class="xref std std-option docutils literal notranslate"><span class="pre">traffic_ctl</span> <span class="pre">config</span> <span class="pre">reload</span></code></a>
to apply the changes.</p>
<p>Note: The configuration directory, containing the <code class="docutils literal notranslate"><span class="pre">SYSCONFDIR</span></code> value specified at build time
relative to the installation prefix, contains Traffic Server configuration files.
The <code class="docutils literal notranslate"><span class="pre">$TS_ROOT</span></code> environment variable can be used alter the installation prefix at run time.
The directory must allow read/write access for configuration reloads.</p>
<div class="section" id="format">
<h2>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h2>
<p>Each variable has the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">variable_name</span> <span class="n">DATATYPE</span> <span class="n">variable_value</span>
</pre></div>
</div>
<div class="section" id="data-type">
<h3>Data Type<a class="headerlink" href="#data-type" title="Permalink to this headline">¶</a></h3>
<p>A variable’s type is defined by the <code class="docutils literal notranslate"><span class="pre">DATATYPE</span></code> and must be one of:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">FLOAT</span></code></td>
<td>Floating point, expressed as a decimal number without units or
exponents.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">INT</span></code></td>
<td>Integers, expressed with or without unit prefixes (as described
below).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">STRING</span></code></td>
<td>String of characters up to the first newline. No quoting necessary.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="values">
<h3>Values<a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h3>
<p>The <em>variable_value</em> must conform to the variable’s type. For <code class="docutils literal notranslate"><span class="pre">STRING</span></code>, this
is simply any character data until the first newline.</p>
<p>For integer (<code class="docutils literal notranslate"><span class="pre">INT</span></code>) variables, values are expressed as any normal integer,
e.g. <code class="docutils literal notranslate"><span class="pre">32768</span></code>. They can also be expressed using more human readable values
using standard unit prefixes, e.g. <code class="docutils literal notranslate"><span class="pre">32K</span></code>. The following prefixes are
supported for all <code class="docutils literal notranslate"><span class="pre">INT</span></code> type configurations:</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="16%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Prefix</th>
<th class="head">Description</th>
<th class="head">Equivalent in Bytes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">K</span></code></td>
<td>Kilobytes</td>
<td>1,024 bytes</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">M</span></code></td>
<td>Megabytes</td>
<td>1,048,576 bytes (1024<sup>2</sup>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">G</span></code></td>
<td>Gigabytes</td>
<td>1,073,741,824 bytes (1024<sup>3</sup>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">T</span></code></td>
<td>Terabytes</td>
<td>1,099,511,627,776 bytes (1024<sup>4</sup>)</td>
</tr>
</tbody>
</table>
<p>Floating point variables (<code class="docutils literal notranslate"><span class="pre">FLOAT</span></code>) must be expressed as a regular decimal
number. Unit prefixes are not supported, nor are alternate notations (scientific,
exponent, etc.).</p>
</div>
<div class="section" id="additional-attributes">
<h3>Additional Attributes<a class="headerlink" href="#additional-attributes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="deprecated">
<h4>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h4>
<p>A variable marked as <em>Deprecated</em> is still functional but should be avoided
as it may be removed in a future release without warning.</p>
</div>
<div class="section" id="reloadable">
<h4>Reloadable<a class="headerlink" href="#reloadable" title="Permalink to this headline">¶</a></h4>
<p>A variable marked as <em>Reloadable</em> can be updated via the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">traffic_ctl</span> <span class="n">config</span> <span class="n">reload</span>
</pre></div>
</div>
<p>This updates configuration parameters without restarting Traffic Server or interrupting
the processing of requests.</p>
</div>
<div class="section" id="overridable">
<h4>Overridable<a class="headerlink" href="#overridable" title="Permalink to this headline">¶</a></h4>
<p>A variable marked as <em>Overridable</em> can be changed on a per-remap basis using
plugins (like the <a class="reference internal" href="../plugins/conf_remap.en.html#admin-plugins-conf-remap"><span class="std std-ref">Configuration Remap Plugin</span></a>), affecting operations within
the current transaction only.</p>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>In the following example, the variable <a class="reference internal" href="#proxy.config.proxy_name">proxy.config.proxy_name</a> is
a <code class="docutils literal notranslate"><span class="pre">STRING</span></code> datatype with the value <code class="docutils literal notranslate"><span class="pre">my_server</span></code>. This means that the
name of the Traffic Server proxy is <code class="docutils literal notranslate"><span class="pre">my_server</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">proxy_name</span> <span class="n">STRING</span> <span class="n">my_server</span>
</pre></div>
</div>
<p>If the server name should be <code class="docutils literal notranslate"><span class="pre">that_server</span></code> the line would be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">proxy_name</span> <span class="n">STRING</span> <span class="n">that_server</span>
</pre></div>
</div>
<p>In the following example, the variable <code class="docutils literal notranslate"><span class="pre">proxy.config.arm.enabled</span></code> is
a yes/no flag. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> (zero) disables the option; a value of
<code class="docutils literal notranslate"><span class="pre">1</span></code> enables the option.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">arm</span><span class="o">.</span><span class="n">enabled</span> <span class="n">INT</span> <span class="mi">0</span>
</pre></div>
</div>
<p>In the following example, the variable sets the time to wait for a
DNS response to 10 seconds.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">hostdb</span><span class="o">.</span><span class="n">lookup_timeout</span> <span class="n">INT</span> <span class="mi">10</span>
</pre></div>
</div>
<p>The last examples configures a 64GB RAM cache, using a human readable
prefix.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">ram_cache</span><span class="o">.</span><span class="n">size</span> <span class="n">INT</span> <span class="mi">64</span><span class="n">G</span>
</pre></div>
</div>
</div>
<div class="section" id="environment-overrides">
<h2>Environment Overrides<a class="headerlink" href="#environment-overrides" title="Permalink to this headline">¶</a></h2>
<p>Every <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> configuration variable can be overridden
by a corresponding environment variable. This can be useful in
situations where you need a static <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> but still
want to tweak one or two settings. The override variable is formed
by converting the <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> variable name to upper
case, and replacing any dot separators with an underscore.</p>
<p>Overriding a variable from the environment is permanent and will
not be affected by future configuration changes made in
<a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> or applied with <strong class="program">traffic_ctl</strong>.</p>
<p>For example, we could override the <a class="reference internal" href="#proxy.config.product_company">proxy.config.product_company</a> variable
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ PROXY_CONFIG_PRODUCT_COMPANY=example traffic_manager &amp;
$ traffic_ctl config get proxy.config.product_company
</pre></div>
</div>
</div>
<div class="section" id="configuration-variables">
<span id="id1"></span><h2>Configuration Variables<a class="headerlink" href="#configuration-variables" title="Permalink to this headline">¶</a></h2>
<p>The following list describes the configuration variables available in
the <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> file.</p>
<div class="section" id="system-variables">
<h3>System Variables<a class="headerlink" href="#system-variables" title="Permalink to this headline">¶</a></h3>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-product-company">
<span id="proxy.config.product_company"></span><code class="descname">proxy.config.product_company</code><a class="headerlink" href="#proxy-config-product-company" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">Apache Software Foundation</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of the organization developing Traffic Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-product-vendor">
<span id="proxy.config.product_vendor"></span><code class="descname">proxy.config.product_vendor</code><a class="headerlink" href="#proxy-config-product-vendor" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">Apache</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of the vendor providing Traffic Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-product-name">
<span id="proxy.config.product_name"></span><code class="descname">proxy.config.product_name</code><a class="headerlink" href="#proxy-config-product-name" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">|TS|</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of the product.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-proxy-name">
<span id="proxy.config.proxy_name"></span><code class="descname">proxy.config.proxy_name</code><a class="headerlink" href="#proxy-config-proxy-name" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">build_machine</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of the Traffic Server node.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-bin-path">
<span id="proxy.config.bin_path"></span><code class="descname">proxy.config.bin_path</code><a class="headerlink" href="#proxy-config-bin-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">bin</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The location of the Traffic Server <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-proxy-binary">
<span id="proxy.config.proxy_binary"></span><code class="descname">proxy.config.proxy_binary</code><a class="headerlink" href="#proxy-config-proxy-binary" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">traffic_server</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of the executable that runs the <strong class="program">traffic_server</strong> process.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-proxy-binary-opts">
<span id="proxy.config.proxy_binary_opts"></span><code class="descname">proxy.config.proxy_binary_opts</code><a class="headerlink" href="#proxy-config-proxy-binary-opts" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-M</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The <a class="reference internal" href="../../appendices/command-line/traffic_server.en.html#traffic-server"><span class="std std-ref">command-line options</span></a> for starting Traffic Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-manager-binary">
<span id="proxy.config.manager_binary"></span><code class="descname">proxy.config.manager_binary</code><a class="headerlink" href="#proxy-config-manager-binary" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">traffic_manager</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of the executable that runs the <strong class="program">traffic_manager</strong> process.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-env-prep">
<span id="proxy.config.env_prep"></span><code class="descname">proxy.config.env_prep</code><a class="headerlink" href="#proxy-config-env-prep" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><em class="first last">*NONE*</em></td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The script executed before the <strong class="program">traffic_manager</strong> process spawns
the <strong class="program">traffic_server</strong> process.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-syslog-facility">
<span id="proxy.config.syslog_facility"></span><code class="descname">proxy.config.syslog_facility</code><a class="headerlink" href="#proxy-config-syslog-facility" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">LOG_DAEMON</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The facility used to record system log files. Refer to
<a class="reference internal" href="../logging/understanding.en.html#admin-logging-understanding"><span class="std std-ref">Understanding Traffic Server Logs</span></a> for more in-depth discussion
of the contents and interpretations of log files.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-output-logfile">
<span id="proxy.config.output.logfile"></span><code class="descname">proxy.config.output.logfile</code><a class="headerlink" href="#proxy-config-output-logfile" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">traffic.out</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name and location of the file that contains warnings, status messages, and error messages produced by the Traffic Server
processes. If no path is specified, then Traffic Server creates the file in its logging directory.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-output-logfile-perm">
<span id="proxy.config.output.logfile_perm"></span><code class="descname">proxy.config.output.logfile_perm</code><a class="headerlink" href="#proxy-config-output-logfile-perm" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">rw-r–r–</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The log file permissions. The standard UNIX file permissions are used (owner, group, other). Permissible values are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-</span></code></td>
<td>No permissions.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">r</span></code></td>
<td>Read permission.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">w</span></code></td>
<td>Write permission.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">x</span></code></td>
<td>Execute permission.</td>
</tr>
</tbody>
</table>
<p class="compound-last">Permissions are subject to the umask settings for the Traffic Server process. This
means that a umask setting of <code class="docutils literal notranslate"><span class="pre">002</span></code> will not allow write permission for
others, even if specified in the configuration file. Permissions for
existing log files are not changed when the configuration is modified.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-output-logfile-rolling-enabled">
<span id="proxy.config.output.logfile.rolling_enabled"></span><code class="descname">proxy.config.output.logfile.rolling_enabled</code><a class="headerlink" href="#proxy-config-output-logfile-rolling-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how the output log is rolled. You can specify the following values:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disables output log rolling.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enables output log rolling at specific intervals (specified with the
<a class="reference internal" href="#proxy-config-output-logfile-rolling-interval-sec" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.output.logfile.rolling_interval_sec</span></code></a> variable).
The clock starts ticking on Traffic Server boot.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Enables output log rolling when the output log reaches a specific size
(specified with <a class="reference internal" href="#proxy-config-output-logfile-rolling-size-mb" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.output.logfile.rolling_size_mb</span></code></a>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Enables output log rolling at specific intervals or when the output log
reaches a specific size (whichever occurs first).</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-output-logfile-rolling-interval-sec">
<span id="proxy.config.output.logfile.rolling_interval_sec"></span><code class="descname">proxy.config.output.logfile.rolling_interval_sec</code><a class="headerlink" href="#proxy-config-output-logfile-rolling-interval-sec" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3600</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how often the output log is rolled, in seconds. The timer starts on Traffic Server startup.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-output-logfile-rolling-size-mb">
<span id="proxy.config.output.logfile.rolling_size_mb"></span><code class="descname">proxy.config.output.logfile.rolling_size_mb</code><a class="headerlink" href="#proxy-config-output-logfile-rolling-size-mb" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">megabytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies at what size to roll the output log at.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-output-logfile-rolling-min-count">
<span id="proxy.config.output.logfile.rolling_min_count"></span><code class="descname">proxy.config.output.logfile.rolling_min_count</code><a class="headerlink" href="#proxy-config-output-logfile-rolling-min-count" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the minimum count of rolled output logs to keep. This value will be used to decide the
order of auto-deletion (if enabled). A default value of 0 means auto-deletion will try to keep
output logs as much as possible. See <a class="reference internal" href="../logging/rotation.en.html"><span class="doc">Log Rotation and Retention</span></a> for guidance.</p>
</div>
</div>
<div class="section" id="thread-variables">
<h3>Thread Variables<a class="headerlink" href="#thread-variables" title="Permalink to this headline">¶</a></h3>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-exec-thread-autoconfig">
<span id="proxy.config.exec_thread.autoconfig"></span><code class="descname">proxy.config.exec_thread.autoconfig</code><a class="headerlink" href="#proxy-config-exec-thread-autoconfig" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (the default, <code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server scales threads according to the
available CPU cores. See the config option below.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-exec-thread-autoconfig-scale">
<span id="proxy.config.exec_thread.autoconfig.scale"></span><code class="descname">proxy.config.exec_thread.autoconfig.scale</code><a class="headerlink" href="#proxy-config-exec-thread-autoconfig-scale" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1.0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Factor by which Traffic Server scales the number of threads. The multiplier is usually
the number of available CPU cores. By default this is scaling factor is
<code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-exec-thread-limit">
<span id="proxy.config.exec_thread.limit"></span><code class="descname">proxy.config.exec_thread.limit</code><a class="headerlink" href="#proxy-config-exec-thread-limit" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The number of threads Traffic Server will create if <cite>proxy.config.exec_thread.autoconfig</cite>
is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, otherwise this option is ignored.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-exec-thread-listen">
<span id="proxy.config.exec_thread.listen"></span><code class="descname">proxy.config.exec_thread.listen</code><a class="headerlink" href="#proxy-config-exec-thread-listen" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>) all the exec_threads listen for incoming connections. <cite>proxy.config.accept_threads</cite>
should be disabled to enable this variable.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-accept-threads">
<span id="proxy.config.accept_threads"></span><code class="descname">proxy.config.accept_threads</code><a class="headerlink" href="#proxy-config-accept-threads" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The number of accept threads. If disabled (<code class="docutils literal notranslate"><span class="pre">0</span></code>), then accepts will be done
in each of the worker threads.</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="10%" />
<col width="11%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">accept_threads</th>
<th class="head">exec_thread.listen</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>All worker threads accept new connections and share listen fd.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>New connections are accepted on a dedicated accept thread and distributed to worker threads in round robin fashion.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>All worker threads listen on the same port using SO_REUSEPORT. Each thread has its own listen fd and new connections are accepted on all the threads.</td>
</tr>
</tbody>
</table>
<p class="compound-last">By default, <cite>proxy.config.accept_threads</cite> is set to 1 and <cite>proxy.config.exec_thread.listen</cite> is set to 0.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-thread-default-stacksize">
<span id="proxy.config.thread.default.stacksize"></span><code class="descname">proxy.config.thread.default.stacksize</code><a class="headerlink" href="#proxy-config-thread-default-stacksize" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1048576</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Default thread stack size, in bytes, for all threads (default is 1 MB).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-exec-thread-affinity">
<span id="proxy.config.exec_thread.affinity"></span><code class="descname">proxy.config.exec_thread.affinity</code><a class="headerlink" href="#proxy-config-exec-thread-affinity" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Bind threads to specific processing units.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Assign threads to machine.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Assign threads to NUMA nodes [default].</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Assign threads to sockets.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Assign threads to cores.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td>Assign threads to processing units.</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option only has an affect when Traffic Server has been compiled with <code class="docutils literal notranslate"><span class="pre">--enable-hwloc</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-system-file-max-pct">
<span id="proxy.config.system.file_max_pct"></span><code class="descname">proxy.config.system.file_max_pct</code><a class="headerlink" href="#proxy-config-system-file-max-pct" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.9</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set the maximum number of file handles for the traffic_server process as a percentage of the fs.file-max proc value in Linux. The default is 90%.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-crash-log-helper">
<span id="proxy.config.crash_log_helper"></span><code class="descname">proxy.config.crash_log_helper</code><a class="headerlink" href="#proxy-config-crash-log-helper" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">traffic_crashlog</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This option directs <strong class="program">traffic_server</strong> to spawn a crash
log helper at startup. The value should be the path to an
executable program. If the path is not absolute, it is located
relative to configured <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory.  Any user-provided
program specified here must behave in a fashion compatible with
<strong class="program">traffic_crashlog</strong>. Specifically, it must implement
the <a class="reference internal" href="../../appendices/command-line/traffic_crashlog.en.html#cmdoption-traffic-crashlog-wait"><code class="xref std std-option docutils literal notranslate"><span class="pre">traffic_crashlog</span> <span class="pre">--wait</span></code></a> behavior.</p>
<p class="compound-last">This setting not reloadable because the helper must be spawned
before <strong class="program">traffic_server</strong> drops privilege. If this variable
is set to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, no helper will be spawned.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-restart-active-client-threshold">
<span id="proxy.config.restart.active_client_threshold"></span><code class="descname">proxy.config.restart.active_client_threshold</code><a class="headerlink" href="#proxy-config-restart-active-client-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This setting specifies the number of active client connections
for use by <a class="reference internal" href="../../appendices/command-line/traffic_ctl.en.html#cmdoption-traffic-ctl-server-restart-drain"><code class="xref std std-option docutils literal notranslate"><span class="pre">traffic_ctl</span> <span class="pre">server</span> <span class="pre">restart</span> <span class="pre">--drain</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-restart-stop-listening">
<span id="proxy.config.restart.stop_listening"></span><code class="descname">proxy.config.restart.stop_listening</code><a class="headerlink" href="#proxy-config-restart-stop-listening" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This option specifies whether Traffic Server should close listening sockets while shutting down gracefully.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Listening sockets will be kept open.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Listening sockets will be closed when Traffic Server starts shutting down.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-stop-shutdown-timeout">
<span id="proxy.config.stop.shutdown_timeout"></span><code class="descname">proxy.config.stop.shutdown_timeout</code><a class="headerlink" href="#proxy-config-stop-shutdown-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The shutdown timeout(in seconds) to apply when stopping Traffic
Server, in which ATS can initiate graceful shutdowns. In order
to effect graceful shutdown, the value specified should be greater
than 0. Value of 0 will not effect an abrupt shutdown. Abrupt
shutdowns can be achieved with out specifying –drain;
(traffic_ctl server stop /restart). Stopping Traffic Server here means sending
<cite>traffic_server</cite> a signal either by <cite>bin/trafficserver stop</cite> or <cite>kill</cite>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-thread-max-heartbeat-mseconds">
<span id="proxy.config.thread.max_heartbeat_mseconds"></span><code class="descname">proxy.config.thread.max_heartbeat_mseconds</code><a class="headerlink" href="#proxy-config-thread-max-heartbeat-mseconds" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">60</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">milliseconds</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the maximum heartbeat in milliseconds for threads, ranges from 0 to 1000.</p>
<p class="compound-last">This controls the maximum amount of time the event loop will wait for I/O activity.
On a system that is not busy, this option can be set to a higher value to decrease
the spin around overhead. If experiencing unexpected delays, setting a lower value
should improve the situation. Note that this setting should only be used by expert
system tuners, and will not be beneficial with random fiddling.</p>
</div>
</div>
</div>
<div class="section" id="network">
<h2>Network<a class="headerlink" href="#network" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-connections-throttle">
<span id="proxy.config.net.connections_throttle"></span><code class="descname">proxy.config.net.connections_throttle</code><a class="headerlink" href="#proxy-config-net-connections-throttle" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30000</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The total number of client and origin server connections that the server
can handle simultaneously. This is in fact the max number of file
descriptors that the <strong class="program">traffic_server</strong> process can have open at any
given time. Roughly 10% of these connections are reserved for origin server
connections, i.e. from the default, only ~27,000 client connections can be
handled. This should be tuned according to your memory size, and expected
work load.  If this is set to 0, the throttling logic is disabled.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-max-connections-in">
<span id="proxy.config.net.max_connections_in"></span><code class="descname">proxy.config.net.max_connections_in</code><a class="headerlink" href="#proxy-config-net-max-connections-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30000</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The total number of client requests that Traffic Server can handle simultaneously.
This should be tuned according to your memory size, and expected work load
(network, cpu etc). This limit includes both idle (keep alive) connections
and active requests that Traffic Server can handle at any given instant. The delta
between <cite>proxy.config.net.max_connections_in</cite> and <cite>proxy.config.net.max_requests_in</cite>
is the amount of maximum idle (keepalive) connections Traffic Server will maintain.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-max-requests-in">
<span id="proxy.config.net.max_requests_in"></span><code class="descname">proxy.config.net.max_requests_in</code><a class="headerlink" href="#proxy-config-net-max-requests-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The total number of concurrent requests or active client connections
that the Traffic Server can handle simultaneously. This should be tuned according
to your memory size, and expected work load (network, cpu etc). When
set to 0, active request tracking is disabled and max requests has no
separate limit and the total connections follow <cite>proxy.config.net.connections_throttle</cite></p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-default-inactivity-timeout">
<span id="proxy.config.net.default_inactivity_timeout"></span><code class="descname">proxy.config.net.default_inactivity_timeout</code><a class="headerlink" href="#proxy-config-net-default-inactivity-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">86400</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The connection inactivity timeout (in seconds) to apply when
Traffic Server detects that no inactivity timeout has been applied
by the HTTP state machine. When this timeout is applied, the
<cite>proxy.process.net.default_inactivity_timeout_applied</cite> metric
is incremented.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-inactivity-check-frequency">
<span id="proxy.config.net.inactivity_check_frequency"></span><code class="descname">proxy.config.net.inactivity_check_frequency</code><a class="headerlink" href="#proxy-config-net-inactivity-check-frequency" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>How frequent (in seconds) to check for inactive connections. If you deal
with a lot of concurrent connections, increasing this setting can reduce
pressure on the system.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-local-incoming-ip-to-bind">
<span id="proxy.local.incoming_ip_to_bind"></span><code class="descname">proxy.local.incoming_ip_to_bind</code><a class="headerlink" href="#proxy-local-incoming-ip-to-bind" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">LOCAL</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.0.0.0 [::]</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Controls the global default IP addresses to which to bind proxy server
ports. The value is a space separated list of IP addresses, one per
supported IP address family (currently IPv4 and IPv6).</p>
<p class="compound-last">Unless explicitly specified in <a class="reference internal" href="#proxy-config-http-server-ports" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_ports</span></code></a>, the
server port will be bound to one of these addresses, selected by IP address
family. The built in default is any address. This is used if no address for
a family is specified. This setting is useful if most or all server ports
should be bound to the same address.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is ignored for inbound transparent server ports because they must be
able to accept connections on arbitrary IP addresses.</p>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Set the global default for IPv4 to <code class="docutils literal notranslate"><span class="pre">192.168.101.18</span></code> and leave the global
default for IPv6 as any address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LOCAL</span> <span class="n">proxy</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">incoming_ip_to_bind</span> <span class="n">STRING</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">101.18</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Set the global default for IPv4 to <code class="docutils literal notranslate"><span class="pre">191.68.101.18</span></code> and the global default
for IPv6 to <code class="docutils literal notranslate"><span class="pre">fc07:192:168:101::17</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LOCAL</span> <span class="n">proxy</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">incoming_ip_to_bind</span> <span class="n">STRING</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">101.18</span> <span class="p">[</span><span class="n">fc07</span><span class="p">:</span><span class="mi">192</span><span class="p">:</span><span class="mi">168</span><span class="p">:</span><span class="mi">101</span><span class="p">::</span><span class="mi">17</span><span class="p">]</span>
</pre></div>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-local-outgoing-ip-to-bind">
<span id="proxy.local.outgoing_ip_to_bind"></span><code class="descname">proxy.local.outgoing_ip_to_bind</code><a class="headerlink" href="#proxy-local-outgoing-ip-to-bind" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">LOCAL</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.0.0.0 [::]</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This controls the global default for the local IP address for outbound
connections to origin servers. The value is a list of space separated IP
addresses, one per supported IP address family (currently IPv4 and IPv6).</p>
<p class="compound-last">Unless explicitly specified in <a class="reference internal" href="#proxy-config-http-server-ports" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_ports</span></code></a>, one
of these addresses, selected by IP address family, will be used as the local
address for outbound connections. This setting is useful if most or all of
the server ports should use the same outbound IP addresses.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is ignored for outbound transparent ports as the local outbound address will be the same as the client local address.</p>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Set the default local outbound IP address for IPv4 connections to <code class="docutils literal notranslate"><span class="pre">192.168.101.18</span></code>.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LOCAL</span> <span class="n">proxy</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">outgoing_ip_to_bind</span> <span class="n">STRING</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">101.18</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Set the default local outbound IP address to <code class="docutils literal notranslate"><span class="pre">192.168.101.17</span></code> for IPv4 and <code class="docutils literal notranslate"><span class="pre">fc07:192:168:101::17</span></code> for IPv6.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LOCAL</span> <span class="n">proxy</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">outgoing_ip_to_bind</span> <span class="n">STRING</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">101.17</span> <span class="p">[</span><span class="n">fc07</span><span class="p">:</span><span class="mi">192</span><span class="p">:</span><span class="mi">168</span><span class="p">:</span><span class="mi">101</span><span class="p">::</span><span class="mi">17</span><span class="p">]</span>
</pre></div>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-event-period">
<span id="proxy.config.net.event_period"></span><code class="descname">proxy.config.net.event_period</code><a class="headerlink" href="#proxy-config-net-event-period" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>How often, in milli-seconds, to schedule IO event processing. This is
unlikely to be necessary to tune, and we discourage setting it to a value
smaller than 10ms (on Linux).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-accept-period">
<span id="proxy.config.net.accept_period"></span><code class="descname">proxy.config.net.accept_period</code><a class="headerlink" href="#proxy-config-net-accept-period" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>How often, in milli-seconds, to schedule accept() processing. This is
unlikely to be necessary to tune, and we discourage setting it to a value
smaller than 10ms (on Linux).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-retry-delay">
<span id="proxy.config.net.retry_delay"></span><code class="descname">proxy.config.net.retry_delay</code><a class="headerlink" href="#proxy-config-net-retry-delay" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>How long to wait until we retry various events that would otherwise block
the network processing threads (e.g. locks). We discourage setting this to
a value smaller than 10ms (on Linux).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-throttle-delay">
<span id="proxy.config.net.throttle_delay"></span><code class="descname">proxy.config.net.throttle_delay</code><a class="headerlink" href="#proxy-config-net-throttle-delay" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">50</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When we trigger a throttling scenario, this how long our accept() are delayed.</p>
</div>
</div>
<div class="section" id="local-manager">
<h2>Local Manager<a class="headerlink" href="#local-manager" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-admin-user-id">
<span id="proxy.config.admin.user_id"></span><code class="descname">proxy.config.admin.user_id</code><a class="headerlink" href="#proxy-config-admin-user-id" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">nobody</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Designates the non-privileged account to run the <strong class="program">traffic_server</strong>
process as, which also has the effect of setting ownership of configuration
and log files.</p>
<p class="compound-middle">If the user_id is prefixed with pound character (<code class="docutils literal notranslate"><span class="pre">#</span></code>),
the remainder of the string is considered to be a
<a class="reference external" href="http://en.wikipedia.org/wiki/User_identifier">numeric user identifier</a>.
If the value is set to <code class="docutils literal notranslate"><span class="pre">#-1</span></code>, Traffic Server will not change the user during startup.</p>
<div class="compound-last admonition important">
<p class="first admonition-title">Important</p>
<p>Attempting to set this option to <code class="docutils literal notranslate"><span class="pre">root</span></code> or <code class="docutils literal notranslate"><span class="pre">#0</span></code> is now forbidden, as
a measure to increase security. Doing so will cause a fatal failure upon
startup in <strong class="program">traffic_server</strong>. However, there are two ways to
bypass this restriction:</p>
<ul class="last simple">
<li>Specify <code class="docutils literal notranslate"><span class="pre">-DBIG_SECURITY_HOLE</span></code> in <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code> during compilation.</li>
<li>Set the <code class="docutils literal notranslate"><span class="pre">user_id=#-1</span></code> and start trafficserver as root.</li>
</ul>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-admin-api-restricted">
<span id="proxy.config.admin.api.restricted"></span><code class="descname">proxy.config.admin.api.restricted</code><a class="headerlink" href="#proxy-config-admin-api-restricted" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This setting specifies whether the management API should be restricted to
root processes. If this is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, then on platforms that support
passing process credentials, non-root processes will be allowed to make
read-only management API calls. Any management API calls that modify server
state (eg. setting a configuration variable) will still be restricted to
root processes.</p>
<p class="compound-last">This setting is not reloadable, since it is must be applied when
<strong class="program">traffic_manager</strong> initializes.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-node-config-manager-exponential-sleep-ceiling">
<span id="proxy.node.config.manager_exponential_sleep_ceiling"></span><code class="descname">proxy.node.config.manager_exponential_sleep_ceiling</code><a class="headerlink" href="#proxy-node-config-manager-exponential-sleep-ceiling" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">60</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>In case of <strong class="program">traffic_manager</strong> is unable to start <strong class="program">traffic_server</strong>,
this setting specifies the maximum amount of seconds that the <strong class="program">traffic_manager</strong>
process should wait until it tries again to restart <strong class="program">traffic_server</strong>.
In case of <strong class="program">traffic_manager</strong> failing to start <strong class="program">traffic_server</strong>, it will
retry exponentially until it reaches the ceiling time.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-node-config-manager-retry-cap">
<span id="proxy.node.config.manager_retry_cap"></span><code class="descname">proxy.node.config.manager_retry_cap</code><a class="headerlink" href="#proxy-node-config-manager-retry-cap" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">5</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This setting specifies the number of times that <strong class="program">traffic_manager</strong> will retry
to restart <strong class="program">traffic_server</strong> once the  maximum ceiling time is reached.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, no cap will take place.</p>
</div>
</div>
<div class="section" id="alarm-configuration">
<h2>Alarm Configuration<a class="headerlink" href="#alarm-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-alarm-abs-path">
<span id="proxy.config.alarm.abs_path"></span><code class="descname">proxy.config.alarm.abs_path</code><a class="headerlink" href="#proxy-config-alarm-abs-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The absolute path to the directory containing the alarm script.
If this is not set, the script will be located relative to
<a class="reference internal" href="#proxy-config-bin-path" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.bin_path</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-alarm-script-runtime">
<span id="proxy.config.alarm.script_runtime"></span><code class="descname">proxy.config.alarm.script_runtime</code><a class="headerlink" href="#proxy-config-alarm-script-runtime" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">5</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The number of seconds that Traffic Server allows the alarm script
to run before aborting it.</p>
</div>
</div>
<div class="section" id="http-engine">
<h2>HTTP Engine<a class="headerlink" href="#http-engine" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-server-ports">
<span id="proxy.config.http.server_ports"></span><code class="descname">proxy.config.http.server_ports</code><a class="headerlink" href="#proxy-config-http-server-ports" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8080 8080:ipv6</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Ports used for proxying HTTP traffic.</p>
<p class="compound-middle">This is a list, separated by space or comma, of <span class="target" id="index-0"></span>port descriptors.
Each descriptor is a sequence of keywords and values separated by colons.
Not all keywords have values, those that do are specifically noted. Keywords
with values can have an optional <code class="docutils literal notranslate"><span class="pre">=</span></code> character separating the keyword and
value. The case of keywords is ignored. The order of keywords is irrelevant
but unspecified results may occur if incompatible options are used (noted
below). Options without values are idempotent. Options with values use the
last (right most) value specified, except for <code class="docutils literal notranslate"><span class="pre">ip-out</span></code> as detailed later.</p>
<p class="compound-middle">Quick reference chart:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="17%" />
<col width="23%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Note</th>
<th class="head">Definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><em>number</em></td>
<td>Required</td>
<td>The local port.</td>
</tr>
<tr class="row-odd"><td>blind</td>
<td>&#160;</td>
<td>Blind (<code class="docutils literal notranslate"><span class="pre">CONNECT</span></code>) port.</td>
</tr>
<tr class="row-even"><td>compress</td>
<td>Not Implemented</td>
<td>Compressed.</td>
</tr>
<tr class="row-odd"><td>ipv4</td>
<td>Default</td>
<td>Bind to IPv4 address family.</td>
</tr>
<tr class="row-even"><td>ipv6</td>
<td>&#160;</td>
<td>Bind to IPv6 address family.</td>
</tr>
<tr class="row-odd"><td>ip-in</td>
<td>Value</td>
<td>Local inbound IP address.</td>
</tr>
<tr class="row-even"><td>ip-out</td>
<td>Value</td>
<td>Local outbound IP address.</td>
</tr>
<tr class="row-odd"><td>ip-resolve</td>
<td>Value</td>
<td>IP address resolution style.</td>
</tr>
<tr class="row-even"><td>proto</td>
<td>Value</td>
<td>List of supported session protocols.</td>
</tr>
<tr class="row-odd"><td>pp</td>
<td>&#160;</td>
<td>Enable Proxy Protocol.</td>
</tr>
<tr class="row-even"><td>ssl</td>
<td>&#160;</td>
<td>SSL terminated.</td>
</tr>
<tr class="row-odd"><td>quic</td>
<td>&#160;</td>
<td>QUIC terminated.</td>
</tr>
<tr class="row-even"><td>tr-full</td>
<td>&#160;</td>
<td>Fully transparent (inbound and outbound)</td>
</tr>
<tr class="row-odd"><td>tr-in</td>
<td>&#160;</td>
<td>Inbound transparent.</td>
</tr>
<tr class="row-even"><td>tr-out</td>
<td>&#160;</td>
<td>Outbound transparent.</td>
</tr>
<tr class="row-odd"><td>tr-pass</td>
<td>&#160;</td>
<td>Pass through enabled.</td>
</tr>
<tr class="row-even"><td>mptcp</td>
<td>&#160;</td>
<td>Multipath TCP.</td>
</tr>
</tbody>
</table>
</div>
<dl class="docutils">
<dt><em>number</em></dt>
<dd>Local IP port to bind. This is the port to which ATS clients will connect.</dd>
<dt>blind</dt>
<dd><p class="first">Accept only the <code class="docutils literal notranslate"><span class="pre">CONNECT</span></code> method on this port.</p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">tr-in</span></code>, <code class="docutils literal notranslate"><span class="pre">ssl</span></code> and <code class="docutils literal notranslate"><span class="pre">quic</span></code>.</p>
</dd>
<dt>compress</dt>
<dd>Compress the connection. Retained only by inertia, should be considered “not implemented”.</dd>
<dt>ipv4</dt>
<dd>Use IPv4. This is the default and is included primarily for completeness. This forced if the <code class="docutils literal notranslate"><span class="pre">ip-in</span></code> option is used with an IPv4 address.</dd>
<dt>ipv6</dt>
<dd>Use IPv6. This is forced if the <code class="docutils literal notranslate"><span class="pre">ip-in</span></code> option is used with an IPv6 address.</dd>
<dt>ssl</dt>
<dd><p class="first">Require SSL termination for inbound connections. SSL <a class="reference internal" href="../security/index.en.html#admin-ssl-termination"><span class="std std-ref">must be configured</span></a> for this option to provide a functional server port.</p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">blind</span></code> and <code class="docutils literal notranslate"><span class="pre">quic</span></code>.</p>
</dd>
<dt>quic</dt>
<dd><p class="first">Require QUIC termination for inbound connections. SSL <a class="reference internal" href="../security/index.en.html#admin-ssl-termination"><span class="std std-ref">must be configured</span></a> for this option to provide a functional server port.
<strong>THIS IS EXPERIMENTAL SUPPORT AND NOT READY FOR PRODUCTION USE.</strong></p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">blind</span></code> and <code class="docutils literal notranslate"><span class="pre">ssl</span></code>.</p>
</dd>
<dt>proto</dt>
<dd>Specify the <a class="reference internal" href="../configuration/session-protocol.en.html#session-protocol"><span class="std std-ref">session level protocols</span></a> supported. These should be
separated by semi-colons. For TLS proxy ports the default value is
all available protocols. For non-TLS proxy ports the default is HTTP
only. HTTP/3 is only available on QUIC ports.</dd>
<dt>pp</dt>
<dd>Enables Proxy Protocol on the port.  If Proxy Protocol is enabled on the
port, all incoming requests must be prefaced with the PROXY header.  See
<a class="reference internal" href="../configuration/proxy-protocol.en.html#proxy-protocol"><span class="std std-ref">Proxy Protocol</span></a> for more details on how to configure
this option properly.</dd>
<dt>tr-full</dt>
<dd><p class="first">Fully transparent. This is a convenience option and is identical to specifying both <code class="docutils literal notranslate"><span class="pre">tr-in</span></code> and <code class="docutils literal notranslate"><span class="pre">tr-out</span></code>.</p>
<p class="last">Not compatible with: Any option not compatible with <code class="docutils literal notranslate"><span class="pre">tr-in</span></code> or <code class="docutils literal notranslate"><span class="pre">tr-out</span></code>.</p>
</dd>
<dt>tr-in</dt>
<dd><p class="first">Inbound transparent. The proxy port will accept connections to any IP address on the port. To have IPv6 inbound transparent you must use this and the <code class="docutils literal notranslate"><span class="pre">ipv6</span></code> option. This overrides <a class="reference internal" href="#proxy-local-incoming-ip-to-bind" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.local.incoming_ip_to_bind</span></code></a> for this port.</p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">ip-in</span></code>, <code class="docutils literal notranslate"><span class="pre">blind</span></code></p>
</dd>
<dt>tr-out</dt>
<dd><p class="first">Outbound transparent. If ATS connects to an origin server for a transaction on this port, it will use the client’s address as its local address. This overrides <a class="reference internal" href="#proxy-local-outgoing-ip-to-bind" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.local.outgoing_ip_to_bind</span></code></a> for this port.</p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">ip-out</span></code>, <code class="docutils literal notranslate"><span class="pre">ip-resolve</span></code></p>
</dd>
<dt>tr-pass</dt>
<dd>Transparent pass through. This option is useful only for inbound transparent proxy ports. If the parsing of the expected HTTP header fails, then the transaction is switched to a blind tunnel instead of generating an error response to the client. It effectively enables <a class="reference internal" href="#proxy-config-http-use-client-target-addr" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.use_client_target_addr</span></code></a> for the transaction as there is no other place to obtain the origin server address.</dd>
<dt>ip-in</dt>
<dd><p class="first">Set the local IP address for the port. This is the address to which clients will connect. This forces the IP address family for the port. The <code class="docutils literal notranslate"><span class="pre">ipv4</span></code> or <code class="docutils literal notranslate"><span class="pre">ipv6</span></code> can be used but it is optional and is an error for it to disagree with the IP address family of this value. An IPv6 address <strong>must</strong> be enclosed in square brackets. If this option is omitted <a class="reference internal" href="#proxy-local-incoming-ip-to-bind" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.local.incoming_ip_to_bind</span></code></a> is used.</p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">tr-in</span></code>.</p>
</dd>
<dt>ip-out</dt>
<dd><p class="first">Set the local IP address for outbound connections. This is the address used by ATS locally when it connects to an origin server for transactions on this port. If this is omitted <a class="reference internal" href="#proxy-local-outgoing-ip-to-bind" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.local.outgoing_ip_to_bind</span></code></a> is used.</p>
<p>This option can used multiple times, once for each IP address family. The address used is selected by the IP address family of the origin server address.</p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">tr-out</span></code>.</p>
</dd>
<dt>ip-resolve</dt>
<dd><p class="first">Set the <a class="reference internal" href="#proxy-config-hostdb-ip-resolve" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">host</span> <span class="pre">resolution</span> <span class="pre">style</span></code></a> for transactions on this proxy port.</p>
<p class="last">Not compatible with: <code class="docutils literal notranslate"><span class="pre">tr-out</span></code> - this option requires a value of <code class="docutils literal notranslate"><span class="pre">client;none</span></code> which is forced and should not be explicitly specified.</p>
</dd>
<dt>mptcp</dt>
<dd><p class="first">Enable Multipath TCP on this proxy port.</p>
<p class="last">Requires custom Linux kernel available at <a class="reference external" href="https://multipath-tcp.org">https://multipath-tcp.org</a>.</p>
</dd>
</dl>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Listen on port 80 on any address for IPv4 and IPv6.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">80</span> <span class="mi">80</span><span class="p">:</span><span class="n">ipv6</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Listen transparently on any IPv4 address on port 8080, and
transparently on port 8080 on local address <code class="docutils literal notranslate"><span class="pre">fc01:10:10:1::1</span></code>
(which implies <code class="docutils literal notranslate"><span class="pre">ipv6</span></code>).:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">IPv4</span><span class="p">:</span><span class="n">tr</span><span class="o">-</span><span class="n">FULL</span><span class="p">:</span><span class="mi">8080</span> <span class="n">TR</span><span class="o">-</span><span class="n">full</span><span class="p">:</span><span class="n">IP</span><span class="o">-</span><span class="ow">in</span><span class="o">=</span><span class="p">[</span><span class="n">fc02</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="mi">1</span><span class="p">]:</span><span class="mi">8080</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Listen on port 8080 for IPv6, fully transparent. Set up an SSL port on 443. These ports will use the IP address from <a class="reference internal" href="#proxy-local-incoming-ip-to-bind" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.local.incoming_ip_to_bind</span></code></a>.  Listen on IP address <code class="docutils literal notranslate"><span class="pre">192.168.17.1</span></code>, port 80, IPv4, and connect to origin servers using the local address <code class="docutils literal notranslate"><span class="pre">10.10.10.1</span></code> for IPv4 and <code class="docutils literal notranslate"><span class="pre">fc01:10:10:1::1</span></code> for IPv6.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">8080</span><span class="p">:</span><span class="n">ipv6</span><span class="p">:</span><span class="n">tr</span><span class="o">-</span><span class="n">full</span> <span class="mi">443</span><span class="p">:</span><span class="n">ssl</span> <span class="n">ip</span><span class="o">-</span><span class="ow">in</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">17.1</span><span class="p">:</span><span class="mi">80</span><span class="p">:</span><span class="n">ip</span><span class="o">-</span><span class="n">out</span><span class="o">=</span><span class="p">[</span><span class="n">fc01</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="mi">1</span><span class="p">]:</span><span class="n">ip</span><span class="o">-</span><span class="n">out</span><span class="o">=</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.1</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Listen on port 9090 for TLS enabled HTTP/2 or HTTP connections, accept no other session protocols.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">9090</span><span class="p">:</span><span class="n">proto</span><span class="o">=</span><span class="n">http2</span><span class="p">;</span><span class="n">http</span><span class="p">:</span><span class="n">ssl</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Listen on port 9090 for TLS disabled HTTP/2 and enabled HTTP connections, accept no other session protocols.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">9090</span><span class="p">:</span><span class="n">proto</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="n">ssl</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Listen on port 4433 for QUIC connections.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4433</span><span class="p">:</span><span class="n">quic</span>
</pre></div>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-connect-ports">
<span id="proxy.config.http.connect_ports"></span><code class="descname">proxy.config.http.connect_ports</code><a class="headerlink" href="#proxy-config-http-connect-ports" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">443</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The range of origin server ports that can be used for tunneling via <code class="docutils literal notranslate"><span class="pre">CONNECT</span></code>.</p>
<p class="compound-last">Traffic Server allows tunnels only to the specified ports. Supports both wildcards
(<code class="docutils literal notranslate"><span class="pre">*</span></code>) and ranges (e.g. <code class="docutils literal notranslate"><span class="pre">0-1023</span></code>).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These are the ports on the <em>origin server</em>, not Traffic Server <a class="reference internal" href="#proxy-config-http-server-ports" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy</span> <span class="pre">ports</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-forward-connect-method">
<span id="proxy.config.http.forward_connect_method"></span><code class="descname">proxy.config.http.forward_connect_method</code><a class="headerlink" href="#proxy-config-http-forward-connect-method" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The default, Traffic Server behavior for handling a CONNECT method request
is to establish a tunnel to the requested destination. This
configuration alters the behavior so that Traffic Server forwards the
CONNECT method to the next hop, and establishes the tunnel after
receiving a positive response. This behavior is useful in a proxy
hierarchy, and is equivalent to setting
<a class="reference internal" href="#proxy-local-http-parent-proxy-disable-connect-tunneling" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.local.http.parent_proxy.disable_connect_tunneling</span></code></a> to
<cite>0</cite> when parent proxying is enabled.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-insert-request-via-str">
<span id="proxy.config.http.insert_request_via_str"></span><code class="descname">proxy.config.http.insert_request_via_str</code><a class="headerlink" href="#proxy-config-http-insert-request-via-str" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set how the <code class="docutils literal notranslate"><span class="pre">Via</span></code> field is handled on a request to the origin server.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Do not modify or set this Via header.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Add the basic protocol and proxy identifier.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Add basic transaction codes.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Add detailed transaction codes.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td>Add full user agent connection <a class="reference internal" href="../../developer-guide/api/functions/TSClientProtocolStack.en.html#protocol-tags"><span class="std std-ref">protocol tags</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">Via</span></code> transaction codes can be decoded with the <a class="reference external" href="https://trafficserver.apache.org/tools/via">Via Decoder Ring</a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-request-via-str">
<span id="proxy.config.http.request_via_str"></span><code class="descname">proxy.config.http.request_via_str</code><a class="headerlink" href="#proxy-config-http-request-via-str" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">ApacheTrafficServer/${PACKAGE_VERSION}</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set the server and version string in the <code class="docutils literal notranslate"><span class="pre">Via</span></code> request header to the origin server which is inserted when the value of <a class="reference internal" href="#proxy-config-http-insert-request-via-str" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.insert_request_via_str</span></code></a> is not <code class="docutils literal notranslate"><span class="pre">0</span></code>.  Note that the actual default value is defined with <code class="docutils literal notranslate"><span class="pre">&quot;ApacheTrafficServer/&quot;</span> <span class="pre">PACKAGE_VERSION</span></code> in a C++ source code, and you must write such as <code class="docutils literal notranslate"><span class="pre">ApacheTrafficServer/6.0.0</span></code> if you really set a value with the version in <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> file. If you want to hide the version, you can set this value to <code class="docutils literal notranslate"><span class="pre">ApacheTrafficServer</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-insert-response-via-str">
<span id="proxy.config.http.insert_response_via_str"></span><code class="descname">proxy.config.http.insert_response_via_str</code><a class="headerlink" href="#proxy-config-http-insert-response-via-str" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set how the <code class="docutils literal notranslate"><span class="pre">Via</span></code> field is handled on the response to the client.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Do not modify or set this Via header.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Add the basic protocol and proxy identifier.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Add basic transaction codes.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Add detailed transaction codes.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td>Add full upstream connection <a class="reference internal" href="../../developer-guide/api/functions/TSClientProtocolStack.en.html#protocol-tags"><span class="std std-ref">protocol tags</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">Via</span></code> transaction code can be decoded with the <a class="reference external" href="https://trafficserver.apache.org/tools/via">Via Decoder Ring</a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-response-via-str">
<span id="proxy.config.http.response_via_str"></span><code class="descname">proxy.config.http.response_via_str</code><a class="headerlink" href="#proxy-config-http-response-via-str" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">ApacheTrafficServer/${PACKAGE_VERSION}</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set the server and version string in the <code class="docutils literal notranslate"><span class="pre">Via</span></code> response header to the client which is inserted when the value of <a class="reference internal" href="#proxy-config-http-insert-response-via-str" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.insert_response_via_str</span></code></a> is not <code class="docutils literal notranslate"><span class="pre">0</span></code>.  Note that the actual default value is defined with <code class="docutils literal notranslate"><span class="pre">&quot;ApacheTrafficServer/&quot;</span> <span class="pre">PACKAGE_VERSION</span></code> in a C++ source code, and you must write such as <code class="docutils literal notranslate"><span class="pre">ApacheTrafficServer/6.0.0</span></code> if you really set a value with the version in <a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a> file. If you want to hide the version, you can set this value to <code class="docutils literal notranslate"><span class="pre">ApacheTrafficServer</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-send-100-continue-response">
<span id="proxy.config.http.send_100_continue_response"></span><code class="descname">proxy.config.http.send_100_continue_response</code><a class="headerlink" href="#proxy-config-http-send-100-continue-response" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">You can specify one of the following:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Traffic Server will buffer the request until the post body has been received and
then send the request to the origin server.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Immediately return a <code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">Continue</span></code> from Traffic Server without waiting for
the post body.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-response-server-enabled">
<span id="proxy.config.http.response_server_enabled"></span><code class="descname">proxy.config.http.response_server_enabled</code><a class="headerlink" href="#proxy-config-http-response-server-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">You can specify one of the following:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>No <code class="docutils literal notranslate"><span class="pre">Server</span></code> header is added to the response.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>The <code class="docutils literal notranslate"><span class="pre">Server</span></code> header is added according to
<a class="reference internal" href="#proxy-config-http-response-server-str" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.response_server_str</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>The <code class="docutils literal notranslate"><span class="pre">Server</span></code> header is added only if the response from origin does
not have one already.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-response-server-str">
<span id="proxy.config.http.response_server_str"></span><code class="descname">proxy.config.http.response_server_str</code><a class="headerlink" href="#proxy-config-http-response-server-str" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">ATS/${PACKAGE_VERSION}</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The <code class="docutils literal notranslate"><span class="pre">Server</span></code> string that Traffic Server will insert in a response header (if
requested, see above). Note that the actual default value is defined with
<code class="docutils literal notranslate"><span class="pre">&quot;ATS/&quot;</span> <span class="pre">PACKAGE_VERSION</span></code> in the C++ source, and you must write such as
<code class="docutils literal notranslate"><span class="pre">ATS/6.0.0</span></code> if you really set a value with the version in
<a class="reference internal" href="#std:configfile-records.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">records.config</span></code></a>. If you want to hide the version, you can set this
value to <code class="docutils literal notranslate"><span class="pre">ATS</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-insert-age-in-response">
<span id="proxy.config.http.insert_age_in_response"></span><code class="descname">proxy.config.http.insert_age_in_response</code><a class="headerlink" href="#proxy-config-http-insert-age-in-response" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This option specifies whether Traffic Server should insert an <code class="docutils literal notranslate"><span class="pre">Age</span></code> header in the
response. The value is the cache’s estimate of the amount of time since the
response was generated or revalidated by the origin server.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>No <code class="docutils literal notranslate"><span class="pre">Age</span></code> header is added.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Age</span></code> header is added.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-chunking-enabled">
<span id="proxy.config.http.chunking_enabled"></span><code class="descname">proxy.config.http.chunking_enabled</code><a class="headerlink" href="#proxy-config-http-chunking-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies whether Traffic Server can generate a chunked response:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Never respond with chunked encoding.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Always respond with chunked encoding.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Generate a chunked response if the origin server has previously
returned HTTP/1.1.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Generate a chunked response if the client request is HTTP/1.1 and the
origin server has previously returned HTTP/1.1.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-chunking-size">
<span id="proxy.config.http.chunking.size"></span><code class="descname">proxy.config.http.chunking.size</code><a class="headerlink" href="#proxy-config-http-chunking-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4096</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If chunked transfer encoding is enabled with <a class="reference internal" href="#proxy-config-http-chunking-enabled" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.chunking_enabled</span></code></a>,
and the conditions specified by that option’s setting are met by the current
request, this option determines the size of the chunks, in bytes, to use
when sending content to an HTTP/1.1 client.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-send-http11-requests">
<span id="proxy.config.http.send_http11_requests"></span><code class="descname">proxy.config.http.send_http11_requests</code><a class="headerlink" href="#proxy-config-http-send-http11-requests" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies when and how Traffic Server uses HTTP/1.1 to communicate with the origin
server.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Never use HTTP/1.1.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Always use HTTP/1.1.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Use HTTP/1.1 with origin connections only if the server has previously
returned HTTP/1.1.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>If the client request is HTTP/1.1 and the origin server has previously
returned HTTP/1.1, then use HTTP/1.1 for origin server connections.</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If <a class="reference internal" href="#proxy-config-http-use-client-target-addr" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.use_client_target_addr</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">1</span></code>, then
options <code class="docutils literal notranslate"><span class="pre">2</span></code> and <code class="docutils literal notranslate"><span class="pre">3</span></code> for this configuration variable cause the proxy
to use the client HTTP version for upstream requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-auth-server-session-private">
<span id="proxy.config.http.auth_server_session_private"></span><code class="descname">proxy.config.http.auth_server_session_private</code><a class="headerlink" href="#proxy-config-http-auth-server-session-private" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>) anytime a request contains a <code class="docutils literal notranslate"><span class="pre">Authorization</span></code>,
<code class="docutils literal notranslate"><span class="pre">Proxy-Authorization</span></code>, or <code class="docutils literal notranslate"><span class="pre">Www-Authenticate</span></code> header the connection will
be closed and not reused. This marks the connection as private. When disabled
(<code class="docutils literal notranslate"><span class="pre">0</span></code>) the connection will be available for reuse.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-server-session-sharing-match">
<span id="proxy.config.http.server_session_sharing.match"></span><code class="descname">proxy.config.http.server_session_sharing.match</code><a class="headerlink" href="#proxy-config-http-server-session-sharing-match" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">both</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Enable and set the ability to re-use server connections across client
connections. Multiple values can be specified when separated by commas with no white spaces. Valid values are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">none</span></code></td>
<td>Do not match and do not re-use server sessions.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ip</span></code></td>
<td>Re-use server sessions, checking only that the IP address and port
of the origin server matches.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">host</span></code></td>
<td>Re-use server sessions, checking that the fully qualified
domain name matches. In addition, if the session uses TLS, it also
checks that the current transaction’s host header value matchs the session’s SNI.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">both</span></code></td>
<td>Equivalent to <code class="docutils literal notranslate"><span class="pre">host,ip</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hostonly</span></code></td>
<td>Check that the fully qualified domain name matches.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">sni</span></code></td>
<td>Check that the SNI of the session matches the SNI that would be used to
create a new session.  Only applicable for TLS sessions.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">cert</span></code></td>
<td>Check that the certificate file name used for the server session matches the
certificate file name that would be used for the new server session.  Only
applicable for TLS sessions.</td>
</tr>
</tbody>
</table>
<p class="compound-last">The setting must contain at least one of <code class="docutils literal notranslate"><span class="pre">ip</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">hostonly</span></code> or <code class="docutils literal notranslate"><span class="pre">both</span></code>
for session reuse to operate.  The other values may be used for greater control
with TLS session reuse.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Server sessions to different upstream ports never match even if the FQDN and IP
address match.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="#proxy-config-http-per-server-connection-max" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">Upstream</span> <span class="pre">session</span> <span class="pre">tracking</span></code></a> uses a similar
set of options for matching sessions, but is <a class="reference internal" href="#proxy-config-http-per-server-connection-match" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">set</span> <span class="pre">independently</span></code></a> from session sharing.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-server-session-sharing-pool">
<span id="proxy.config.http.server_session_sharing.pool"></span><code class="descname">proxy.config.http.server_session_sharing.pool</code><a class="headerlink" href="#proxy-config-http-server-session-sharing-pool" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">thread</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Control the scope of server session re-use if it is enabled by
<a class="reference internal" href="#proxy-config-http-server-session-sharing-match" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_session_sharing.match</span></code></a>. Valid values are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">global</span></code></td>
<td>Re-use sessions from a global pool of all server sessions.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">thread</span></code></td>
<td>Re-use sessions from a per-thread pool.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hybrid</span></code></td>
<td>Try to work as a global pool, but release server sessions to the
per-thread pool if there is lock contention on the global pool.</td>
</tr>
</tbody>
</table>
<p class="compound-middle">Setting <a class="reference internal" href="#proxy-config-http-server-session-sharing-pool" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_session_sharing.pool</span></code></a> to global can reduce
the number of connections to origin for some traffic loads.  However, if many
execute threads are active, the thread contention on the global pool can reduce the
lifetime of connections to origin and reduce effective origin connection reuse.</p>
<p class="compound-last">For a hybrid pool, the operation starts as the global pool, but sessons are returned
to the local thread pool if the global pool lock is not acquired rather than just
closing the origin connection as is the case in standard global mode.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-attach-server-session-to-client">
<span id="proxy.config.http.attach_server_session_to_client"></span><code class="descname">proxy.config.http.attach_server_session_to_client</code><a class="headerlink" href="#proxy-config-http-attach-server-session-to-client" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Control the re-use of an server session by a user agent (client) session. Currently only applies to user
agents using HTTP/1.0 or HTTP/1.1. For other HTTP versions, the origin connection is always returned to the
session sharing pool or closed.</p>
<p class="compound-middle">If a user agent performs more than one HTTP transaction on its connection to Traffic Server a server session must be
obtained for the second (and subsequent) transaction as for the first. This settings affects how that server session
is selected.</p>
<p class="compound-middle">If this setting is <code class="docutils literal notranslate"><span class="pre">0</span></code> then after the first transaction the server session for that transaction is released to the
server pool (if any). When a server session is needed for subsequent transactions one is selected from the server
pool or created if there is no suitable server session in the pool.</p>
<p class="compound-last">If this setting is not <code class="docutils literal notranslate"><span class="pre">0</span></code> then the current server session for the user agent session is “sticky”. It will be
preferred to any other server session (either from the pool or newly created). The server session will be detached
from the user agent session only if it cannot be used for the transaction. This is determined by the
<a class="reference internal" href="#proxy-config-http-server-session-sharing-match" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_session_sharing.match</span></code></a> value. If the server session matches the next transaction
according to this setting then it will be used, otherwise it will be released to the pool and a different session
selected or created.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-use-client-target-addr">
<span id="proxy.config.http.use_client_target_addr"></span><code class="descname">proxy.config.http.use_client_target_addr</code><a class="headerlink" href="#proxy-config-http-use-client-target-addr" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">For fully transparent ports use the same origin server address as the client.</p>
<p class="compound-middle">This option causes Traffic Server to avoid where possible doing DNS lookups in forward
transparent proxy mode. The option is only effective if the following three
conditions are true:</p>
<ul class="compound-middle simple">
<li>Traffic Server is in forward proxy mode.</li>
<li>The proxy port is inbound transparent.</li>
<li>The target URL has not been modified by either remapping or a plugin.</li>
</ul>
<p class="compound-middle">If any of these conditions are not true, then normal DNS processing is done
for the connection.</p>
<p class="compound-middle">There are three valid values.</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disables the feature.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enables the feature with address verification. The proxy does the
regular DNS processing. If the client-specified origin address is not
in the set of addresses found by the proxy, the request continues to
the client specified address, but the result is not cached.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Enables the feature with no address verification. No DNS processing is
performed. The result is cached (if allowed otherwise). This option is
vulnerable to cache poisoning if an incorrect <code class="docutils literal notranslate"><span class="pre">Host</span></code> header is
specified, so this option should be used with extreme caution.  See
bug <a class="reference external" href="https://issues.apache.org/jira/browse/TS-2954">TS-2954</a> for details.</td>
</tr>
</tbody>
</table>
<p class="compound-middle">If all of these conditions are met, then the origin server IP address is
retrieved from the original client connection, rather than through HostDB or
DNS lookup. In effect, client DNS resolution is used instead of Traffic Server DNS.</p>
<p class="compound-middle">This can be used to be a little more efficient (looking up the target once
by the client rather than by both the client and Traffic Server) but the primary use
is when client DNS resolution can differ from that of Traffic Server. Two known uses
cases are:</p>
<ol class="compound-middle arabic simple">
<li>Embedded IP addresses in a protocol with DNS load sharing. In this case,
even though Traffic Server and the client both make the same request to the same
DNS resolver chain, they may get different origin server addresses. If
the address is embedded in the protocol then the overall exchange will
fail. One current example is Microsoft Windows update, which presumably
embeds the address as a security measure.</li>
<li>The client has access to local DNS zone information which is not
available to Traffic Server. There are corporate nets with local DNS information
for internal servers which, by design, is not propagated outside the core
corporate network. Depending a network topology it can be the case that
Traffic Server can access the servers by IP address but cannot resolve such
addresses by name. In such as case the client supplied target address
must be used.</li>
</ol>
<p class="compound-last">This solution must be considered interim. In the longer term, it should be
possible to arrange for much finer grained control of DNS lookup so that
wildcard domain can be set to use Traffic Server or client resolution. In both known
use cases, marking specific domains as client determined (rather than a
single global switch) would suffice. It is possible to do this crudely with
this flag by enabling it and then use identity URL mappings to re-disable it
for specific domains.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-keep-alive-enabled-in">
<span id="proxy.config.http.keep_alive_enabled_in"></span><code class="descname">proxy.config.http.keep_alive_enabled_in</code><a class="headerlink" href="#proxy-config-http-keep-alive-enabled-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) incoming keep-alive connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-keep-alive-enabled-out">
<span id="proxy.config.http.keep_alive_enabled_out"></span><code class="descname">proxy.config.http.keep_alive_enabled_out</code><a class="headerlink" href="#proxy-config-http-keep-alive-enabled-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) outgoing keep-alive connections.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Enabling keep-alive does not automatically enable purging of keep-alive
requests when nearing the connection limit, that is controlled by
<a class="reference internal" href="#proxy-config-http-server-max-connections" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_max_connections</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-keep-alive-post-out">
<span id="proxy.config.http.keep_alive_post_out"></span><code class="descname">proxy.config.http.keep_alive_post_out</code><a class="headerlink" href="#proxy-config-http-keep-alive-post-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Controls whether new POST requests re-use keep-alive sessions (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or
create new connections per request (<code class="docutils literal notranslate"><span class="pre">0</span></code>).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-disallow-post-100-continue">
<span id="proxy.config.http.disallow_post_100_continue"></span><code class="descname">proxy.config.http.disallow_post_100_continue</code><a class="headerlink" href="#proxy-config-http-disallow-post-100-continue" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Allows you to return a 405 Method Not Supported with Posts also
containing an Expect: 100-continue.</p>
<p class="compound-last">When a Post w/ Expect: 100-continue is blocked the stat
proxy.process.http.disallowed_post_100_continue will be incremented.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-default-buffer-size">
<span id="proxy.config.http.default_buffer_size"></span><code class="descname">proxy.config.http.default_buffer_size</code><a class="headerlink" href="#proxy-config-http-default-buffer-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the default buffer size, in bytes, to allocate for incoming
request bodies which lack a <code class="docutils literal notranslate"><span class="pre">Content-length</span></code> header.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-default-buffer-water-mark">
<span id="proxy.config.http.default_buffer_water_mark"></span><code class="descname">proxy.config.http.default_buffer_water_mark</code><a class="headerlink" href="#proxy-config-http-default-buffer-water-mark" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">32768</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-request-buffer-enabled">
<span id="proxy.config.http.request_buffer_enabled"></span><code class="descname">proxy.config.http.request_buffer_enabled</code><a class="headerlink" href="#proxy-config-http-request-buffer-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This enables buffering the content for incoming <code class="docutils literal notranslate"><span class="pre">POST</span></code> requests. If enabled no outbound
connection is made until the entire <code class="docutils literal notranslate"><span class="pre">POST</span></code> request has been buffered.
If enabled, <cite>proxy.config.http.post_copy_size</cite> needs to be set to the maximum of the post body
size allowed, otherwise, the post would fail.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-request-line-max-size">
<span id="proxy.config.http.request_line_max_size"></span><code class="descname">proxy.config.http.request_line_max_size</code><a class="headerlink" href="#proxy-config-http-request-line-max-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">65535</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Controls the maximum size, in bytes, of an HTTP Request Line in requests. Requests
with a request line exceeding this size will be treated as invalid and
rejected by the proxy. Note that the HTTP request line typically includes HTTP method,
request target and HTTP version string except when the request is made using absolute
URI in which case the request line may also include the request scheme and domain name.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-header-field-max-size">
<span id="proxy.config.http.header_field_max_size"></span><code class="descname">proxy.config.http.header_field_max_size</code><a class="headerlink" href="#proxy-config-http-header-field-max-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">131070</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Controls the maximum size, in bytes, of an HTTP header field in requests. Headers
in a request with the sum of their name and value that exceed this size will cause the
entire request to be treated as invalid and rejected by the proxy.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-request-header-max-size">
<span id="proxy.config.http.request_header_max_size"></span><code class="descname">proxy.config.http.request_header_max_size</code><a class="headerlink" href="#proxy-config-http-request-header-max-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">131072</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Controls the maximum size, in bytes, of an HTTP header in requests. Headers
in a request which exceed this size will cause the entire request to be
treated as invalid and rejected by the proxy.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-response-header-max-size">
<span id="proxy.config.http.response_header_max_size"></span><code class="descname">proxy.config.http.response_header_max_size</code><a class="headerlink" href="#proxy-config-http-response-header-max-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">131072</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Controls the maximum size, in bytes, of headers in HTTP responses from the
proxy. Any responses with a header exceeding this limit will be treated as
invalid and a client error will be returned instead.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-global-user-agent-header">
<span id="proxy.config.http.global_user_agent_header"></span><code class="descname">proxy.config.http.global_user_agent_header</code><a class="headerlink" href="#proxy-config-http-global-user-agent-header" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">null</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>An arbitrary string value that, if set, will be used to replace any request
<code class="docutils literal notranslate"><span class="pre">User-Agent</span></code> header.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-strict-uri-parsing">
<span id="proxy.config.http.strict_uri_parsing"></span><code class="descname">proxy.config.http.strict_uri_parsing</code><a class="headerlink" href="#proxy-config-http-strict-uri-parsing" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) Traffic Server to return a 400 Bad Request
if client’s request URI includes character which is not <a class="reference external" href="https://tools.ietf.org/html/rfc3986.html">RFC 3986</a> compliant</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-errors-log-error-pages">
<span id="proxy.config.http.errors.log_error_pages"></span><code class="descname">proxy.config.http.errors.log_error_pages</code><a class="headerlink" href="#proxy-config-http-errors-log-error-pages" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) the logging of responses to bad requests
to the error logging destination. Disabling this option prevents error
responses (such as <code class="docutils literal notranslate"><span class="pre">403</span></code>s) from appearing in the error logs. Any HTTP
response status codes equal to, or higher, than the minimum code defined by
<a class="reference internal" href="../../developer-guide/api/types/TSHttpStatus.en.html#c.TS_HTTP_STATUS_BAD_REQUEST" title="TS_HTTP_STATUS_BAD_REQUEST"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_HTTP_STATUS_BAD_REQUEST</span></code></a> are affected by this setting.</p>
</div>
</div>
<div class="section" id="parent-proxy-configuration">
<h2>Parent Proxy Configuration<a class="headerlink" href="#parent-proxy-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-parent-proxy-retry-time">
<span id="proxy.config.http.parent_proxy.retry_time"></span><code class="descname">proxy.config.http.parent_proxy.retry_time</code><a class="headerlink" href="#proxy-config-http-parent-proxy-retry-time" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">300</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The amount of time allowed between connection retries to a parent cache that is unavailable.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-parent-proxy-fail-threshold">
<span id="proxy.config.http.parent_proxy.fail_threshold"></span><code class="descname">proxy.config.http.parent_proxy.fail_threshold</code><a class="headerlink" href="#proxy-config-http-parent-proxy-fail-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The number of times the connection to the parent cache can fail before Traffic Server considers the parent unavailable.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-parent-proxy-total-connect-attempts">
<span id="proxy.config.http.parent_proxy.total_connect_attempts"></span><code class="descname">proxy.config.http.parent_proxy.total_connect_attempts</code><a class="headerlink" href="#proxy-config-http-parent-proxy-total-connect-attempts" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The total number of connection attempts for a specific transaction allowed to
a parent cache before Traffic Server bypasses the parent or fails the request
(depending on the <code class="docutils literal notranslate"><span class="pre">go_direct</span></code> option in the <a class="reference internal" href="parent.config.en.html#std:configfile-parent.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">parent.config</span></code></a> file). The
number of parents tried is
<code class="docutils literal notranslate"><span class="pre">proxy.config.http.parent_proxy.fail_threshold</span> <span class="pre">/</span> <span class="pre">proxy.config.http.parent_proxy.total_connect_attempts</span></code></p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-parent-proxy-per-parent-connect-attempts">
<span id="proxy.config.http.parent_proxy.per_parent_connect_attempts"></span><code class="descname">proxy.config.http.parent_proxy.per_parent_connect_attempts</code><a class="headerlink" href="#proxy-config-http-parent-proxy-per-parent-connect-attempts" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The total number of connection attempts allowed per parent for a specific
transaction, if multiple parents are used.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-parent-proxy-connect-attempts-timeout">
<span id="proxy.config.http.parent_proxy.connect_attempts_timeout"></span><code class="descname">proxy.config.http.parent_proxy.connect_attempts_timeout</code><a class="headerlink" href="#proxy-config-http-parent-proxy-connect-attempts-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The timeout value (in seconds) for parent cache connection attempts.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-parent-proxy-mark-down-hostdb">
<span id="proxy.config.http.parent_proxy.mark_down_hostdb"></span><code class="descname">proxy.config.http.parent_proxy.mark_down_hostdb</code><a class="headerlink" href="#proxy-config-http-parent-proxy-mark-down-hostdb" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) marking parent proxies down in hostdb when a connection
error is detected.  Normally parent selection manages parent proxies and will mark them as unavailable
as needed.  But when parents are defined in dns with multiple ip addresses, it may be useful to mark the
failing ip down in hostdb.  In this case you would enable these updates.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-forward-proxy-auth-to-parent">
<span id="proxy.config.http.forward.proxy_auth_to_parent"></span><code class="descname">proxy.config.http.forward.proxy_auth_to_parent</code><a class="headerlink" href="#proxy-config-http-forward-proxy-auth-to-parent" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures Traffic Server to send proxy authentication headers on to the parent cache.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-no-dns-just-forward-to-parent">
<span id="proxy.config.http.no_dns_just_forward_to_parent"></span><code class="descname">proxy.config.http.no_dns_just_forward_to_parent</code><a class="headerlink" href="#proxy-config-http-no-dns-just-forward-to-parent" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Don’t try to resolve DNS, forward all DNS requests to the parent. This is off (<code class="docutils literal notranslate"><span class="pre">0</span></code>) by default.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-local-http-parent-proxy-disable-connect-tunneling">
<span id="proxy.local.http.parent_proxy.disable_connect_tunneling"></span><code class="descname">proxy.local.http.parent_proxy.disable_connect_tunneling</code><a class="headerlink" href="#proxy-local-http-parent-proxy-disable-connect-tunneling" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-parent-proxy-self-detect">
<span id="proxy.config.http.parent_proxy.self_detect"></span><code class="descname">proxy.config.http.parent_proxy.self_detect</code><a class="headerlink" href="#proxy-config-http-parent-proxy-self-detect" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">For each host that has been specified in a <code class="docutils literal notranslate"><span class="pre">parent</span></code> or <code class="docutils literal notranslate"><span class="pre">secondary_parent</span></code> list in the
<a class="reference internal" href="parent.config.en.html#std:configfile-parent.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">parent.config</span></code></a> file, determine if the host is the same as the current host.
Obvious examples include <code class="docutils literal notranslate"><span class="pre">localhost</span></code> and <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>. If a match is found,
take an action depending upon the value below.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disables the feature by not checking for matches.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Remove the matching host from the list.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Mark the host down. This is the default.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="http-connection-timeouts">
<h2>HTTP Connection Timeouts<a class="headerlink" href="#http-connection-timeouts" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-keep-alive-no-activity-timeout-in">
<span id="proxy.config.http.keep_alive_no_activity_timeout_in"></span><code class="descname">proxy.config.http.keep_alive_no_activity_timeout_in</code><a class="headerlink" href="#proxy-config-http-keep-alive-no-activity-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">120</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how long Traffic Server keeps connections to clients open for a
subsequent request after a transaction ends. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> will set
<cite>proxy.config.net.default_inactivity_timeout</cite> as the timeout.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-keep-alive-no-activity-timeout-out">
<span id="proxy.config.http.keep_alive_no_activity_timeout_out"></span><code class="descname">proxy.config.http.keep_alive_no_activity_timeout_out</code><a class="headerlink" href="#proxy-config-http-keep-alive-no-activity-timeout-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">120</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how long Traffic Server keeps connections to origin servers open
for a subsequent transfer of data after a transaction ends. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> will
set <cite>proxy.config.net.default_inactivity_timeout</cite> as the timeout.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-transaction-no-activity-timeout-in">
<span id="proxy.config.http.transaction_no_activity_timeout_in"></span><code class="descname">proxy.config.http.transaction_no_activity_timeout_in</code><a class="headerlink" href="#proxy-config-http-transaction-no-activity-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how long Traffic Server keeps connections to clients open if a
transaction stalls.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-transaction-no-activity-timeout-out">
<span id="proxy.config.http.transaction_no_activity_timeout_out"></span><code class="descname">proxy.config.http.transaction_no_activity_timeout_out</code><a class="headerlink" href="#proxy-config-http-transaction-no-activity-timeout-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how long Traffic Server keeps connections to origin servers open if the transaction stalls.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-websocket-no-activity-timeout">
<span id="proxy.config.websocket.no_activity_timeout"></span><code class="descname">proxy.config.websocket.no_activity_timeout</code><a class="headerlink" href="#proxy-config-websocket-no-activity-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">600</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how long Traffic Server keeps connections open if a websocket stalls.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-websocket-active-timeout">
<span id="proxy.config.websocket.active_timeout"></span><code class="descname">proxy.config.websocket.active_timeout</code><a class="headerlink" href="#proxy-config-websocket-active-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3600</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The maximum amount of time Traffic Server keeps websocket connections open.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-transaction-active-timeout-in">
<span id="proxy.config.http.transaction_active_timeout_in"></span><code class="descname">proxy.config.http.transaction_active_timeout_in</code><a class="headerlink" href="#proxy-config-http-transaction-active-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">900</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The maximum amount of time Traffic Server can remain connected to a client. If the transfer to the client is not complete before this
timeout expires, then Traffic Server closes the connection.</p>
<p class="compound-middle">The value of <code class="docutils literal notranslate"><span class="pre">0</span></code> specifies that there is no timeout.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-transaction-active-timeout-out">
<span id="proxy.config.http.transaction_active_timeout_out"></span><code class="descname">proxy.config.http.transaction_active_timeout_out</code><a class="headerlink" href="#proxy-config-http-transaction-active-timeout-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The maximum amount of time Traffic Server waits for fulfillment of a connection request to an origin server. If Traffic Server does not
complete the transfer to the origin server before this timeout expires, then Traffic Server terminates the connection request.</p>
<p class="compound-middle">The default value of <code class="docutils literal notranslate"><span class="pre">0</span></code> specifies that there is no timeout.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-accept-no-activity-timeout">
<span id="proxy.config.http.accept_no_activity_timeout"></span><code class="descname">proxy.config.http.accept_no_activity_timeout</code><a class="headerlink" href="#proxy-config-http-accept-no-activity-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">120</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The timeout interval in seconds before Traffic Server closes a connection that has no activity.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-background-fill-active-timeout">
<span id="proxy.config.http.background_fill_active_timeout"></span><code class="descname">proxy.config.http.background_fill_active_timeout</code><a class="headerlink" href="#proxy-config-http-background-fill-active-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how long Traffic Server continues a background fill before giving up and dropping the origin server connection.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-background-fill-completed-threshold">
<span id="proxy.config.http.background_fill_completed_threshold"></span><code class="descname">proxy.config.http.background_fill_completed_threshold</code><a class="headerlink" href="#proxy-config-http-background-fill-completed-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The proportion of total document size already transferred when a client aborts at which the proxy continues fetching the document
from the origin server to get it into the cache (a <strong>background fill</strong>).</p>
</div>
</div>
<div class="section" id="http-redirection">
<h2>HTTP Redirection<a class="headerlink" href="#http-redirection" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-number-of-redirections">
<span id="proxy.config.http.number_of_redirections"></span><code class="descname">proxy.config.http.number_of_redirections</code><a class="headerlink" href="#proxy-config-http-number-of-redirections" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This setting determines the maximum number of times Trafficserver does a redirect follow location on receiving a 3XX Redirect response
for a given client request.</p>
<div class="compound-middle admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When <a class="reference internal" href="#proxy-config-http-number-of-redirections" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.number_of_redirections</span></code></a> is set to a positive value and Traffic Server has previously cached a 3XX Redirect response, the cached response will continue to be refreshed and returned until the response is no longer in the cache.</p>
</div>
<div class="compound-last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In previous versions proxy.config.http.redirection_enabled had to be set to 1 before this setting was evaluated.  Now setting <a class="reference internal" href="#proxy-config-http-number-of-redirections" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.number_of_redirections</span></code></a> to a value greater than zero is sufficient to cause Traffic Server to follow redirects.</p>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-redirect-host-no-port">
<span id="proxy.config.http.redirect_host_no_port"></span><code class="descname">proxy.config.http.redirect_host_no_port</code><a class="headerlink" href="#proxy-config-http-redirect-host-no-port" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This setting enables Trafficserver to not include the port in the Host header in the redirect follow request for default/standard ports
(e.g. 80 for HTTP and 443 for HTTPS). Note that the port is still included in the Host header if it’s non-default.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-redirect-use-orig-cache-key">
<span id="proxy.config.http.redirect_use_orig_cache_key"></span><code class="descname">proxy.config.http.redirect_use_orig_cache_key</code><a class="headerlink" href="#proxy-config-http-redirect-use-orig-cache-key" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This setting enables Trafficserver to allow using original request cache key (for example, set using a TS API) during a 3xx redirect follow.
The default behavior (0) is to use the URL specified by Location header in the 3xx response as the cache key.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-post-copy-size">
<span id="proxy.config.http.post_copy_size"></span><code class="descname">proxy.config.http.post_copy_size</code><a class="headerlink" href="#proxy-config-http-post-copy-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2048</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This setting determines the maximum size in bytes of uploaded content to be
buffered for HTTP methods such as POST and PUT.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-redirect-actions">
<span id="proxy.config.http.redirect.actions"></span><code class="descname">proxy.config.http.redirect.actions</code><a class="headerlink" href="#proxy-config-http-redirect-actions" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">routable:follow</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This setting determines how redirects should be handled. The setting consists
of a comma-separated list of key-value pairs, where the keys are named IP
address ranges and the values are actions.</p>
<p class="compound-middle">The following are valid keys:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">self</span></code></td>
<td>Addresses of the host’s interfaces</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">loopback</span></code></td>
<td>IPv4 <code class="docutils literal notranslate"><span class="pre">127.0.0.0/8</span></code> and IPv6 <code class="docutils literal notranslate"><span class="pre">::1</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">private</span></code></td>
<td>IPv4 <code class="docutils literal notranslate"><span class="pre">10.0.0.0/8</span></code> <code class="docutils literal notranslate"><span class="pre">100.64.0.0/10</span></code> <code class="docutils literal notranslate"><span class="pre">172.16.0.0/12</span></code> <code class="docutils literal notranslate"><span class="pre">192.168.0.0/16</span></code> and IPv6 <code class="docutils literal notranslate"><span class="pre">fc00::/7</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">multicast</span></code></td>
<td>IPv4 <code class="docutils literal notranslate"><span class="pre">224.0.0.0/4</span></code> and IPv6 <code class="docutils literal notranslate"><span class="pre">ff00::/8</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">linklocal</span></code></td>
<td>IPv4 <code class="docutils literal notranslate"><span class="pre">169.254.0.0/16</span></code> and IPv6 <code class="docutils literal notranslate"><span class="pre">fe80::/10</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">routable</span></code></td>
<td>All publicly routable addresses</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">default</span></code></td>
<td>All address ranges not configured specifically</td>
</tr>
</tbody>
</table>
<p class="compound-middle">The following are valid values:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">return</span></code></td>
<td>Do not process the redirect, send it as the proxy response.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">reject</span></code></td>
<td>Do not process the redirect, send a 403 as the proxy response.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">follow</span></code></td>
<td>Internally follow the redirect up to <a class="reference internal" href="#proxy-config-http-number-of-redirections" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.number_of_redirections</span></code></a>. <strong>Use this setting with caution!</strong></td>
</tr>
</tbody>
</table>
<div class="compound-middle admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Following a redirect to other than <code class="docutils literal notranslate"><span class="pre">routable</span></code> addresses can be
dangerous, as it allows the controller of an origin to arrange a probe the
Traffic Server host. Enabling these redirects makes Traffic Server open to third party attacks
and probing and therefore should be considered only in known safe
environments.</p>
</div>
<p class="compound-middle">For example, a setting of
<code class="docutils literal notranslate"><span class="pre">loopback:reject,private:reject,routable:follow,default:return</span></code> would send
<code class="docutils literal notranslate"><span class="pre">403</span></code> as the proxy response to loopback and private addresses, routable
addresses would be followed up to
<a class="reference internal" href="#proxy-config-http-number-of-redirections" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.number_of_redirections</span></code></a>, and redirects to all other
ranges will be sent as the proxy response.</p>
<p class="compound-middle">The action for <code class="docutils literal notranslate"><span class="pre">self</span></code> has the highest priority when an address would match
multiple keys, and the action for <code class="docutils literal notranslate"><span class="pre">default</span></code> has the lowest priority. Other
keys represent disjoint sets of addresses that will not conflict. If
duplicate keys are present in the setting, the right-most key-value pair is
used.</p>
<p class="compound-last">The default value is <code class="docutils literal notranslate"><span class="pre">routable:follow</span></code>, which means “follow routable
redirects, return all other redirects”. Note that
<a class="reference internal" href="#proxy-config-http-number-of-redirections" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.number_of_redirections</span></code></a> must be positive also,
otherwise redirects will be returned rather than followed.</p>
</div>
</div>
<div class="section" id="origin-server-connect-attempts">
<h2>Origin Server Connect Attempts<a class="headerlink" href="#origin-server-connect-attempts" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-connect-attempts-max-retries">
<span id="proxy.config.http.connect_attempts_max_retries"></span><code class="descname">proxy.config.http.connect_attempts_max_retries</code><a class="headerlink" href="#proxy-config-http-connect-attempts-max-retries" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum number of connection retries Traffic Server can make when the origin server is not responding.
Each retry attempt lasts for <a class="reference internal" href="#proxy.config.http.connect_attempts_timeout">proxy.config.http.connect_attempts_timeout</a> seconds.  Once the maximum number of retries is
reached, the origin is marked dead.  After this, the setting  <a class="reference internal" href="#proxy.config.http.connect_attempts_max_retries_dead_server">proxy.config.http.connect_attempts_max_retries_dead_server</a>
is used to limit the number of retry attempts to the known dead origin.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-connect-attempts-max-retries-dead-server">
<span id="proxy.config.http.connect_attempts_max_retries_dead_server"></span><code class="descname">proxy.config.http.connect_attempts_max_retries_dead_server</code><a class="headerlink" href="#proxy-config-http-connect-attempts-max-retries-dead-server" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Maximum number of connection attempts Traffic Server can make while an origin is marked dead per request.  Typically this value is smaller than
<a class="reference internal" href="#proxy.config.http.connect_attempts_max_retries">proxy.config.http.connect_attempts_max_retries</a> so an error is returned to the client faster and also to reduce the load on the dead origin.
The timeout interval <a class="reference internal" href="#proxy.config.http.connect_attempts_timeout">proxy.config.http.connect_attempts_timeout</a> in seconds is used with this setting.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-server-max-connections">
<span id="proxy.config.http.server_max_connections"></span><code class="descname">proxy.config.http.server_max_connections</code><a class="headerlink" href="#proxy-config-http-server-max-connections" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Limits the number of socket connections across all origin servers to the
value specified. To disable, set to zero (<code class="docutils literal notranslate"><span class="pre">0</span></code>).</p>
<p class="compound-last">This value is used in determining when and if to prune active origin
sessions. Without this value set, connections to origins can consume all the
way up to <a class="reference internal" href="#proxy-config-net-connections-throttle" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.net.connections_throttle</span></code></a> connections, which
in turn can starve incoming requests from available connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-per-server-connection-max">
<span id="proxy.config.http.per_server.connection.max"></span><code class="descname">proxy.config.http.per_server.connection.max</code><a class="headerlink" href="#proxy-config-http-per-server-connection-max" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set a limit for the number of concurrent connections to an upstream server group. A value of
<code class="docutils literal notranslate"><span class="pre">0</span></code> disables checking. If a transaction attempts to connect to a group which already has the
maximum number of concurrent connections the transaction either rechecks after a delay or a 503
(<code class="docutils literal notranslate"><span class="pre">HTTP_STATUS_SERVICE_UNAVAILABLE</span></code>) error response is sent to the user agent. To configure</p>
<dl class="compound-last docutils">
<dt>Number of transactions that can be delayed concurrently</dt>
<dd>See <a class="reference internal" href="#proxy-config-http-per-server-connection-queue-size" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.per_server.connection.queue_size</span></code></a>.</dd>
<dt>How long to delay before rechecking</dt>
<dd>See <a class="reference internal" href="#proxy-config-http-per-server-connection-queue-delay" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.per_server.connection.queue_delay</span></code></a>.</dd>
<dt>Upstream server group definition</dt>
<dd>See <a class="reference internal" href="#proxy-config-http-per-server-connection-match" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.per_server.connection.match</span></code></a>.</dd>
<dt>Frequency of alerts</dt>
<dd>See <a class="reference internal" href="#proxy-config-http-per-server-connection-alert-delay" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.per_server.connection.alert_delay</span></code></a>.</dd>
</dl>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-per-server-connection-match">
<span id="proxy.config.http.per_server.connection.match"></span><code class="descname">proxy.config.http.per_server.connection.match</code><a class="headerlink" href="#proxy-config-http-per-server-connection-match" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">both</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Control the definition of an upstream server group for
<a class="reference internal" href="#proxy-config-http-per-server-connection-max" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.per_server.connection.max</span></code></a>. This must be one of the following keywords.</p>
<dl class="compound-middle docutils">
<dt>ip</dt>
<dd>Group by IP address. Each IP address is a group.</dd>
<dt>port</dt>
<dd>Group by IP address and port. Each distinct IP address and port pair is a group.</dd>
<dt>host</dt>
<dd>Group by host name. The host name is the post remap FQDN used to resolve the upstream
address.</dd>
<dt>both</dt>
<dd>Group by IP address, port, and host name. Each distinct combination is a group.</dd>
</dl>
<p class="compound-last">To disable upstream server grouping, set <a class="reference internal" href="#proxy-config-http-per-server-connection-max" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.per_server.connection.max</span></code></a> to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This setting is independent of the <a class="reference internal" href="#proxy-config-http-server-session-sharing-match" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">setting</span> <span class="pre">for</span> <span class="pre">upstream</span> <span class="pre">session</span> <span class="pre">sharing</span> <span class="pre">matching</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-per-server-connection-queue-size">
<span id="proxy.config.http.per_server.connection.queue_size"></span><code class="descname">proxy.config.http.per_server.connection.queue_size</code><a class="headerlink" href="#proxy-config-http-per-server-connection-queue-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Controls the number of transactions that can be waiting on an upstream server group.</p>
<dl class="compound-last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">-1</span></code></dt>
<dd>Unlimited.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">0</span></code></dt>
<dd>Never wait. If the connection maximum has been reached immediately respond with an error.</dd>
<dt>A positive number</dt>
<dd>If there are less than this many waiting transactions, delay this transaction and try again. Otherwise respond immediately with an error.</dd>
</dl>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-per-server-connection-queue-delay">
<span id="proxy.config.http.per_server.connection.queue_delay"></span><code class="descname">proxy.config.http.per_server.connection.queue_delay</code><a class="headerlink" href="#proxy-config-http-per-server-connection-queue-delay" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">milliseconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If a transaction is delayed due to too many connections in an upstream server group, delay this amount of time before checking again.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-per-server-connection-alert-delay">
<span id="proxy.config.http.per_server.connection.alert_delay"></span><code class="descname">proxy.config.http.per_server.connection.alert_delay</code><a class="headerlink" href="#proxy-config-http-per-server-connection-alert-delay" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">60</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Throttle alerts per upstream server group to be no more often than this many seconds. Summary
data is provided per alert to allow log scrubbing to generate accurate data.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-per-server-connection-min">
<span id="proxy.config.http.per_server.connection.min"></span><code class="descname">proxy.config.http.per_server.connection.min</code><a class="headerlink" href="#proxy-config-http-per-server-connection-min" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set a target for the minimum number of active connections to an upstream server group. When an
outbound connection is in keep alive state and the inactivity timer expires, if there are fewer
than this many connections in the group a new connection the timer is reset instead of closing
the connection. Useful when the origin supports keep-alive, removing the time needed to set up a
new connection from the next request at the expense of added (inactive) connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-connect-attempts-rr-retries">
<span id="proxy.config.http.connect_attempts_rr_retries"></span><code class="descname">proxy.config.http.connect_attempts_rr_retries</code><a class="headerlink" href="#proxy-config-http-connect-attempts-rr-retries" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum number of failed connection attempts allowed before a round-robin entry is marked as ‘down’ if a server
has round-robin DNS entries.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-connect-attempts-timeout">
<span id="proxy.config.http.connect_attempts_timeout"></span><code class="descname">proxy.config.http.connect_attempts_timeout</code><a class="headerlink" href="#proxy-config-http-connect-attempts-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The timeout value (in seconds) for time to set up a connection to the origin. After the connection is established the value of
<code class="docutils literal notranslate"><span class="pre">proxy.config.http.transaction_no_activity_timeout_out</span></code> is used to established timeouts on the data over the connection.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-post-connect-attempts-timeout">
<span id="proxy.config.http.post_connect_attempts_timeout"></span><code class="descname">proxy.config.http.post_connect_attempts_timeout</code><a class="headerlink" href="#proxy-config-http-post-connect-attempts-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1800</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The timeout value (in seconds) for an origin server connection when the client request is a <code class="docutils literal notranslate"><span class="pre">POST</span></code> or <code class="docutils literal notranslate"><span class="pre">PUT</span></code>
request.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-post-check-content-length-enabled">
<span id="proxy.config.http.post.check.content_length.enabled"></span><code class="descname">proxy.config.http.post.check.content_length.enabled</code><a class="headerlink" href="#proxy-config-http-post-check-content-length-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) checking the Content-Length: Header for a POST request.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-down-server-cache-time">
<span id="proxy.config.http.down_server.cache_time"></span><code class="descname">proxy.config.http.down_server.cache_time</code><a class="headerlink" href="#proxy-config-http-down-server-cache-time" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">60</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how long (in seconds) Traffic Server remembers that an origin server was unreachable.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-down-server-abort-threshold">
<span id="proxy.config.http.down_server.abort_threshold"></span><code class="descname">proxy.config.http.down_server.abort_threshold</code><a class="headerlink" href="#proxy-config-http-down-server-abort-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The number of seconds before Traffic Server marks an origin server as unavailable after a client abandons a request
because the origin server was too slow in sending the response header.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-uncacheable-requests-bypass-parent">
<span id="proxy.config.http.uncacheable_requests_bypass_parent"></span><code class="descname">proxy.config.http.uncacheable_requests_bypass_parent</code><a class="headerlink" href="#proxy-config-http-uncacheable-requests-bypass-parent" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (1), Traffic Server bypasses the parent proxy for a request that is not cacheable.</p>
</div>
</div>
<div class="section" id="congestion-control">
<h2>Congestion Control<a class="headerlink" href="#congestion-control" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-flow-control-enabled">
<span id="proxy.config.http.flow_control.enabled"></span><code class="descname">proxy.config.http.flow_control.enabled</code><a class="headerlink" href="#proxy-config-http-flow-control-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Transaction buffering / flow control is enabled if this is set to a non-zero value. Otherwise no flow control is done.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-flow-control-high-water">
<span id="proxy.config.http.flow_control.high_water"></span><code class="descname">proxy.config.http.flow_control.high_water</code><a class="headerlink" href="#proxy-config-http-flow-control-high-water" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">bytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The high water mark for transaction buffer control. External source I/O is halted when the total buffer space in use
by the transaction exceeds this value.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-flow-control-low-water">
<span id="proxy.config.http.flow_control.low_water"></span><code class="descname">proxy.config.http.flow_control.low_water</code><a class="headerlink" href="#proxy-config-http-flow-control-low-water" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">bytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The low water mark for transaction buffer control. External source I/O is resumed when the total buffer space in use
by the transaction is no more than this value.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-websocket-max-number-of-connections">
<span id="proxy.config.http.websocket.max_number_of_connections"></span><code class="descname">proxy.config.http.websocket.max_number_of_connections</code><a class="headerlink" href="#proxy-config-http-websocket-max-number-of-connections" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled &gt;= (<code class="docutils literal notranslate"><span class="pre">0</span></code>), Traffic Server will enforce a maximum number of simultaneous websocket connections.</p>
</div>
</div>
<div class="section" id="negative-response-caching">
<span id="admin-negative-response-caching"></span><h2>Negative Response Caching<a class="headerlink" href="#negative-response-caching" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-negative-caching-enabled">
<span id="proxy.config.http.negative_caching_enabled"></span><code class="descname">proxy.config.http.negative_caching_enabled</code><a class="headerlink" href="#proxy-config-http-negative-caching-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server caches negative responses (such as <code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></code>)
when a requested page does not exist. The next time a client requests the
same page, Traffic Server serves the negative response directly from cache.</p>
<p class="compound-middle">When disabled (<code class="docutils literal notranslate"><span class="pre">0</span></code>), Traffic Server will only cache the response if the response has
<code class="docutils literal notranslate"><span class="pre">Cache-Control</span></code> headers.</p>
<p class="compound-middle">The following negative responses are cached by Traffic Server by default:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">HTTP Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">204</span></code></td>
<td>No Content</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">305</span></code></td>
<td>Use Proxy</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">403</span></code></td>
<td>Forbidden</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">404</span></code></td>
<td>Not Found</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">414</span></code></td>
<td>URI Too Long</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">500</span></code></td>
<td>Internal Server Error</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">501</span></code></td>
<td>Not Implemented</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">502</span></code></td>
<td>Bad Gateway</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">503</span></code></td>
<td>Service Unavailable</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">504</span></code></td>
<td>Gateway Timeout</td>
</tr>
</tbody>
</table>
<p class="compound-last">The cache lifetime for objects cached from this setting is controlled via
<a class="reference internal" href="#proxy-config-http-negative-caching-lifetime" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.negative_caching_lifetime</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-negative-caching-lifetime">
<span id="proxy.config.http.negative_caching_lifetime"></span><code class="descname">proxy.config.http.negative_caching_lifetime</code><a class="headerlink" href="#proxy-config-http-negative-caching-lifetime" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1800</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>How long (in seconds) Traffic Server keeps the negative responses  valid in cache. This value only affects negative
responses that do NOT have explicit <code class="docutils literal notranslate"><span class="pre">Expires:</span></code> or <code class="docutils literal notranslate"><span class="pre">Cache-Control:</span></code> lifetimes set by the server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-negative-caching-list">
<span id="proxy.config.http.negative_caching_list"></span><code class="descname">proxy.config.http.negative_caching_list</code><a class="headerlink" href="#proxy-config-http-negative-caching-list" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">204 305 403 404 414 500 501 502 503 504</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The HTTP status code for negative caching. Default values are mentioned above. The unwanted status codes can be
taken out from the list. Other status codes can be added. The variable is a list but parsed as STRING.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-negative-revalidating-enabled">
<span id="proxy.config.http.negative_revalidating_enabled"></span><code class="descname">proxy.config.http.negative_revalidating_enabled</code><a class="headerlink" href="#proxy-config-http-negative-revalidating-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Negative revalidating allows Traffic Server to return stale content if revalidation to the origin fails due
to network or HTTP errors. If it is enabled, rather than caching the negative response, the
current stale content is preserved and served. Note this is considered only on a revalidation of
already cached content. A revalidation failure means a connection failure or a 50x response code.</p>
<p class="compound-last">A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> disables serving stale content and a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> enables keeping and serving stale content if revalidation fails.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-negative-revalidating-lifetime">
<span id="proxy.config.http.negative_revalidating_lifetime"></span><code class="descname">proxy.config.http.negative_revalidating_lifetime</code><a class="headerlink" href="#proxy-config-http-negative-revalidating-lifetime" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1800</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>How long, in seconds, to consider a stale cached document valid if If
<a class="reference internal" href="#proxy-config-http-negative-revalidating-enabled" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.negative_revalidating_enabled</span></code></a> is enabled and Traffic Server receives a negative
(<code class="docutils literal notranslate"><span class="pre">5xx</span></code> only) response from the origin server during revalidation.</p>
</div>
</div>
<div class="section" id="proxy-user-variables">
<h2>Proxy User Variables<a class="headerlink" href="#proxy-user-variables" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-anonymize-remove-from">
<span id="proxy.config.http.anonymize_remove_from"></span><code class="descname">proxy.config.http.anonymize_remove_from</code><a class="headerlink" href="#proxy-config-http-anonymize-remove-from" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server removes the <code class="docutils literal notranslate"><span class="pre">From</span></code> header to protect the privacy of your users.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-anonymize-remove-referer">
<span id="proxy.config.http.anonymize_remove_referer"></span><code class="descname">proxy.config.http.anonymize_remove_referer</code><a class="headerlink" href="#proxy-config-http-anonymize-remove-referer" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server removes the <code class="docutils literal notranslate"><span class="pre">Referrer</span></code> header to protect the privacy of your site and users.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-anonymize-remove-user-agent">
<span id="proxy.config.http.anonymize_remove_user_agent"></span><code class="descname">proxy.config.http.anonymize_remove_user_agent</code><a class="headerlink" href="#proxy-config-http-anonymize-remove-user-agent" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server removes the <code class="docutils literal notranslate"><span class="pre">User-agent</span></code> header to protect the privacy of your site and users.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-anonymize-remove-cookie">
<span id="proxy.config.http.anonymize_remove_cookie"></span><code class="descname">proxy.config.http.anonymize_remove_cookie</code><a class="headerlink" href="#proxy-config-http-anonymize-remove-cookie" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server removes the <code class="docutils literal notranslate"><span class="pre">Cookie</span></code> header to protect the privacy of your site and users.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-anonymize-remove-client-ip">
<span id="proxy.config.http.anonymize_remove_client_ip"></span><code class="descname">proxy.config.http.anonymize_remove_client_ip</code><a class="headerlink" href="#proxy-config-http-anonymize-remove-client-ip" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server removes <code class="docutils literal notranslate"><span class="pre">Client-IP</span></code> headers for more privacy.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-insert-client-ip">
<span id="proxy.config.http.insert_client_ip"></span><code class="descname">proxy.config.http.insert_client_ip</code><a class="headerlink" href="#proxy-config-http-insert-client-ip" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies whether Traffic Server inserts <code class="docutils literal notranslate"><span class="pre">Client-IP</span></code> headers to retain the client IP address:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Don’t insert the <code class="docutils literal notranslate"><span class="pre">Client-ip</span></code> header</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Insert the <code class="docutils literal notranslate"><span class="pre">Client-ip</span></code> header, but only if the UA did not send one</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Always insert the <code class="docutils literal notranslate"><span class="pre">Client-ip</span></code> header</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-anonymize-other-header-list">
<span id="proxy.config.http.anonymize_other_header_list"></span><code class="descname">proxy.config.http.anonymize_other_header_list</code><a class="headerlink" href="#proxy-config-http-anonymize-other-header-list" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Comma separated list of headers Traffic Server should remove from outgoing requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-insert-squid-x-forwarded-for">
<span id="proxy.config.http.insert_squid_x_forwarded_for"></span><code class="descname">proxy.config.http.insert_squid_x_forwarded_for</code><a class="headerlink" href="#proxy-config-http-insert-squid-x-forwarded-for" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server adds the client IP address to the <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> header.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-insert-forwarded">
<span id="proxy.config.http.insert_forwarded"></span><code class="descname">proxy.config.http.insert_forwarded</code><a class="headerlink" href="#proxy-config-http-insert-forwarded" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">none</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The default value (<code class="docutils literal notranslate"><span class="pre">none</span></code>) means that Traffic Server does not insert or append information to any
<code class="docutils literal notranslate"><span class="pre">Forwarded</span></code> header (described in IETF <a class="reference external" href="https://tools.ietf.org/html/rfc7239.html">RFC 7239</a>) in the request message.  To put information into a
<code class="docutils literal notranslate"><span class="pre">Forwarded</span></code> header in the request, the value of this variable must be a list of the <code class="docutils literal notranslate"><span class="pre">Forwarded</span></code>
parameters to be inserted.</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Value of parameter place in outgoing Forwarded header</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>for</td>
<td>Client IP address</td>
</tr>
<tr class="row-odd"><td>by=ip</td>
<td>Proxy IP address</td>
</tr>
<tr class="row-even"><td>by=unknown</td>
<td>The literal string <code class="docutils literal notranslate"><span class="pre">unknown</span></code></td>
</tr>
<tr class="row-odd"><td>by=servername</td>
<td>Proxy server name</td>
</tr>
<tr class="row-even"><td>by=uuid</td>
<td>Server UUID prefixed with <code class="docutils literal notranslate"><span class="pre">_</span></code></td>
</tr>
<tr class="row-odd"><td>proto</td>
<td>Protocol of incoming request</td>
</tr>
<tr class="row-even"><td>host</td>
<td>The host specified in the incoming request</td>
</tr>
<tr class="row-odd"><td>connection=compact</td>
<td>Connection with basic transaction codes.</td>
</tr>
<tr class="row-even"><td>connection=std</td>
<td>Connection with detailed transaction codes.</td>
</tr>
<tr class="row-odd"><td>connection=full</td>
<td>Full user agent connection <a class="reference internal" href="../../developer-guide/api/functions/TSClientProtocolStack.en.html#protocol-tags"><span class="std std-ref">protocol tags</span></a></td>
</tr>
</tbody>
</table>
<p class="compound-last">Each parameter in the list must be separated by <code class="docutils literal notranslate"><span class="pre">|</span></code> or <code class="docutils literal notranslate"><span class="pre">:</span></code>.  For example, <code class="docutils literal notranslate"><span class="pre">for|by=uuid|proto</span></code> is
a valid value for this variable.  Note that the <code class="docutils literal notranslate"><span class="pre">connection</span></code> parameter is a non-standard extension to
<a class="reference external" href="https://tools.ietf.org/html/rfc7239.html">RFC 7239</a>.  Also note that, while Traffic Server allows multiple <code class="docutils literal notranslate"><span class="pre">by</span></code> parameters for the same proxy, this
is prohibited by <a class="reference external" href="https://tools.ietf.org/html/rfc7239.html">RFC 7239</a>. Currently, for the <code class="docutils literal notranslate"><span class="pre">host</span></code> parameter to provide the original host from the
incoming client request, <a class="reference internal" href="#proxy.config.url_remap.pristine_host_hdr">proxy.config.url_remap.pristine_host_hdr</a> must be enabled.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-proxy-protocol-allowlist">
<span id="proxy.config.http.proxy_protocol_allowlist"></span><code class="descname">proxy.config.http.proxy_protocol_allowlist</code><a class="headerlink" href="#proxy-config-http-proxy-protocol-allowlist" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">```&lt;ip list&gt;```</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This defines a allowlist of server IPs that are trusted to provide
connections with Proxy Protocol information.  This is a comma delimited list
of IP addresses.  Addressed may be listed individually, in a range separated
by a dash or by using CIDR notation.</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example  Effect</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">10.0.2.123</span></code></td>
<td>A single IP Address.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">10.0.3.1-10.0.3.254</span></code></td>
<td>A range of IP address.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">10.0.4.0/24</span></code></td>
<td>A range of IP address specified by CIDR notation.</td>
</tr>
</tbody>
</table>
<div class="compound-middle admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If Proxy Protocol is enabled on the port, but this directive is not
defined any server may initiate a connection with Proxy Protocol
information.
See <a class="reference internal" href="#proxy-config-http-server-ports" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_ports</span></code></a> for information on how to enable Proxy Protocol on a port.</p>
</div>
<p class="compound-last">See <a class="reference internal" href="../configuration/proxy-protocol.en.html#proxy-protocol"><span class="std std-ref">Proxy Protocol</span></a> for more discussion on how Traffic Server transforms the <cite>Forwarded: header</cite>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-normalize-ae">
<span id="proxy.config.http.normalize_ae"></span><code class="descname">proxy.config.http.normalize_ae</code><a class="headerlink" href="#proxy-config-http-normalize-ae" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies normalization, if any, of <code class="docutils literal notranslate"><span class="pre">Accept-Encoding:</span></code> headers.</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>No normalization.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Accept-Encoding:</span> <span class="pre">gzip</span></code> (if the header has <code class="docutils literal notranslate"><span class="pre">gzip</span></code> or <code class="docutils literal notranslate"><span class="pre">x-gzip</span></code> with any <code class="docutils literal notranslate"><span class="pre">q</span></code>) <strong>OR</strong>
<em>blank</em> (for any header that does not include <code class="docutils literal notranslate"><span class="pre">gzip</span></code>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Accept-Encoding:</span> <span class="pre">br</span></code> if the header has <code class="docutils literal notranslate"><span class="pre">br</span></code> (with any <code class="docutils literal notranslate"><span class="pre">q</span></code>) <strong>ELSE</strong>
normalize as for value <code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
</tbody>
</table>
<p class="compound-last">This is useful for minimizing cached alternates of documents (e.g. <code class="docutils literal notranslate"><span class="pre">gzip,</span> <span class="pre">deflate</span></code> vs. <code class="docutils literal notranslate"><span class="pre">deflate,</span> <span class="pre">gzip</span></code>).
Enabling this option is recommended if your origin servers use no encodings other than <code class="docutils literal notranslate"><span class="pre">gzip</span></code> or <code class="docutils literal notranslate"><span class="pre">br</span></code> (Brotli).</p>
</div>
</div>
<div class="section" id="security">
<h2>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-push-method-enabled">
<span id="proxy.config.http.push_method_enabled"></span><code class="descname">proxy.config.http.push_method_enabled</code><a class="headerlink" href="#proxy-config-http-push-method-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) the HTTP <code class="docutils literal notranslate"><span class="pre">PUSH</span></code> option, which allows you to deliver content directly to the cache without a user
request.</p>
<div class="compound-last admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If you enable this option, then you must also specify
a filtering rule in the ip_allow.yaml file to allow only certain
machines to push content into the cache.</p>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-max-post-size">
<span id="proxy.config.http.max_post_size"></span><code class="descname">proxy.config.http.max_post_size</code><a class="headerlink" href="#proxy-config-http-max-post-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This feature is disabled by default with a value of (<code class="docutils literal notranslate"><span class="pre">0</span></code>), any positive
value will limit the size of post bodies. If a request is received with a
post body larger than this limit the response will be terminated with
413 - Request Entity Too Large and logged accordingly.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-allow-multi-range">
<span id="proxy.config.http.allow_multi_range"></span><code class="descname">proxy.config.http.allow_multi_range</code><a class="headerlink" href="#proxy-config-http-allow-multi-range" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This option allows the administrator to configure different behavior and
handling of requests with multiple ranges in the <code class="docutils literal notranslate"><span class="pre">Range</span></code> header.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Do not allow multiple ranges, effectively ignoring the <code class="docutils literal notranslate"><span class="pre">Range</span></code> header</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Allows multiple ranges. This can be potentially dangerous since well
formed requests can cause excessive resource consumption on the server.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Similar to 0, except return a 416 error code and no response body.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-host-sni-policy">
<span id="proxy.config.http.host_sni_policy"></span><code class="descname">proxy.config.http.host_sni_policy</code><a class="headerlink" href="#proxy-config-http-host-sni-policy" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This option controls how host header and SNI name mismatches are handled.  Mismatches
may result in SNI-based policies defined in <a class="reference internal" href="sni.yaml.en.html#std:configfile-sni.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">sni.yaml</span></code></a> being avoided.  For example, <code class="docutils literal notranslate"><span class="pre">foo.com</span></code>
may be the fqdn value in <a class="reference internal" href="sni.yaml.en.html#std:configfile-sni.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">sni.yaml</span></code></a> which defines that client certificates are required.
The user could specify <code class="docutils literal notranslate"><span class="pre">bar.com</span></code> as the SNI to avoid the policy requiring the client certificate
but specify <code class="docutils literal notranslate"><span class="pre">foo.com</span></code> as the HTTP host header to still access the same object.</p>
<p class="compound-middle">Therefore, if a host header would have triggered a SNI policy, it is possible that the user is
trying to bypass a SNI policy if the host header and SNI values do not match.</p>
<p class="compound-middle">If this setting is 0, no checking is performed.  If this setting is 1 or 2, the host header and SNI values
are compared if the host header value would have triggered a SNI policy.  If there is a mismatch and the value
is 1, a warning is generated but the transaction is allowed to proceed.  If the value is 2 and there is a
mismatch, a warning is generated and a status 403 is returned.</p>
<p class="compound-middle">You can override this global setting on a per domain basis in the <a class="reference internal" href="sni.yaml.en.html#std:configfile-sni.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">sni.yaml</span></code></a> file using the <a class="reference internal" href="sni.yaml.en.html#override-host-sni-policy"><span class="std std-ref">host_sni_policy attribute</span></a> action.</p>
<p class="compound-last">Currently, only the verify_client and ip_allow policies are checked for host name and SNI matching.</p>
</div>
</div>
<div class="section" id="cache-control">
<h2>Cache Control<a class="headerlink" href="#cache-control" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-enable-read-while-writer">
<span id="proxy.config.cache.enable_read_while_writer"></span><code class="descname">proxy.config.cache.enable_read_while_writer</code><a class="headerlink" href="#proxy-config-cache-enable-read-while-writer" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies when to enable the ability to read a cached object while another
connection is completing the write to cache for that same object. The goal
here is to avoid multiple origin connections for the same cacheable object
upon a cache miss. The possible values of this config are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Never read while writing.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Always read while writing.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Always read while writing, but allow non-cached <code class="docutils literal notranslate"><span class="pre">Range</span></code> requests
through to the origin server.</td>
</tr>
</tbody>
</table>
<p class="compound-middle">The <code class="docutils literal notranslate"><span class="pre">2</span></code> option is useful to avoid delaying requests which can not easily
be satisfied by the partially written response.</p>
<p class="compound-last">Several other configuration values need to be set for this to be
usable. See <a class="reference internal" href="../configuration/cache-basics.en.html#admin-configuration-reducing-origin-requests"><span class="std std-ref">Reducing Origin Server Requests (Avoiding the Thundering Herd)</span></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-read-while-writer-max-retries">
<span id="proxy.config.cache.read_while_writer.max_retries"></span><code class="descname">proxy.config.cache.read_while_writer.max_retries</code><a class="headerlink" href="#proxy-config-cache-read-while-writer-max-retries" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how many retries trafficserver attempts to trigger read_while_writer on failing
to obtain the write VC mutex or until the first fragment is downloaded for the
object being downloaded. The retry duration is specified using the setting
<a class="reference internal" href="#proxy-config-cache-read-while-writer-retry-delay" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.cache.read_while_writer_retry.delay</span></code></a></p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-read-while-writer-retry-delay">
<span id="proxy.config.cache.read_while_writer_retry.delay"></span><code class="descname">proxy.config.cache.read_while_writer_retry.delay</code><a class="headerlink" href="#proxy-config-cache-read-while-writer-retry-delay" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">50</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the delay in msec, trafficserver waits to reattempt read_while_writer
on failing to obtain the write VC mutex or until the first fragment is downloaded
for the object being downloaded. Note that trafficserver implements a progressive
delay in reattempting, by doubling the configured duration from the third reattempt
onwards.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-force-sector-size">
<span id="proxy.config.cache.force_sector_size"></span><code class="descname">proxy.config.cache.force_sector_size</code><a class="headerlink" href="#proxy-config-cache-force-sector-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Forces the use of a specific hardware sector size, e.g. 4096, for all disks.</p>
<p class="compound-middle">SSDs and “advanced format” drives claim a sector size of 512; however, it is safe to force a higher
size than the hardware supports natively as we count atomicity in 512 byte increments.</p>
<p class="compound-middle">4096-sized drives formatted for Windows will have partitions aligned on 63 512-byte sector boundaries,
so they will be unaligned. There are workarounds, but you need to do some research on your particular
drive. Some drives have a one-time option to switch the partition boundary, while others might require
reformatting or repartitioning.</p>
<p class="compound-middle">To be safe in Linux, you could just use the entire drive: <code class="docutils literal notranslate"><span class="pre">/dev/sdb</span></code> instead of <code class="docutils literal notranslate"><span class="pre">/dev/sdb1</span></code> and
Traffic Server will do the right thing. Misaligned partitions on Linux are auto-detected.</p>
<p class="compound-middle">For example: If <code class="docutils literal notranslate"><span class="pre">/sys/block/sda/sda1/alignment_offset</span></code> is non-zero, ATS will offset reads/writes to
that disk by that alignment. If Linux knows about any existing partition misalignments, ATS will compensate.</p>
<p class="compound-last">Partitions formatted to support hardware sector size of more than 512 (e.g. 4096) will result in all
objects stored in the cache to be integral multiples of 4096 bytes, which will result in some waste for
small files.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-http">
<span id="proxy.config.http.cache.http"></span><code class="descname">proxy.config.http.cache.http</code><a class="headerlink" href="#proxy-config-http-cache-http" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) caching of HTTP requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-post-method">
<span id="proxy.config.http.cache.post_method"></span><code class="descname">proxy.config.http.cache.post_method</code><a class="headerlink" href="#proxy-config-http-cache-post-method" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) caching of HTTP POST requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-generation">
<span id="proxy.config.http.cache.generation"></span><code class="descname">proxy.config.http.cache.generation</code><a class="headerlink" href="#proxy-config-http-cache-generation" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If set to a value other than <code class="docutils literal notranslate"><span class="pre">-1</span></code>, the value if this configuration
option is combined with the cache key at cache lookup time.
Changing this value has the effect of an instantaneous, zero-cost
cache purge since it will cause all subsequent cache keys to
change. Since this is an overridable configuration, it can be
used to purge the entire cache, or just a specific <a class="reference internal" href="remap.config.en.html#std:configfile-remap.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">remap.config</span></code></a>
rule.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-doc-in-cache-skip-dns">
<span id="proxy.config.http.doc_in_cache_skip_dns"></span><code class="descname">proxy.config.http.doc_in_cache_skip_dns</code><a class="headerlink" href="#proxy-config-http-doc-in-cache-skip-dns" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), do not perform origin server DNS resolution if a fresh
copy of the requested document is available in the cache. This setting has
no effect if HTTP caching is disabled or if there are IP based ACLs
configured.</p>
<p class="compound-middle">Note that plugins, particularly authorization plugins, which use the
<a class="reference internal" href="../../developer-guide/api/types/TSHttpHookID.en.html#c.TS_HTTP_OS_DNS_HOOK" title="TS_HTTP_OS_DNS_HOOK"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_HTTP_OS_DNS_HOOK</span></code></a> hook may require this configuration variable
to be disabled (<code class="docutils literal notranslate"><span class="pre">0</span></code>) in order to function properly. This will ensure that
the hook will be evaluated and plugin execution will occur even when there
is a fresh copy of the requested object in the cache (which would normally
allow the DNS lookup to be skipped, thus eliminating the hook evaluation).</p>
<p class="compound-last">The downside is that the performance gain by skipping otherwise unnecessary
DNS lookups is lost. Because the variable is overridable, you may retain
this performance benefit for portions of your cache which do not require the
use of <a class="reference internal" href="../../developer-guide/api/types/TSHttpHookID.en.html#c.TS_HTTP_OS_DNS_HOOK" title="TS_HTTP_OS_DNS_HOOK"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_HTTP_OS_DNS_HOOK</span></code></a> plugins, by ensuring that the setting
is first disabled within only the relevant transactions. Refer to the
documentation on <a class="reference internal" href="../plugins/conf_remap.en.html#admin-plugins-conf-remap"><span class="std std-ref">Configuration Remap Plugin</span></a> for more information.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-client-no-cache">
<span id="proxy.config.http.cache.ignore_client_no_cache"></span><code class="descname">proxy.config.http.cache.ignore_client_no_cache</code><a class="headerlink" href="#proxy-config-http-cache-ignore-client-no-cache" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server ignores client requests to bypass the cache.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ims-on-client-no-cache">
<span id="proxy.config.http.cache.ims_on_client_no_cache"></span><code class="descname">proxy.config.http.cache.ims_on_client_no_cache</code><a class="headerlink" href="#proxy-config-http-cache-ims-on-client-no-cache" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server issues a conditional request to the origin server if an incoming request has a <code class="docutils literal notranslate"><span class="pre">No-Cache</span></code> header.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-server-no-cache">
<span id="proxy.config.http.cache.ignore_server_no_cache"></span><code class="descname">proxy.config.http.cache.ignore_server_no_cache</code><a class="headerlink" href="#proxy-config-http-cache-ignore-server-no-cache" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server ignores origin server requests to bypass the cache.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-cache-responses-to-cookies">
<span id="proxy.config.http.cache.cache_responses_to_cookies"></span><code class="descname">proxy.config.http.cache.cache_responses_to_cookies</code><a class="headerlink" href="#proxy-config-http-cache-cache-responses-to-cookies" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how cookies are cached:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Do not cache any responses to cookies.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Cache for any content-type.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Cache only for image types.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Cache for all but text content-types.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td>Cache for all but text content-types; except origin server response
without <code class="docutils literal notranslate"><span class="pre">Set-Cookie</span></code> or with <code class="docutils literal notranslate"><span class="pre">Cache-Control:</span> <span class="pre">public</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-authentication">
<span id="proxy.config.http.cache.ignore_authentication"></span><code class="descname">proxy.config.http.cache.ignore_authentication</code><a class="headerlink" href="#proxy-config-http-cache-ignore-authentication" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server ignores <code class="docutils literal notranslate"><span class="pre">WWW-Authentication</span></code> headers in responses <code class="docutils literal notranslate"><span class="pre">WWW-Authentication</span></code> headers are removed and
not cached.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-cache-urls-that-look-dynamic">
<span id="proxy.config.http.cache.cache_urls_that_look_dynamic"></span><code class="descname">proxy.config.http.cache.cache_urls_that_look_dynamic</code><a class="headerlink" href="#proxy-config-http-cache-cache-urls-that-look-dynamic" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) caching of URLs that look dynamic, i.e.: URLs that end in <code class="docutils literal notranslate"><span class="pre">.asp</span></code> or contain a question
mark (<code class="docutils literal notranslate"><span class="pre">?</span></code>), a semicolon (<code class="docutils literal notranslate"><span class="pre">;</span></code>), or <code class="docutils literal notranslate"><span class="pre">cgi</span></code>. For a full list, please refer to
<a class="reference external" href="/link/to/doxygen">HttpTransact::url_looks_dynamic</a></p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-when-to-revalidate">
<span id="proxy.config.http.cache.when_to_revalidate"></span><code class="descname">proxy.config.http.cache.when_to_revalidate</code><a class="headerlink" href="#proxy-config-http-cache-when-to-revalidate" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies when to revalidate content:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Use cache directives or heuristic (the default value).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Stale if heuristic.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Always stale (always revalidate).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Never stale.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td>Use cache directives or heuristic (0) unless the request has an
<code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> header.</td>
</tr>
</tbody>
</table>
<p class="compound-last">If the request contains the <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> header, then Traffic Server always
revalidates the cached content and uses the client’s <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code>
header for the proxy request.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-required-headers">
<span id="proxy.config.http.cache.required_headers"></span><code class="descname">proxy.config.http.cache.required_headers</code><a class="headerlink" href="#proxy-config-http-cache-required-headers" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The type of headers required in a request for the request to be cacheable.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>No headers required to make document cacheable.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Either the <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> header, or an explicit lifetime header
(<code class="docutils literal notranslate"><span class="pre">Expires</span></code> or <code class="docutils literal notranslate"><span class="pre">Cache-Control:</span> <span class="pre">max-age</span></code>) is required.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Explicit lifetime is required, from either <code class="docutils literal notranslate"><span class="pre">Expires</span></code> or
<code class="docutils literal notranslate"><span class="pre">Cache-Control:</span> <span class="pre">max-age</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-max-stale-age">
<span id="proxy.config.http.cache.max_stale_age"></span><code class="descname">proxy.config.http.cache.max_stale_age</code><a class="headerlink" href="#proxy-config-http-cache-max-stale-age" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">604800</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum age allowed for a stale response before it cannot be cached.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-guaranteed-min-lifetime">
<span id="proxy.config.http.cache.guaranteed_min_lifetime"></span><code class="descname">proxy.config.http.cache.guaranteed_min_lifetime</code><a class="headerlink" href="#proxy-config-http-cache-guaranteed-min-lifetime" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Establishes a guaranteed minimum lifetime boundary for object freshness.
Setting this to <code class="docutils literal notranslate"><span class="pre">0</span></code> (default) disables the feature.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-guaranteed-max-lifetime">
<span id="proxy.config.http.cache.guaranteed_max_lifetime"></span><code class="descname">proxy.config.http.cache.guaranteed_max_lifetime</code><a class="headerlink" href="#proxy-config-http-cache-guaranteed-max-lifetime" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">31536000</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Establishes a guaranteed maximum lifetime boundary for object freshness.
Setting this to <code class="docutils literal notranslate"><span class="pre">0</span></code> disables the feature.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-range-lookup">
<span id="proxy.config.http.cache.range.lookup"></span><code class="descname">proxy.config.http.cache.range.lookup</code><a class="headerlink" href="#proxy-config-http-cache-range-lookup" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server looks up range requests in the cache.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-range-write">
<span id="proxy.config.http.cache.range.write"></span><code class="descname">proxy.config.http.cache.range.write</code><a class="headerlink" href="#proxy-config-http-cache-range-write" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server will attempt to write (lock) the URL
to cache. This is rarely useful (at the moment), since it’ll only be able
to write to cache if the origin has ignored the <code class="docutils literal notranslate"><span class="pre">Range:</span></code> header. For a use
case where you know the origin will respond with a full (<code class="docutils literal notranslate"><span class="pre">200</span></code>) response,
you can turn this on to allow it to be cached.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-accept-mismatch">
<span id="proxy.config.http.cache.ignore_accept_mismatch"></span><code class="descname">proxy.config.http.cache.ignore_accept_mismatch</code><a class="headerlink" href="#proxy-config-http-cache-ignore-accept-mismatch" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled with a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>, Traffic Server serves documents from cache with a
<code class="docutils literal notranslate"><span class="pre">Content-Type:</span></code> header even if it does not match the <code class="docutils literal notranslate"><span class="pre">Accept:</span></code> header of the
request. If set to <code class="docutils literal notranslate"><span class="pre">2</span></code> (default), this logic only happens in the absence of a
<code class="docutils literal notranslate"><span class="pre">Vary</span></code> header in the cached response (which is the recommended and safe use).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option should only be enabled with <code class="docutils literal notranslate"><span class="pre">1</span></code> if you’re having
problems with caching <em>and</em> you origin server doesn’t set the <code class="docutils literal notranslate"><span class="pre">Vary</span></code>
header. Alternatively, if the origin is incorrectly setting
<code class="docutils literal notranslate"><span class="pre">Vary:</span> <span class="pre">Accept</span></code> or doesn’t respond with <code class="docutils literal notranslate"><span class="pre">406</span> <span class="pre">(Not</span> <span class="pre">Acceptable)</span></code>,
you can also enable this configuration with a <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-accept-language-mismatch">
<span id="proxy.config.http.cache.ignore_accept_language_mismatch"></span><code class="descname">proxy.config.http.cache.ignore_accept_language_mismatch</code><a class="headerlink" href="#proxy-config-http-cache-ignore-accept-language-mismatch" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled with a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>, Traffic Server serves documents from cache with a
<code class="docutils literal notranslate"><span class="pre">Content-Language:</span></code> header even if it does not match the <code class="docutils literal notranslate"><span class="pre">Accept-Language:</span></code>
header of the request. If set to <code class="docutils literal notranslate"><span class="pre">2</span></code> (default), this logic only happens in the absence of a
<code class="docutils literal notranslate"><span class="pre">Vary</span></code> header in the cached response (which is the recommended and safe use).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option should only be enabled with <code class="docutils literal notranslate"><span class="pre">1</span></code> if you’re having
problems with caching <em>and</em> you origin server doesn’t set the <code class="docutils literal notranslate"><span class="pre">Vary</span></code>
header. Alternatively, if the origin is incorrectly setting
<code class="docutils literal notranslate"><span class="pre">Vary:</span> <span class="pre">Accept-Language</span></code> or doesn’t respond with <code class="docutils literal notranslate"><span class="pre">406</span> <span class="pre">(Not</span> <span class="pre">Acceptable)</span></code>,
you can also enable this configuration with a <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-accept-encoding-mismatch">
<span id="proxy.config.http.cache.ignore_accept_encoding_mismatch"></span><code class="descname">proxy.config.http.cache.ignore_accept_encoding_mismatch</code><a class="headerlink" href="#proxy-config-http-cache-ignore-accept-encoding-mismatch" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled with a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>, Traffic Server serves documents from cache with a
<code class="docutils literal notranslate"><span class="pre">Content-Encoding:</span></code> header even if it does not match the <code class="docutils literal notranslate"><span class="pre">Accept-Encoding:</span></code>
header of the request. If set to <code class="docutils literal notranslate"><span class="pre">2</span></code> (default), this logic only happens in the absence of a
<code class="docutils literal notranslate"><span class="pre">Vary</span></code> header in the cached response (which is the recommended and safe use).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option should only be enabled with <code class="docutils literal notranslate"><span class="pre">1</span></code> if you’re having
problems with caching <em>and</em> you origin server doesn’t set the <code class="docutils literal notranslate"><span class="pre">Vary</span></code>
header. Alternatively, if the origin is incorrectly setting
<code class="docutils literal notranslate"><span class="pre">Vary:</span> <span class="pre">Accept-Encoding</span></code> or doesn’t respond with <code class="docutils literal notranslate"><span class="pre">406</span> <span class="pre">(Not</span> <span class="pre">Acceptable)</span></code>
you can also enable this configuration with a <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-accept-charset-mismatch">
<span id="proxy.config.http.cache.ignore_accept_charset_mismatch"></span><code class="descname">proxy.config.http.cache.ignore_accept_charset_mismatch</code><a class="headerlink" href="#proxy-config-http-cache-ignore-accept-charset-mismatch" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled with a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>, Traffic Server serves documents from cache with a
<code class="docutils literal notranslate"><span class="pre">Content-Type:</span></code> header even if it does not match the <code class="docutils literal notranslate"><span class="pre">Accept-Charset:</span></code> header
of the request. If set to <code class="docutils literal notranslate"><span class="pre">2</span></code> (default), this logic only happens in the absence of a
<code class="docutils literal notranslate"><span class="pre">Vary</span></code> header in the cached response (which is the recommended and safe use).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option should only be enabled with <code class="docutils literal notranslate"><span class="pre">1</span></code> if you’re having
problems with caching <em>and</em> you origin server doesn’t set the <code class="docutils literal notranslate"><span class="pre">Vary</span></code>
header. Alternatively, if the origin is incorrectly setting
<code class="docutils literal notranslate"><span class="pre">Vary:</span> <span class="pre">Accept-Charset</span></code> or doesn’t respond with <code class="docutils literal notranslate"><span class="pre">406</span> <span class="pre">(Not</span> <span class="pre">Acceptable)</span></code>,
you can also enable this configuration with a <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-ignore-client-cc-max-age">
<span id="proxy.config.http.cache.ignore_client_cc_max_age"></span><code class="descname">proxy.config.http.cache.ignore_client_cc_max_age</code><a class="headerlink" href="#proxy-config-http-cache-ignore-client-cc-max-age" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server ignores any <code class="docutils literal notranslate"><span class="pre">Cache-Control:</span>
<span class="pre">max-age</span></code> headers from the client. This technically violates the HTTP RFC,
but avoids a problem where a client can forcefully invalidate a cached object.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-max-doc-size">
<span id="proxy.config.cache.max_doc_size"></span><code class="descname">proxy.config.cache.max_doc_size</code><a class="headerlink" href="#proxy-config-cache-max-doc-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the maximum object size that will be cached. <code class="docutils literal notranslate"><span class="pre">0</span></code> is unlimited.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-min-average-object-size">
<span id="proxy.config.cache.min_average_object_size"></span><code class="descname">proxy.config.cache.min_average_object_size</code><a class="headerlink" href="#proxy-config-cache-min-average-object-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8000</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the lower boundary of average object sizes in the cache and is
used in determining the number of <a class="reference internal" href="../../appendices/glossary.en.html#term-directory-bucket"><span class="xref std std-term">directory buckets</span></a>
to allocate for the in-memory cache directory.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-permit-pinning">
<span id="proxy.config.cache.permit.pinning"></span><code class="descname">proxy.config.cache.permit.pinning</code><a class="headerlink" href="#proxy-config-cache-permit-pinning" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server will keep certain HTTP objects in the cache for a certain time as specified in cache.config.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-hit-evacuate-percent">
<span id="proxy.config.cache.hit_evacuate_percent"></span><code class="descname">proxy.config.cache.hit_evacuate_percent</code><a class="headerlink" href="#proxy-config-cache-hit-evacuate-percent" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The size of the region (as a percentage of the total content storage in a <a class="reference internal" href="../../appendices/glossary.en.html#term-cache-stripe"><span class="xref std std-term">cache stripe</span></a>) in front of the
<a class="reference internal" href="../../appendices/glossary.en.html#term-write-cursor"><span class="xref std std-term">write cursor</span></a> that constitutes a recent access hit for evacuating the accessed object.</p>
<p class="compound-middle">When an object is accessed it can be marked for evacuation, that is to be copied over the write cursor and
thereby preserved from being overwritten. This is done if it is no more than a specific number of bytes in front of
the write cursor. The number of bytes is a percentage of the total number of bytes of content storage in the cache
stripe where the object is stored and that percentage is set by this variable.</p>
<p class="compound-last">By default, the feature is off (set to 0).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-hit-evacuate-size-limit">
<span id="proxy.config.cache.hit_evacuate_size_limit"></span><code class="descname">proxy.config.cache.hit_evacuate_size_limit</code><a class="headerlink" href="#proxy-config-cache-hit-evacuate-size-limit" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Limit the size of objects that are hit evacuated.</p>
<p class="compound-last">Objects larger than the limit are not hit evacuated. A value of 0 disables the limit.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-limits-http-max-alts">
<span id="proxy.config.cache.limits.http.max_alts"></span><code class="descname">proxy.config.cache.limits.http.max_alts</code><a class="headerlink" href="#proxy-config-cache-limits-http-max-alts" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">5</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum number of alternates that are allowed for any given URL.
Disable by setting to 0.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-target-fragment-size">
<span id="proxy.config.cache.target_fragment_size"></span><code class="descname">proxy.config.cache.target_fragment_size</code><a class="headerlink" href="#proxy-config-cache-target-fragment-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1048576</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the target size of a contiguous fragment of a file in the disk cache.
When setting this, consider that larger numbers could waste memory on slow
connections, but smaller numbers could increase (waste) seeks.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-alt-rewrite-max-size">
<span id="proxy.config.cache.alt_rewrite_max_size"></span><code class="descname">proxy.config.cache.alt_rewrite_max_size</code><a class="headerlink" href="#proxy-config-cache-alt-rewrite-max-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4096</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the size, in bytes, of an alternate that will be considered
small enough to trigger a rewrite of the resident alt fragment within a
write vector. For further details on cache write vectors, refer to the
developer documentation for <a class="reference internal" href="../../developer-guide/cache-architecture/data-structures.en.html#_CPPv47CacheVC" title="CacheVC"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CacheVC</span></code></a>.</p>
</div>
</div>
<div class="section" id="ram-cache">
<h2>RAM Cache<a class="headerlink" href="#ram-cache" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-ram-cache-size">
<span id="proxy.config.cache.ram_cache.size"></span><code class="descname">proxy.config.cache.ram_cache.size</code><a class="headerlink" href="#proxy-config-cache-ram-cache-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>By default the RAM cache size is automatically determined, based on
disk cache size; approximately 10 MB of RAM cache per GB of disk cache.
Alternatively, it can be set to a fixed value such as
<strong>20GB</strong> (21474836480)</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-ram-cache-cutoff">
<span id="proxy.config.cache.ram_cache_cutoff"></span><code class="descname">proxy.config.cache.ram_cache_cutoff</code><a class="headerlink" href="#proxy-config-cache-ram-cache-cutoff" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4194304</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Objects greater than this size will not be kept in the RAM cache.
This should be set high enough to keep objects accessed frequently
in memory in order to improve performance.
<strong>4MB</strong> (4194304)</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-ram-cache-algorithm">
<span id="proxy.config.cache.ram_cache.algorithm"></span><code class="descname">proxy.config.cache.ram_cache.algorithm</code><a class="headerlink" href="#proxy-config-cache-ram-cache-algorithm" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Two distinct RAM caches are supported, the default (1) being the simpler
<strong>LRU</strong> (<em>Least Recently Used</em>) cache. As an alternative, the <strong>CLFUS</strong>
(<em>Clocked Least Frequently Used by Size</em>) is also available, by changing this
configuration to 0.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-ram-cache-use-seen-filter">
<span id="proxy.config.cache.ram_cache.use_seen_filter"></span><code class="descname">proxy.config.cache.ram_cache.use_seen_filter</code><a class="headerlink" href="#proxy-config-cache-ram-cache-use-seen-filter" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enabling this option will filter inserts into the RAM cache to ensure that
they have been seen at least once.  For the <strong>LRU</strong>, this provides scan
resistance. Note that <strong>CLFUS</strong> already requires that a document have history
before it is inserted, so for <strong>CLFUS</strong>, setting this option means that a
document must be seen three times before it is added to the RAM cache.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-ram-cache-compress">
<span id="proxy.config.cache.ram_cache.compress"></span><code class="descname">proxy.config.cache.ram_cache.compress</code><a class="headerlink" href="#proxy-config-cache-ram-cache-compress" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The <strong>CLFUS</strong> RAM cache also supports an optional in-memory compression.
This is not to be confused with <code class="docutils literal notranslate"><span class="pre">Content-Encoding:</span> <span class="pre">gzip</span></code> compression.
The RAM cache compression is intended to try to save space in the RAM,
and is not visible to the User-Agent (client).</p>
<p class="compound-middle">Possible values are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>No compression</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Fastlz (extremely fast, relatively low compression)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Libz (moderate speed, reasonable compression)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Liblzma (very slow, high compression)</td>
</tr>
</tbody>
</table>
<p class="compound-last">Compression runs on task threads. To use more cores for RAM cache
compression, increase <a class="reference internal" href="#proxy-config-task-threads" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.task_threads</span></code></a>.</p>
</div>
</div>
<div class="section" id="heuristic-expiration">
<span id="admin-heuristic-expiration"></span><h2>Heuristic Expiration<a class="headerlink" href="#heuristic-expiration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-heuristic-min-lifetime">
<span id="proxy.config.http.cache.heuristic_min_lifetime"></span><code class="descname">proxy.config.http.cache.heuristic_min_lifetime</code><a class="headerlink" href="#proxy-config-http-cache-heuristic-min-lifetime" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3600</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The minimum amount of time, in seconds, an HTTP object without an expiration
date can remain fresh in the cache before is considered to be stale.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-heuristic-max-lifetime">
<span id="proxy.config.http.cache.heuristic_max_lifetime"></span><code class="descname">proxy.config.http.cache.heuristic_max_lifetime</code><a class="headerlink" href="#proxy-config-http-cache-heuristic-max-lifetime" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">86400</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum amount of time, in seconds, an HTTP object without an expiration
date can remain fresh in the cache before is considered to be stale.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-heuristic-lm-factor">
<span id="proxy.config.http.cache.heuristic_lm_factor"></span><code class="descname">proxy.config.http.cache.heuristic_lm_factor</code><a class="headerlink" href="#proxy-config-http-cache-heuristic-lm-factor" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The aging factor for freshness computations. Traffic Server stores an object for this
percentage of the time that elapsed since it last changed.</p>
</div>
</div>
<div class="section" id="dynamic-content-content-negotiation">
<h2>Dynamic Content &amp; Content Negotiation<a class="headerlink" href="#dynamic-content-content-negotiation" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-open-read-retry-time">
<span id="proxy.config.http.cache.open_read_retry_time"></span><code class="descname">proxy.config.http.cache.open_read_retry_time</code><a class="headerlink" href="#proxy-config-http-cache-open-read-retry-time" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<blockquote>
<div>The number of milliseconds a cacheable request will wait before requesting the object from cache if an equivalent request is in flight.</div></blockquote>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-max-open-read-retries">
<span id="proxy.config.http.cache.max_open_read_retries"></span><code class="descname">proxy.config.http.cache.max_open_read_retries</code><a class="headerlink" href="#proxy-config-http-cache-max-open-read-retries" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<blockquote>
<div>The number of times to attempt fetching an object from cache if there was an equivalent request in flight.</div></blockquote>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-max-open-write-retries">
<span id="proxy.config.http.cache.max_open_write_retries"></span><code class="descname">proxy.config.http.cache.max_open_write_retries</code><a class="headerlink" href="#proxy-config-http-cache-max-open-write-retries" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<blockquote>
<div><p>The number of times to attempt a cache open write upon failure to get a write lock.</p>
<p>This config is ignored when <a class="reference internal" href="#proxy-config-http-cache-open-write-fail-action" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.cache.open_write_fail_action</span></code></a> is
set to <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
</div></blockquote>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-cache-open-write-fail-action">
<span id="proxy.config.http.cache.open_write_fail_action"></span><code class="descname">proxy.config.http.cache.open_write_fail_action</code><a class="headerlink" href="#proxy-config-http-cache-open-write-fail-action" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<blockquote class="compound-first">
<div>This setting indicates the action taken on failing to obtain the cache open write lock on either a cache miss or a cache
hit stale. This typically happens when there is more than one request to the same cache object simultaneously. During such
a scenario, all but one (which goes to the origin) request is served either a stale copy or an error depending on this
setting.</div></blockquote>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Default. Disable cache and go to origin server.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Return a <code class="docutils literal notranslate"><span class="pre">502</span></code> error on a cache miss.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Serve stale if object’s age is under
<a class="reference internal" href="#proxy-config-http-cache-max-stale-age" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.cache.max_stale_age</span></code></a>. Otherwise, go to
origin server.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Return a <code class="docutils literal notranslate"><span class="pre">502</span></code> error on a cache miss or serve stale on a cache
revalidate if object’s age is under
<a class="reference internal" href="#proxy-config-http-cache-max-stale-age" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.cache.max_stale_age</span></code></a>. Otherwise, go to
origin server.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td>Return a <code class="docutils literal notranslate"><span class="pre">502</span></code> error on either a cache miss or on a revalidation.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">5</span></code></td>
<td>Retry Cache Read on a Cache Write Lock failure. This option together
with <a class="reference internal" href="#proxy-config-cache-enable-read-while-writer" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.cache.enable_read_while_writer</span></code></a> configuration
allows to collapse concurrent requests without a need for any plugin.
Make sure to configure the <a class="reference internal" href="../configuration/cache-basics.en.html#admin-config-read-while-writer"><span class="std std-ref">Read While Writer</span></a> feature
correctly. Note that this option may result in CACHE_LOOKUP_COMPLETE HOOK
being called back more than once.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="customizable-user-response-pages">
<h2>Customizable User Response Pages<a class="headerlink" href="#customizable-user-response-pages" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-body-factory-enable-customizations">
<span id="proxy.config.body_factory.enable_customizations"></span><code class="descname">proxy.config.body_factory.enable_customizations</code><a class="headerlink" href="#proxy-config-body-factory-enable-customizations" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies whether customizable response pages are language specific
or not:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enable customizable user response pages in the default directory only.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Enable language-targeted user response pages.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Enable host-targeted user response pages.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-body-factory-enable-logging">
<span id="proxy.config.body_factory.enable_logging"></span><code class="descname">proxy.config.body_factory.enable_logging</code><a class="headerlink" href="#proxy-config-body-factory-enable-logging" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) logging for customizable response pages. When enabled, Traffic Server records a message in
the error log each time a customized response page is used or modified.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-body-factory-template-sets-dir">
<span id="proxy.config.body_factory.template_sets_dir"></span><code class="descname">proxy.config.body_factory.template_sets_dir</code><a class="headerlink" href="#proxy-config-body-factory-template-sets-dir" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">etc/trafficserver/body_factory</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The customizable response page default directory. If this is a
relative path, Traffic Server resolves it relative to the
<code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> directory.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-body-factory-template-base">
<span id="proxy.config.body_factory.template_base"></span><code class="descname">proxy.config.body_factory.template_base</code><a class="headerlink" href="#proxy-config-body-factory-template-base" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“”</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>A prefix for the file name to use to find an error template file. If set (not the empty string)
this value and an underscore are prepended to the file name to find in the template sets
directory. See <a class="reference internal" href="../monitoring/error-messages.en.html#body-factory"><span class="std std-ref">HTML Messages Sent to Clients</span></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-body-factory-response-max-size">
<span id="proxy.config.body_factory.response_max_size"></span><code class="descname">proxy.config.body_factory.response_max_size</code><a class="headerlink" href="#proxy-config-body-factory-response-max-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8192</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Maximum size of the error template response page.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-body-factory-response-suppression-mode">
<span id="proxy.config.body_factory.response_suppression_mode"></span><code class="descname">proxy.config.body_factory.response_suppression_mode</code><a class="headerlink" href="#proxy-config-body-factory-response-suppression-mode" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies when Traffic Server suppresses generated response pages:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Never suppress generated response pages.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Always suppress generated response pages.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Suppress response pages only for internal traffic.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-ui-enabled">
<span id="proxy.config.http_ui_enabled"></span><code class="descname">proxy.config.http_ui_enabled</code><a class="headerlink" href="#proxy-config-http-ui-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies which http Inspector UI endpoints to allow within <a class="reference internal" href="remap.config.en.html#std:configfile-remap.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">remap.config</span></code></a>:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disable all http UI endpoints.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enable only Cache Inspector endpoints.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Enable only stats endpoints.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Enable all http UI endpoints.</td>
</tr>
</tbody>
</table>
<p class="compound-middle">To enable any endpoint there needs to be an entry in <a class="reference internal" href="remap.config.en.html#std:configfile-remap.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">remap.config</span></code></a> which
specifically enables it. Such a line would look like:</p>
<div class="compound-middle highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">map</span> <span class="o">/</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="p">{</span><span class="n">cache</span><span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle">The following are the cache endpoints:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">cache</span></code></td>
<td>UI to interact with the cache.</td>
</tr>
</tbody>
</table>
<p class="compound-middle">The following are the stats endpoints:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">cache-internal</span></code></td>
<td>Statistics about cache evacuation and volumes.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hostdb</span></code></td>
<td>Lookups against the hostdb.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">http</span></code></td>
<td>HTTPSM details, this endpoint is also gated by
<a class="reference internal" href="#proxy-config-http-enable-http-info" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.enable_http_info</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">net</span></code></td>
<td>Lookup and listing of open connections.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-enable-http-info">
<span id="proxy.config.http.enable_http_info"></span><code class="descname">proxy.config.http.enable_http_info</code><a class="headerlink" href="#proxy-config-http-enable-http-info" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) access to an endpoint within
<a class="reference internal" href="#proxy-config-http-ui-enabled" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http_ui_enabled</span></code></a> which shows details about inflight
transactions (HttpSM).</p>
</div>
</div>
<div class="section" id="dns">
<h2>DNS<a class="headerlink" href="#dns" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-search-default-domains">
<span id="proxy.config.dns.search_default_domains"></span><code class="descname">proxy.config.dns.search_default_domains</code><a class="headerlink" href="#proxy-config-dns-search-default-domains" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Traffic Server can attempt to resolve unqualified hostnames by expanding to the local
domain. For example if a client makes a request to an unqualified host (e.g.
<code class="docutils literal notranslate"><span class="pre">host_x</span></code>) and the Traffic Server local domain is <code class="docutils literal notranslate"><span class="pre">y.com</span></code>, then Traffic Server will expand
the hostname to <code class="docutils literal notranslate"><span class="pre">host_x.y.com</span></code>.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disable local domain expansion.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enable local domain expansion.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Enable local domain expansion, but do not split local domain name.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-splitdns-enabled">
<span id="proxy.config.dns.splitDNS.enabled"></span><code class="descname">proxy.config.dns.splitDNS.enabled</code><a class="headerlink" href="#proxy-config-dns-splitdns-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) DNS server selection. When enabled, Traffic Server refers to the <a class="reference internal" href="splitdns.config.en.html#std:configfile-splitdns.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">splitdns.config</span></code></a> file for
the selection specification. Refer to <a class="reference internal" href="../security/index.en.html#admin-split-dns"><span class="std std-ref">Configuring DNS Server Selection</span></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-resolv-conf">
<span id="proxy.config.dns.resolv_conf"></span><code class="descname">proxy.config.dns.resolv_conf</code><a class="headerlink" href="#proxy-config-dns-resolv-conf" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">/etc/resolv.conf</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Allows one to specify which <code class="docutils literal notranslate"><span class="pre">resolv.conf</span></code> file to use for finding resolvers. While the format of this file must be the same as the
standard <code class="docutils literal notranslate"><span class="pre">resolv.conf</span></code> file, this option allows an administrator to manage the set of resolvers in an external configuration file,
without affecting how the rest of the operating system uses DNS. Note that this setting works in conjunction with
<a class="reference internal" href="#proxy-config-dns-nameservers" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.dns.nameservers</span></code></a>, with its settings appended to the <code class="docutils literal notranslate"><span class="pre">resolv.conf</span></code> contents.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-round-robin-nameservers">
<span id="proxy.config.dns.round_robin_nameservers"></span><code class="descname">proxy.config.dns.round_robin_nameservers</code><a class="headerlink" href="#proxy-config-dns-round-robin-nameservers" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) DNS server round-robin.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-nameservers">
<span id="proxy.config.dns.nameservers"></span><code class="descname">proxy.config.dns.nameservers</code><a class="headerlink" href="#proxy-config-dns-nameservers" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The DNS servers. Note that this does not override <a class="reference internal" href="#proxy-config-dns-resolv-conf" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.dns.resolv_conf</span></code></a>.
That is, the contents of the file listed in <a class="reference internal" href="#proxy-config-dns-resolv-conf" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.dns.resolv_conf</span></code></a> will
be appended to the list of nameservers specified here. To prevent this, a bogus file
can be listed there.</p>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>IPv4 DNS server, loopback and port 9999</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dns</span><span class="o">.</span><span class="n">nameservers</span> <span class="n">STRING</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">9999</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>IPv6 DNS server, loopback and port 9999</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dns</span><span class="o">.</span><span class="n">nameservers</span> <span class="n">STRING</span> <span class="p">[::</span><span class="mi">1</span><span class="p">]:</span><span class="mi">9999</span>
</pre></div>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-srv-enabled">
<span id="proxy.config.srv_enabled"></span><code class="descname">proxy.config.srv_enabled</code><a class="headerlink" href="#proxy-config-srv-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) the use of SRV records for origin server
lookup. Traffic Server will use weights found in the SRV record as a weighted round
robin in origin selection. Note that Traffic Server will lookup
<code class="docutils literal notranslate"><span class="pre">_$scheme._$internet_protocol.$origin_name</span></code>. For instance, if the origin is
set to <code class="docutils literal notranslate"><span class="pre">https://my.example.com</span></code>, Traffic Server would lookup <code class="docutils literal notranslate"><span class="pre">_https._tcp.my.example.com</span></code>.
Also note that the port returned in the SRV record MUST match the port being
used for the origin (e.g. if the origin scheme is http and a default port, there
should be a SRV record with port 80).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-dedicated-thread">
<span id="proxy.config.dns.dedicated_thread"></span><code class="descname">proxy.config.dns.dedicated_thread</code><a class="headerlink" href="#proxy-config-dns-dedicated-thread" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Create and dedicate a thread entirely for DNS processing. This is probably
most useful on system which do a significant number of DNS lookups,
typically forward proxies. But even on other systems, it can avoid some
contention on the first worker thread (which otherwise takes on the burden of
all DNS lookups).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-validate-query-name">
<span id="proxy.config.dns.validate_query_name"></span><code class="descname">proxy.config.dns.validate_query_name</code><a class="headerlink" href="#proxy-config-dns-validate-query-name" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>When enabled (1) provides additional resilience against DNS forgery (for instance
in DNS Injection attacks), particularly in forward or transparent proxies, but
requires that the resolver populates the queries section of the response properly.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-connection-mode">
<span id="proxy.config.dns.connection_mode"></span><code class="descname">proxy.config.dns.connection_mode</code><a class="headerlink" href="#proxy-config-dns-connection-mode" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Three connection modes between Traffic Server and nameservers can be set – UDP_ONLY,
TCP_RETRY, TCP_ONLY.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>UDP_ONLY:  Traffic Server always talks to nameservers over UDP.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>TCP_RETRY: Traffic Server first UDP, retries with TCP if UDP response is truncated.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>TCP_ONLY:  Traffic Server always talks to nameservers over TCP.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-max-dns-in-flight">
<span id="proxy.config.dns.max_dns_in_flight"></span><code class="descname">proxy.config.dns.max_dns_in_flight</code><a class="headerlink" href="#proxy-config-dns-max-dns-in-flight" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2048</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Maximum inflight DNS queries made by Traffic Server at any given instant</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-lookup-timeout">
<span id="proxy.config.dns.lookup_timeout"></span><code class="descname">proxy.config.dns.lookup_timeout</code><a class="headerlink" href="#proxy-config-dns-lookup-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">20</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Time to wait for a DNS response in seconds.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dns-retries">
<span id="proxy.config.dns.retries"></span><code class="descname">proxy.config.dns.retries</code><a class="headerlink" href="#proxy-config-dns-retries" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">5</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Maximum number of retries made by Traffic Server on a given DNS query</p>
</div>
</div>
<div class="section" id="hostdb">
<h2>HostDB<a class="headerlink" href="#hostdb" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-lookup-timeout">
<span id="proxy.config.hostdb.lookup_timeout"></span><code class="descname">proxy.config.hostdb.lookup_timeout</code><a class="headerlink" href="#proxy-config-hostdb-lookup-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Time to wait for a DNS response in seconds.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-serve-stale-for">
<span id="proxy.config.hostdb.serve_stale_for"></span><code class="descname">proxy.config.hostdb.serve_stale_for</code><a class="headerlink" href="#proxy-config-hostdb-serve-stale-for" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><em class="first">*NONE*</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The number of seconds for which to use a stale NS record while initiating a
background fetch for the new data.</p>
<p class="compound-last">If not set then stale records are not served.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-max-size">
<span id="proxy.config.hostdb.max_size"></span><code class="descname">proxy.config.hostdb.max_size</code><a class="headerlink" href="#proxy-config-hostdb-max-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10737418240</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum amount of space (in bytes) allocated to <code class="docutils literal notranslate"><span class="pre">hostdb</span></code>.
Setting this value to <code class="docutils literal notranslate"><span class="pre">-1</span></code> will disable size limit enforcement.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-max-count">
<span id="proxy.config.hostdb.max_count"></span><code class="descname">proxy.config.hostdb.max_count</code><a class="headerlink" href="#proxy-config-hostdb-max-count" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum number of entries that can be stored in hostdb. A value of <code class="docutils literal notranslate"><span class="pre">-1</span></code>
disables item count limit enforcement.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For values above <code class="docutils literal notranslate"><span class="pre">200000</span></code>, you must increase <a class="reference internal" href="#proxy-config-hostdb-max-size" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.max_size</span></code></a>
by at least 44 bytes per entry.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-round-robin-max-count">
<span id="proxy.config.hostdb.round_robin_max_count"></span><code class="descname">proxy.config.hostdb.round_robin_max_count</code><a class="headerlink" href="#proxy-config-hostdb-round-robin-max-count" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">16</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum count of DNS answers per round robin hostdb record. The default variable is 16.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-ttl-mode">
<span id="proxy.config.hostdb.ttl_mode"></span><code class="descname">proxy.config.hostdb.ttl_mode</code><a class="headerlink" href="#proxy-config-hostdb-ttl-mode" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">A host entry will eventually time out and be discarded. This variable
controls how that time is calculated. A DNS request will return a TTL value
and an internal value can be set with <a class="reference internal" href="#proxy-config-hostdb-timeout" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.timeout</span></code></a>.
This variable determines which value will be used.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">TTL</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>The TTL from the DNS response.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>The internal timeout value.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>The smaller of the DNS and internal TTL values. The internal timeout
value becomes a maximum TTL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>The larger of the DNS and internal TTL values. The internal timeout
value become a minimum TTL.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-timeout">
<span id="proxy.config.hostdb.timeout"></span><code class="descname">proxy.config.hostdb.timeout</code><a class="headerlink" href="#proxy-config-hostdb-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">86400</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Internal time to live value for host DB entries in seconds.</p>
<p class="compound-last">See <a class="reference internal" href="#proxy-config-hostdb-ttl-mode" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.ttl_mode</span></code></a> for when this value
is used.  See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion
on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-fail-timeout">
<span id="proxy.config.hostdb.fail.timeout"></span><code class="descname">proxy.config.hostdb.fail.timeout</code><a class="headerlink" href="#proxy-config-hostdb-fail-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Time to live value for “failed” hostdb lookups.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">HostDB considers any response that does not contain a response to
the query a failure. This means “failure” responses (such as SOA) are
subject to this timeout</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-strict-round-robin">
<span id="proxy.config.hostdb.strict_round_robin"></span><code class="descname">proxy.config.hostdb.strict_round_robin</code><a class="headerlink" href="#proxy-config-hostdb-strict-round-robin" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set host resolution to use strict round robin.</p>
<p class="compound-last">When this and <a class="reference internal" href="#proxy-config-hostdb-timed-round-robin" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.timed_round_robin</span></code></a> are both
disabled (set to <code class="docutils literal notranslate"><span class="pre">0</span></code>), Traffic Server always uses the same origin server for the
same client, for as long as the origin server is available. Otherwise if
this is set then IP address is rotated on every request. This setting takes
precedence over <a class="reference internal" href="#proxy-config-hostdb-timed-round-robin" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.timed_round_robin</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-timed-round-robin">
<span id="proxy.config.hostdb.timed_round_robin"></span><code class="descname">proxy.config.hostdb.timed_round_robin</code><a class="headerlink" href="#proxy-config-hostdb-timed-round-robin" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set host resolution to use timed round robin.</p>
<p class="compound-last">When this and <a class="reference internal" href="#proxy-config-hostdb-strict-round-robin" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.strict_round_robin</span></code></a> are both
disabled (set to <code class="docutils literal notranslate"><span class="pre">0</span></code>), Traffic Server always uses the same origin server for the
same client, for as long as the origin server is available. Otherwise if
this is set to <em>N</em> the IP address is rotated if more than <em>N</em> seconds have
passed since the first time the current address was used.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-host-file-path">
<span id="proxy.config.hostdb.host_file.path"></span><code class="descname">proxy.config.hostdb.host_file.path</code><a class="headerlink" href="#proxy-config-hostdb-host-file-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the file path for an external host file.</p>
<p class="compound-middle">If this is set (non-empty) then the file is presumed to be a hosts file in
the standard .
It is read and the entries there added to the HostDB. The file is
periodically checked for a more recent modification date in which case it is
reloaded. The interval is set with <a class="reference internal" href="#proxy-config-hostdb-host-file-interval" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.host_file.interval</span></code></a>.</p>
<p class="compound-last">While not technically reloadable, the value is read every time the file is
to be checked so that if changed the new value will be used on the next
check and the file will be treated as modified.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-host-file-interval">
<span id="proxy.config.hostdb.host_file.interval"></span><code class="descname">proxy.config.hostdb.host_file.interval</code><a class="headerlink" href="#proxy-config-hostdb-host-file-interval" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">86400</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the file changed check timer for <a class="reference internal" href="#proxy-config-hostdb-host-file-path" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.hostdb.host_file.path</span></code></a>.</p>
<p class="compound-last">The file is checked every this many seconds to see if it has changed. If so
the HostDB is updated with the new values in the file.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-partitions">
<span id="proxy.config.hostdb.partitions"></span><code class="descname">proxy.config.hostdb.partitions</code><a class="headerlink" href="#proxy-config-hostdb-partitions" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">64</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The number of partitions for hostdb. If you are seeing lock contention within
hostdb’s cache (due to a large number of records) you can increase the number
of partitions</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-ip-resolve">
<span id="proxy.config.hostdb.ip_resolve"></span><code class="descname">proxy.config.hostdb.ip_resolve</code><a class="headerlink" href="#proxy-config-hostdb-ip-resolve" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the host resolution style.</p>
<p class="compound-middle">This is an ordered list of keywords separated by semicolons that specify how
a host name is to be resolved to an IP address. The keywords are case
insensitive.</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyword</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ipv4</span></code></td>
<td>Resolve to an IPv4 address.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ipv6</span></code></td>
<td>Resolve to an IPv6 address.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">client</span></code></td>
<td>Resolve to the same family as the client IP address.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">only</span></code></td>
<td>Stop resolving.</td>
</tr>
</tbody>
</table>
<p class="compound-last">The order of the keywords is critical. When a host name needs to be resolved
it is resolved in same order as the keywords. If a resolution fails, the
next option in the list is tried. The keyword <code class="docutils literal notranslate"><span class="pre">only</span></code> means to give up
resolution entirely. The keyword list has a maximum length of three
keywords, more are never needed. By default there is an implicit
<code class="docutils literal notranslate"><span class="pre">ipv4;ipv6</span></code> attached to the end of the string unless the keyword
<code class="docutils literal notranslate"><span class="pre">only</span></code> appears.</p>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Use the incoming client family, then try IPv4 and IPv6.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="p">;</span><span class="n">ipv4</span><span class="p">;</span><span class="n">ipv6</span>
</pre></div>
</div>
<p>Because of the implicit resolution this can also be expressed as just</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Resolve only to IPv4.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ipv4</span><span class="p">;</span><span class="n">only</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Resolve only to the same family as the client (do not permit cross family transactions).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="p">;</span><span class="n">only</span>
</pre></div>
</div>
<p>This value is a global default that can be overridden by <a class="reference internal" href="#proxy-config-http-server-ports" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.server_ports</span></code></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This style is used as a convenience for the administrator. During a resolution the <em>resolution order</em> will be
one family, then possibly the other. This is determined by changing <code class="docutils literal notranslate"><span class="pre">client</span></code> to <code class="docutils literal notranslate"><span class="pre">ipv4</span></code> or <code class="docutils literal notranslate"><span class="pre">ipv6</span></code> based on the
client IP address and then removing duplicates.</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">This option has no effect on outbound transparent connections The local IP address used in the connection to the
origin server is determined by the client, which forces the IP address family of the address used for the origin
server. In effect, outbound transparent connections always use a resolution style of “<code class="docutils literal notranslate"><span class="pre">client</span></code>”.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-verify-after">
<span id="proxy.config.hostdb.verify_after"></span><code class="descname">proxy.config.hostdb.verify_after</code><a class="headerlink" href="#proxy-config-hostdb-verify-after" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">720</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set the interval (in seconds) in which to re-query DNS regardless of TTL status.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-filename">
<span id="proxy.config.hostdb.filename"></span><code class="descname">proxy.config.hostdb.filename</code><a class="headerlink" href="#proxy-config-hostdb-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">host.db</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The filename to persist hostdb to on disk.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-cache-hostdb-sync-frequency">
<span id="proxy.config.cache.hostdb.sync_frequency"></span><code class="descname">proxy.config.cache.hostdb.sync_frequency</code><a class="headerlink" href="#proxy-config-cache-hostdb-sync-frequency" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the frequency (in seconds) to sync hostdb to disk. If set to zero (default as of v9.0.0), we won’t
sync to disk ever.</p>
<p class="compound-last">Note: hostdb is synced to disk on a per-partition basis (of which there are 64).
This means that the minimum time to sync all data to disk is <a class="reference internal" href="#proxy-config-cache-hostdb-sync-frequency" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.cache.hostdb.sync_frequency</span></code></a> * 64</p>
</div>
</div>
<div class="section" id="logging-configuration">
<h2>Logging Configuration<a class="headerlink" href="#logging-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-logging-enabled">
<span id="proxy.config.log.logging_enabled"></span><code class="descname">proxy.config.log.logging_enabled</code><a class="headerlink" href="#proxy-config-log-logging-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Enables and disables event logging:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Logging disabled.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Log errors only.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Log transactions only.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Dual logging (errors and transactions).</td>
</tr>
</tbody>
</table>
<p class="compound-last">Refer to <a class="reference internal" href="../logging/index.en.html#admin-logging"><span class="std std-ref">Logging</span></a> for more information on event logging.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-max-secs-per-buffer">
<span id="proxy.config.log.max_secs_per_buffer"></span><code class="descname">proxy.config.log.max_secs_per_buffer</code><a class="headerlink" href="#proxy-config-log-max-secs-per-buffer" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">5</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum amount of time before data in the buffer is flushed to disk.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The effective lower bound to this config is whatever <a class="reference internal" href="#proxy-config-log-periodic-tasks-interval" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.periodic_tasks_interval</span></code></a>
is set to.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-max-space-mb-for-logs">
<span id="proxy.config.log.max_space_mb_for_logs"></span><code class="descname">proxy.config.log.max_space_mb_for_logs</code><a class="headerlink" href="#proxy-config-log-max-space-mb-for-logs" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">25000</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">megabytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The amount of space allocated to the logging directory (in MB).
The headroom amount specified by
<a class="reference internal" href="#proxy-config-log-max-space-mb-headroom" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.max_space_mb_headroom</span></code></a> is taken from
this space allocation.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All files in the logging directory contribute to the space used,
even if they are not log files.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-max-space-mb-headroom">
<span id="proxy.config.log.max_space_mb_headroom"></span><code class="descname">proxy.config.log.max_space_mb_headroom</code><a class="headerlink" href="#proxy-config-log-max-space-mb-headroom" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1000</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">megabytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The tolerance for the log space limit (in megabytes). If the variable <a class="reference internal" href="#proxy-config-log-auto-delete-rolled-files" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.auto_delete_rolled_files</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">1</span></code>
(enabled), then auto-deletion of log files is triggered when the amount of free space available in the logging directory is less than
the value specified here.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-hostname">
<span id="proxy.config.log.hostname"></span><code class="descname">proxy.config.log.hostname</code><a class="headerlink" href="#proxy-config-log-hostname" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">localhost</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The hostname of the machine running Traffic Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-logfile-dir">
<span id="proxy.config.log.logfile_dir"></span><code class="descname">proxy.config.log.logfile_dir</code><a class="headerlink" href="#proxy-config-log-logfile-dir" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">var/log/trafficserver</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The path to the logging directory. This can be an absolute path
or a path relative to the <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> directory in which Traffic
Server is installed.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The directory you specify must already exist.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-logfile-perm">
<span id="proxy.config.log.logfile_perm"></span><code class="descname">proxy.config.log.logfile_perm</code><a class="headerlink" href="#proxy-config-log-logfile-perm" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">rw-r–r–</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The log file permissions. The standard UNIX file permissions are used (owner, group, other). Permissible values are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-</span></code></td>
<td>No permissions.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">r</span></code></td>
<td>Read permission.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">w</span></code></td>
<td>Write permission.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">x</span></code></td>
<td>Execute permission.</td>
</tr>
</tbody>
</table>
<p class="compound-last">Permissions are subject to the umask settings for the Traffic Server process. This
means that a umask setting of <code class="docutils literal notranslate"><span class="pre">002</span></code> will not allow write permission for
others, even if specified in the configuration file. Permissions for
existing log files are not changed when the configuration is modified.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-rolling-enabled">
<span id="proxy.config.log.rolling_enabled"></span><code class="descname">proxy.config.log.rolling_enabled</code><a class="headerlink" href="#proxy-config-log-rolling-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how log files are rolled. You can specify the following values:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disables log file rolling.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enables log file rolling at specific intervals during the day
(specified with the <a class="reference internal" href="#proxy-config-log-rolling-interval-sec" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.rolling_interval_sec</span></code></a> and
<a class="reference internal" href="#proxy-config-log-rolling-offset-hr" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.rolling_offset_hr</span></code></a> variables).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Enables log file rolling when log files reach a specific size
(specified with <a class="reference internal" href="#proxy-config-log-rolling-size-mb" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.rolling_size_mb</span></code></a>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Enables log file rolling at specific intervals during the day or when
log files reach a specific size (whichever occurs first).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td>Enables log file rolling at specific intervals during the day when log
files reach a specific size (i.e. at a specified time if the file is
of the specified size).</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-rolling-interval-sec">
<span id="proxy.config.log.rolling_interval_sec"></span><code class="descname">proxy.config.log.rolling_interval_sec</code><a class="headerlink" href="#proxy-config-log-rolling-interval-sec" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">86400</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The log file rolling interval, in seconds. The minimum value is <code class="docutils literal notranslate"><span class="pre">60</span></code> (1 minute). The maximum, and default, value is 86400 seconds (one day).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you start Traffic Server within a few minutes of the next rolling time, then rolling might not occur until the next rolling time.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-rolling-offset-hr">
<span id="proxy.config.log.rolling_offset_hr"></span><code class="descname">proxy.config.log.rolling_offset_hr</code><a class="headerlink" href="#proxy-config-log-rolling-offset-hr" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The file rolling offset hour. The hour of the day that starts the log rolling period.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-rolling-size-mb">
<span id="proxy.config.log.rolling_size_mb"></span><code class="descname">proxy.config.log.rolling_size_mb</code><a class="headerlink" href="#proxy-config-log-rolling-size-mb" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The size, in megabytes, that log files must reach before rolling takes place.
The minimum value for this setting is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-rolling-min-count">
<span id="proxy.config.log.rolling_min_count"></span><code class="descname">proxy.config.log.rolling_min_count</code><a class="headerlink" href="#proxy-config-log-rolling-min-count" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the minimum count of rolled (event) logs to keep. This value will be used to decide the
order of auto-deletion (if enabled). A default value of 0 means auto-deletion will try to keep
logs as much as possible. This value can be and should be overridden in logging.yaml. See <a class="reference internal" href="../logging/rotation.en.html"><span class="doc">Log Rotation and Retention</span></a> for guidance.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-rolling-max-count">
<span id="proxy.config.log.rolling_max_count"></span><code class="descname">proxy.config.log.rolling_max_count</code><a class="headerlink" href="#proxy-config-log-rolling-max-count" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the maximum count of rolled output logs to keep. This value will be used by the
auto-deletion (if enabled) to trim the number of rolled log files every time the log is rolled.
A default value of 0 means auto-deletion will not try to limit the number of output logs.
See <a class="reference internal" href="../logging/rotation.en.html"><span class="doc">Log Rotation and Retention</span></a> for an use-case for this option.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-rolling-allow-empty">
<span id="proxy.config.log.rolling_allow_empty"></span><code class="descname">proxy.config.log.rolling_allow_empty</code><a class="headerlink" href="#proxy-config-log-rolling-allow-empty" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">While rolling default behavior is to rename, close and re-open the log file <em>only</em> when/if there is
something to log to the log file. This option opens a new log file right after rolling even if there
is nothing to log (i.e. nothing to be logged due to lack of requests to the server)
which may lead to 0-sized log files while rolling. See <a class="reference internal" href="../logging/rotation.en.html"><span class="doc">Log Rotation and Retention</span></a> for an use-case
for this option.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>No empty log files created and rolled if there was nothing to log</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Allow empty log files to be created and  rolled even if there was nothing to log</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-auto-delete-rolled-files">
<span id="proxy.config.log.auto_delete_rolled_files"></span><code class="descname">proxy.config.log.auto_delete_rolled_files</code><a class="headerlink" href="#proxy-config-log-auto-delete-rolled-files" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) automatic deletion of rolled files.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-sampling-frequency">
<span id="proxy.config.log.sampling_frequency"></span><code class="descname">proxy.config.log.sampling_frequency</code><a class="headerlink" href="#proxy-config-log-sampling-frequency" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures Traffic Server to log only a sample of transactions rather than every
transaction. You can specify the following values:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Log every transaction.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Log every second transaction.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Log every third transaction.</td>
</tr>
<tr class="row-odd"><td><em>n</em></td>
<td>… and so on…</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-periodic-tasks-interval">
<span id="proxy.config.log.periodic_tasks_interval"></span><code class="descname">proxy.config.log.periodic_tasks_interval</code><a class="headerlink" href="#proxy-config-log-periodic-tasks-interval" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">5</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>How often Traffic Server executes log related periodic tasks, in seconds</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-slow-log-threshold">
<span id="proxy.config.http.slow.log.threshold"></span><code class="descname">proxy.config.http.slow.log.threshold</code><a class="headerlink" href="#proxy-config-http-slow-log-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">milliseconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If set to a non-zero value <em>N</em> then any connection that takes longer than <em>N</em> milliseconds from accept to
completion will cause its timing stats to be written to the <a class="reference internal" href="#proxy-config-output-logfile" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">debugging</span> <span class="pre">log</span> <span class="pre">file</span></code></a>. This is identifying data about the transaction and all of the <a class="reference internal" href="../../developer-guide/api/functions/TSHttpTxnMilestoneGet.en.html#c.TSMilestonesType" title="TSMilestonesType"><code class="xref c c-type docutils literal notranslate"><span class="pre">transaction</span> <span class="pre">milestones</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-connection-slow-log-threshold">
<span id="proxy.config.http2.connection.slow.log.threshold"></span><code class="descname">proxy.config.http2.connection.slow.log.threshold</code><a class="headerlink" href="#proxy-config-http2-connection-slow-log-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">milliseconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If set to a non-zero value <em>N</em> then any HTTP/2 connection
that takes longer than <em>N</em> milliseconds from open to close will cause
its timing stats to be written to the <a class="reference internal" href="#proxy-config-output-logfile" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">debugging</span> <span class="pre">log</span> <span class="pre">file</span></code></a>. This is identifying data about the
transaction and all of the <a class="reference internal" href="../../developer-guide/api/functions/TSHttpTxnMilestoneGet.en.html#c.TSMilestonesType" title="TSMilestonesType"><code class="xref c c-type docutils literal notranslate"><span class="pre">transaction</span> <span class="pre">milestones</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-stream-slow-log-threshold">
<span id="proxy.config.http2.stream.slow.log.threshold"></span><code class="descname">proxy.config.http2.stream.slow.log.threshold</code><a class="headerlink" href="#proxy-config-http2-stream-slow-log-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">milliseconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>If set to a non-zero value <em>N</em> then any HTTP/2 stream
that takes longer than <em>N</em> milliseconds from open to close will cause
its timing stats to be written to the <a class="reference internal" href="#proxy-config-output-logfile" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">debugging</span> <span class="pre">log</span> <span class="pre">file</span></code></a>. This is identifying data about the
transaction and all of the <a class="reference internal" href="../../developer-guide/api/functions/TSHttpTxnMilestoneGet.en.html#c.TSMilestonesType" title="TSMilestonesType"><code class="xref c c-type docutils literal notranslate"><span class="pre">transaction</span> <span class="pre">milestones</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-config-filename">
<span id="proxy.config.log.config.filename"></span><code class="descname">proxy.config.log.config.filename</code><a class="headerlink" href="#proxy-config-log-config-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">logging.yaml</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Deprecated:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This configuration value specifies the path to the
<a class="reference internal" href="logging.yaml.en.html#std:configfile-logging.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">logging.yaml</span></code></a> configuration file. If this is a relative
path, Traffic Server loads it relative to the <code class="docutils literal notranslate"><span class="pre">SYSCONFDIR</span></code> directory.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-max-line-size">
<span id="proxy.config.log.max_line_size"></span><code class="descname">proxy.config.log.max_line_size</code><a class="headerlink" href="#proxy-config-log-max-line-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">9216</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This controls the maximum line length for <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> formatted log entries.
This applies to <code class="docutils literal notranslate"><span class="pre">ASCII_PIPE</span></code> and <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> file logs, <em>unless</em>
<a class="reference internal" href="#proxy-config-log-ascii-buffer-size" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.ascii_buffer_size</span></code></a> is also specified and the value
of <code class="docutils literal notranslate"><span class="pre">ascii_buffer_size</span></code> is larger than <code class="docutils literal notranslate"><span class="pre">max_line_size</span></code>: in that case,
<code class="docutils literal notranslate"><span class="pre">max_line_size</span></code> only applies to <code class="docutils literal notranslate"><span class="pre">ASCII_PIPE</span></code> logs while
<code class="docutils literal notranslate"><span class="pre">ascii_buffer_size</span></code> will apply to <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> (non-pipe) log files.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-ascii-buffer-size">
<span id="proxy.config.log.ascii_buffer_size"></span><code class="descname">proxy.config.log.ascii_buffer_size</code><a class="headerlink" href="#proxy-config-log-ascii-buffer-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">36864</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This controls the maximum line length for <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> formatted log entries
that are non-pipe log files. If this value is smaller than
<a class="reference internal" href="#proxy-config-log-max-line-size" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.max_line_size</span></code></a>, then the latter will be used for
both <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> and <code class="docutils literal notranslate"><span class="pre">ASCII_PIPE</span></code> log files. If both <code class="docutils literal notranslate"><span class="pre">max_line_size</span></code> and
<code class="docutils literal notranslate"><span class="pre">ascii_buffer_size</span></code> are set, then <code class="docutils literal notranslate"><span class="pre">max_line_size</span></code> will be used for
<code class="docutils literal notranslate"><span class="pre">ASCII_PIPE</span></code> logs while <code class="docutils literal notranslate"><span class="pre">ascii_buffer_size</span></code> will be used for <code class="docutils literal notranslate"><span class="pre">ASCII</span></code>
(non-pipe) log files.  This all might seem complicated, but just keep in
mind that the intention of <code class="docutils literal notranslate"><span class="pre">ascii_buffer_size</span></code> is to simply provide a way
for the user to configure different <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> and <code class="docutils literal notranslate"><span class="pre">ASCII_PIPE</span></code> maximum
line lengths.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-log-buffer-size">
<span id="proxy.config.log.log_buffer_size"></span><code class="descname">proxy.config.log.log_buffer_size</code><a class="headerlink" href="#proxy-config-log-log-buffer-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">9216</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">bytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is an orthogonal mechanism from <a class="reference internal" href="#proxy-config-log-max-line-size" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.max_line_size</span></code></a>
and <a class="reference internal" href="#proxy-config-log-ascii-buffer-size" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.log.ascii_buffer_size</span></code></a> for limiting line length
size by constraining the log entry buffer to a particular amount of memory.
Unlike the above two configurations, <code class="docutils literal notranslate"><span class="pre">log_buffer_size</span></code> applies to both
binary and <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> log file entries.  For <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> log files, if a maximum
log size is set via both the above mechanisms and by <code class="docutils literal notranslate"><span class="pre">log_buffer_size</span></code>,
then the smaller of the two configurations will be applied to the line
length.</p>
</div>
</div>
<div class="section" id="diagnostic-logging-configuration">
<h2>Diagnostic Logging Configuration<a class="headerlink" href="#diagnostic-logging-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-diag">
<span id="proxy.config.diags.output.diag"></span><code class="descname">proxy.config.diags.output.diag</code><a class="headerlink" href="#proxy-config-diags-output-diag" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">E</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-debug">
<span id="proxy.config.diags.output.debug"></span><code class="descname">proxy.config.diags.output.debug</code><a class="headerlink" href="#proxy-config-diags-output-debug" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">E</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-status">
<span id="proxy.config.diags.output.status"></span><code class="descname">proxy.config.diags.output.status</code><a class="headerlink" href="#proxy-config-diags-output-status" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">L</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-note">
<span id="proxy.config.diags.output.note"></span><code class="descname">proxy.config.diags.output.note</code><a class="headerlink" href="#proxy-config-diags-output-note" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">L</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-warning">
<span id="proxy.config.diags.output.warning"></span><code class="descname">proxy.config.diags.output.warning</code><a class="headerlink" href="#proxy-config-diags-output-warning" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">L</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-error">
<span id="proxy.config.diags.output.error"></span><code class="descname">proxy.config.diags.output.error</code><a class="headerlink" href="#proxy-config-diags-output-error" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">SL</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-fatal">
<span id="proxy.config.diags.output.fatal"></span><code class="descname">proxy.config.diags.output.fatal</code><a class="headerlink" href="#proxy-config-diags-output-fatal" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">SL</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-alert">
<span id="proxy.config.diags.output.alert"></span><code class="descname">proxy.config.diags.output.alert</code><a class="headerlink" href="#proxy-config-diags-output-alert" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">L</td>
</tr>
</tbody>
</table>
<div class="compound">
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-output-emergency">
<span id="proxy.config.diags.output.emergency"></span><code class="descname">proxy.config.diags.output.emergency</code><a class="headerlink" href="#proxy-config-diags-output-emergency" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">SL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The diagnostic output configuration variables control where Traffic
Server should log diagnostic output. Messages at each diagnostic level
can be directed to any combination of diagnostic destinations.
Valid diagnostic message destinations are:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">O</span></code></td>
<td>Log to standard output.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">E</span></code></td>
<td>Log to standard error.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">S</span></code></td>
<td>Log to syslog.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">L</span></code></td>
<td>Log to <a class="reference internal" href="../monitoring/diagnostic-files.en.html#std:logfile-diags.log"><code class="xref std std-file docutils literal notranslate"><span class="pre">diags.log</span></code></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>To log debug diagnostics to both syslog and <cite>diags.log</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">diags</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">debug</span> <span class="n">STRING</span> <span class="n">SL</span>
</pre></div>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-show-location">
<span id="proxy.config.diags.show_location"></span><code class="descname">proxy.config.diags.show_location</code><a class="headerlink" href="#proxy-config-diags-show-location" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Annotates diagnostic messages with the source code location. Set to 1 to enable
for Debug() messages only. Set to 2 to enable for all messages.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-debug-enabled">
<span id="proxy.config.diags.debug.enabled"></span><code class="descname">proxy.config.diags.debug.enabled</code><a class="headerlink" href="#proxy-config-diags-debug-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">When set to 1, enables logging for diagnostic messages whose log level is <cite>diag</cite> or <cite>debug</cite>.</p>
<p class="compound-last">When set to 2, interprets the <a class="reference internal" href="#proxy-config-diags-debug-client-ip" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.diags.debug.client_ip</span></code></a> setting determine whether diagnostic messages are logged.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-debug-client-ip">
<span id="proxy.config.diags.debug.client_ip"></span><code class="descname">proxy.config.diags.debug.client_ip</code><a class="headerlink" href="#proxy-config-diags-debug-client-ip" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>if <a class="reference internal" href="#proxy-config-diags-debug-enabled" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.diags.debug.enabled</span></code></a> is set to 2, this value is tested against the source IP of the incoming connection.  If there is a match, all the diagnostic messages for that connection and the related outgoing connection will be logged.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-debug-tags">
<span id="proxy.config.diags.debug.tags"></span><code class="descname">proxy.config.diags.debug.tags</code><a class="headerlink" href="#proxy-config-diags-debug-tags" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">http|dns</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Each Traffic Server <cite>diag</cite> and <cite>debug</cite> level message is annotated with a subsystem tag.  This configuration
contains an anchored regular expression that filters the messages based on the tag. The
expressions are prefix matched which creates an implicit <code class="docutils literal notranslate"><span class="pre">.*</span></code> at the end. Therefore the default
value <code class="docutils literal notranslate"><span class="pre">http|dns</span></code> will match tags such as <code class="docutils literal notranslate"><span class="pre">http</span></code>, <code class="docutils literal notranslate"><span class="pre">http_hdrs</span></code>, <code class="docutils literal notranslate"><span class="pre">dns</span></code>, and <code class="docutils literal notranslate"><span class="pre">dns_recv</span></code>.</p>
<p class="compound-middle">Some commonly used debug tags are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tag</th>
<th class="head">Subsystem usage</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>dns</td>
<td>DNS query resolution</td>
</tr>
<tr class="row-odd"><td>http_hdrs</td>
<td>Logs the headers for HTTP requests and responses</td>
</tr>
<tr class="row-even"><td>privileges</td>
<td>Privilege elevation</td>
</tr>
<tr class="row-odd"><td>ssl</td>
<td>TLS termination and certificate processing</td>
</tr>
</tbody>
</table>
<p class="compound-last">Traffic Server plugins will typically log debug messages using the <a class="reference internal" href="../../developer-guide/api/functions/TSDebug.en.html#c.TSDebug" title="TSDebug"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSDebug()</span></code></a>
API, passing the plugin name as the debug tag.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-logfile-perm">
<span id="proxy.config.diags.logfile_perm"></span><code class="descname">proxy.config.diags.logfile_perm</code><a class="headerlink" href="#proxy-config-diags-logfile-perm" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">rw-r–r–</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The log file permissions. The standard UNIX file permissions are used (owner, group, other). Permissible values are:</p>
<table border="1" class="compound-middle docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-</span></code></td>
<td>No permissions.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">r</span></code></td>
<td>Read permission.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">w</span></code></td>
<td>Write permission.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">x</span></code></td>
<td>Execute permission.</td>
</tr>
</tbody>
</table>
<p class="compound-last">Permissions are subject to the umask settings for the Traffic Server process. This
means that a umask setting of <code class="docutils literal notranslate"><span class="pre">002</span></code> will not allow write permission for
others, even if specified in the configuration file. Permissions for
existing log files are not changed when the configuration is modified.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-logfile-rolling-enabled">
<span id="proxy.config.diags.logfile.rolling_enabled"></span><code class="descname">proxy.config.diags.logfile.rolling_enabled</code><a class="headerlink" href="#proxy-config-diags-logfile-rolling-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies how the diagnostics log is rolled. You can specify the following values:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disables diagnostics log rolling.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enables diagnostics log rolling at specific intervals (specified with
<a class="reference internal" href="#proxy-config-diags-logfile-rolling-interval-sec" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.diags.logfile.rolling_interval_sec</span></code></a>). The “clock”
starts ticking on Traffic Server startup.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Enables diagnostics log rolling when the diagnostics log reaches a
specific size (specified with
<a class="reference internal" href="#proxy-config-diags-logfile-rolling-size-mb" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.diags.logfile.rolling_size_mb</span></code></a>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Enables diagnostics log rolling at specific intervals or when the
diagnostics log reaches a specific size (whichever occurs first).</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-logfile-rolling-interval-sec">
<span id="proxy.config.diags.logfile.rolling_interval_sec"></span><code class="descname">proxy.config.diags.logfile.rolling_interval_sec</code><a class="headerlink" href="#proxy-config-diags-logfile-rolling-interval-sec" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3600</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how often the diagnostics log is rolled, in seconds. The timer starts on Traffic Server startup.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-logfile-rolling-size-mb">
<span id="proxy.config.diags.logfile.rolling_size_mb"></span><code class="descname">proxy.config.diags.logfile.rolling_size_mb</code><a class="headerlink" href="#proxy-config-diags-logfile-rolling-size-mb" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">megabytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies at what size to roll the diagnostics log at.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-diags-logfile-rolling-min-count">
<span id="proxy.config.diags.logfile.rolling_min_count"></span><code class="descname">proxy.config.diags.logfile.rolling_min_count</code><a class="headerlink" href="#proxy-config-diags-logfile-rolling-min-count" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the minimum count of rolled diagnostic logs to keep. This value will be used to decide the
order of auto-deletion (if enabled). A default value of 0 means auto-deletion will try to keep
diagnostic logs as much as possible. See <a class="reference internal" href="../logging/rotation.en.html"><span class="doc">Log Rotation and Retention</span></a> for guidance.</p>
</div>
</div>
<div class="section" id="reverse-proxy">
<h2>Reverse Proxy<a class="headerlink" href="#reverse-proxy" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-reverse-proxy-enabled">
<span id="proxy.config.reverse_proxy.enabled"></span><code class="descname">proxy.config.reverse_proxy.enabled</code><a class="headerlink" href="#proxy-config-reverse-proxy-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) HTTP reverse proxy.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-header-parse-no-host-url-redirect">
<span id="proxy.config.header.parse.no_host_url_redirect"></span><code class="descname">proxy.config.header.parse.no_host_url_redirect</code><a class="headerlink" href="#proxy-config-header-parse-no-host-url-redirect" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The URL to which to redirect requests with no host headers (reverse
proxy).</p>
</div>
</div>
<div class="section" id="url-remap-rules">
<h2>URL Remap Rules<a class="headerlink" href="#url-remap-rules" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-url-remap-filename">
<span id="proxy.config.url_remap.filename"></span><code class="descname">proxy.config.url_remap.filename</code><a class="headerlink" href="#proxy-config-url-remap-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">remap.config</td>
</tr>
<tr class="field-even field"><th class="field-name">Deprecated:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the name of the <a class="reference internal" href="remap.config.en.html#std:configfile-remap.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">remap.config</span></code></a> file.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-url-remap-remap-required">
<span id="proxy.config.url_remap.remap_required"></span><code class="descname">proxy.config.url_remap.remap_required</code><a class="headerlink" href="#proxy-config-url-remap-remap-required" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set this variable to <code class="docutils literal notranslate"><span class="pre">1</span></code> if you want Traffic Server to serve
requests only from origin servers listed in the mapping rules of the
<a class="reference internal" href="remap.config.en.html#std:configfile-remap.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">remap.config</span></code></a> file. If a request does not match, then the browser
will receive an error.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-url-remap-pristine-host-hdr">
<span id="proxy.config.url_remap.pristine_host_hdr"></span><code class="descname">proxy.config.url_remap.pristine_host_hdr</code><a class="headerlink" href="#proxy-config-url-remap-pristine-host-hdr" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set this variable to <code class="docutils literal notranslate"><span class="pre">1</span></code> if you want to retain the client host
header in a request during remapping.</p>
</div>
</div>
<div class="section" id="ssl-termination">
<span id="records-config-ssl-termination"></span><h2>SSL Termination<a class="headerlink" href="#ssl-termination" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-cipher-suite">
<span id="proxy.config.ssl.server.cipher_suite"></span><code class="descname">proxy.config.ssl.server.cipher_suite</code><a class="headerlink" href="#proxy-config-ssl-server-cipher-suite" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">&lt;see notes&gt;</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures the set of encryption, digest, authentication, and key exchange
algorithms provided by OpenSSL which Traffic Server will use for SSL connections. For
the list of algorithms and instructions on constructing an appropriately
formatting cipher_suite string, see
<a class="reference external" href="https://www.openssl.org/docs/manmaster/man1/ciphers.html">OpenSSL Ciphers</a>.</p>
<p class="compound-middle">The current default is:</p>
<p class="compound-last">ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-CCM:ECDHE-ECDSA-AES128-CCM:ECDHE-ECDSA-AES256-CCM8:ECDHE-ECDSA-AES128-CCM8:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-CCM8:DHE-RSA-AES128-CCM8:DHE-RSA-AES256-CCM:DHE-RSA-AES128-CCM:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-CCM8:AES128-CCM8:AES256-CCM:AES128-CCM:AES256-SHA256:AES128-SHA2</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-cipher-suite">
<span id="proxy.config.ssl.client.cipher_suite"></span><code class="descname">proxy.config.ssl.client.cipher_suite</code><a class="headerlink" href="#proxy-config-ssl-client-cipher-suite" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">&lt;See notes under proxy.config.ssl.server.cipher_suite.&gt;</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures the cipher_suite which Traffic Server will use for SSL connections to origin or next hop.  This currently defaults to:</p>
<p class="compound-last">ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-DSS-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-CCM8:ECDHE-ECDSA-AES256-CCM:DHE-RSA-AES256-CCM8:DHE-RSA-AES256-CCM:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-ARIA256-GCM-SHA384:ECDHE-ARIA256-GCM-SHA384:DHE-DSS-ARIA256-GCM-SHA384:DHE-RSA-ARIA256-GCM-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA256:ECDHE-ECDSA-CAMELLIA256-SHA384:ECDHE-RSA-CAMELLIA256-SHA384:DHE-RSA-CAMELLIA256-SHA256:DHE-DSS-CAMELLIA256-SHA256:RSA-PSK-AES256-GCM-SHA384:RSA-PSK-CHACHA20-POLY1305:RSA-PSK-ARIA256-GCM-SHA384:AES256-GCM-SHA384:AES256-CCM8:AES256-CCM:ARIA256-GCM-SHA384:AES256-SHA256:CAMELLIA256-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:DHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-CCM8:ECDHE-ECDSA-AES128-CCM:DHE-RSA-AES128-CCM8:DHE-RSA-AES128-CCM:ECDHE-ECDSA-ARIA128-GCM-SHA256:ECDHE-ARIA128-GCM-SHA256:DHE-DSS-ARIA128-GCM-SHA256:DHE-RSA-ARIA128-GCM-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:DHE-DSS-AES128-SHA256:ECDHE-ECDSA-CAMELLIA128-SHA256:ECDHE-RSA-CAMELLIA128-SHA256:DHE-RSA-CAMELLIA128-SHA256:DHE-DSS-CAMELLIA128-SHA256:RSA-PSK-AES128-GCM-SHA256:RSA-PSK-ARIA128-GCM-SHA256:AES128-GCM-SHA256:AES128-CCM8:AES128-CCM:ARIA128-GCM-SHA256:AES128-SHA256:CAMELLIA128-SHA256</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-tlsv1-3-cipher-suites">
<span id="proxy.config.ssl.server.TLSv1_3.cipher_suites"></span><code class="descname">proxy.config.ssl.server.TLSv1_3.cipher_suites</code><a class="headerlink" href="#proxy-config-ssl-server-tlsv1-3-cipher-suites" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">&lt;See notes&gt;</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures the pair of the AEAD algorithm and hash algorithm to be
used with HKDF provided by OpenSSL which Traffic Server will use for TLSv1.3
connections. For the list of algorithms and instructions, see
The <code class="docutils literal notranslate"><span class="pre">-ciphersuites</span></code> section of <a class="reference external" href="https://www.openssl.org/docs/manmaster/man1/ciphers.html">OpenSSL Ciphers</a>.</p>
<p class="compound-middle">The current default value is:</p>
<p class="compound-middle">TLS_AES_256_GCM_SHA384:TLS_AES_128_GCM_SHA256:TLS_CHACHA20_POLY1305_SHA256</p>
<p class="compound-last">This configuration works with OpenSSL v1.1.1 and above.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-honor-cipher-order">
<span id="proxy.config.ssl.server.honor_cipher_order"></span><code class="descname">proxy.config.ssl.server.honor_cipher_order</code><a class="headerlink" href="#proxy-config-ssl-server-honor-cipher-order" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>By default (<code class="docutils literal notranslate"><span class="pre">1</span></code>) Traffic Server&nbsp;will use the server’s cipher suites preferences instead of the client preferences.
By disabling it (<code class="docutils literal notranslate"><span class="pre">0</span></code>) Traffic Server will use client’s cipher suites preferences.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-prioritize-chacha">
<span id="proxy.config.ssl.server.prioritize_chacha"></span><code class="descname">proxy.config.ssl.server.prioritize_chacha</code><a class="headerlink" href="#proxy-config-ssl-server-prioritize-chacha" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">By enabling it (<code class="docutils literal notranslate"><span class="pre">1</span></code>) Traffic Server will temporarily reprioritize ChaCha20-Poly1305 ciphers to the top of the
server cipher list if a ChaCha20-Poly1305 cipher is at the top of the client cipher list.</p>
<p class="compound-last">This configuration works with OpenSSL v1.1.1 and above.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-tlsv1-3-cipher-suites">
<span id="proxy.config.ssl.client.TLSv1_3.cipher_suites"></span><code class="descname">proxy.config.ssl.client.TLSv1_3.cipher_suites</code><a class="headerlink" href="#proxy-config-ssl-client-tlsv1-3-cipher-suites" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">&lt;See notes under proxy.config.ssl.server.tls.cipher_suites&gt;</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures the cipher_suites which Traffic Server will use for TLSv1.3
connections to origin or next hop. This configuration works
with OpenSSL v1.1.1 and above.</p>
<p class="compound-middle">The current default is:</p>
<p class="compound-last">TLS_AES_256_GCM_SHA384:TLS_AES_128_GCM_SHA256:TLS_CHACHA20_POLY1305_SHA256</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-groups-list">
<span id="proxy.config.ssl.server.groups_list"></span><code class="descname">proxy.config.ssl.server.groups_list</code><a class="headerlink" href="#proxy-config-ssl-server-groups-list" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">&lt;See notes&gt;</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures the list of supported groups provided by OpenSSL which
Traffic Server will be used to determine the set of shared groups. The value
is a colon separated list of group NIDs or names, for example
“P-521:P-384:P-256”. For instructions, see “Groups” section of
<a class="reference external" href="https://wiki.openssl.org/index.php/TLS1.3#Groups">TLS1.3 - OpenSSLWiki</a>.</p>
<p class="compound-middle">The current default value with OpenSSL is:</p>
<p class="compound-middle">X25519:P-256:X448:P-521:P-384</p>
<p class="compound-last">This configuration works with OpenSSL v1.0.2 and above.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-groups-list">
<span id="proxy.config.ssl.client.groups_list"></span><code class="descname">proxy.config.ssl.client.groups_list</code><a class="headerlink" href="#proxy-config-ssl-client-groups-list" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">&lt;See notes under proxy.config.ssl.server.groups_list.&gt;</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures the list of supported groups provided by OpenSSL which
Traffic Server will use for the “key_share” and “supported groups” extension
of TLSv1.3 connections. The value is a colon separated list of
group NIDs or names, for example “P-521:P-384:P-256”. For
instructions, see “Groups” section of <a class="reference external" href="https://wiki.openssl.org/index.php/TLS1.3#Groups">TLS1.3 - OpenSSLWiki</a>.</p>
<p class="compound-last">This configuration works with OpenSSL v1.0.2 and above.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-tlsv1">
<span id="proxy.config.ssl.TLSv1"></span><code class="descname">proxy.config.ssl.TLSv1</code><a class="headerlink" href="#proxy-config-ssl-tlsv1" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLSv1.0. If not specified, disabled by default.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-tlsv1-1">
<span id="proxy.config.ssl.TLSv1_1"></span><code class="descname">proxy.config.ssl.TLSv1_1</code><a class="headerlink" href="#proxy-config-ssl-tlsv1-1" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLS v1.1.  If not specified, disabled by default.  [Requires OpenSSL v1.0.1 and higher]</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In order to enable TLS v1 or v1.1, additional ciphers must be added to proxy.config.ssl.client.cipher_suite. For
example this list would restore the SHA1 (insecure!) cipher suites suitable for these deprecated TLS versions:</p>
<p class="last">ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES128-SHA:AES256-SHA:AES128-SHA</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-tlsv1-2">
<span id="proxy.config.ssl.TLSv1_2"></span><code class="descname">proxy.config.ssl.TLSv1_2</code><a class="headerlink" href="#proxy-config-ssl-tlsv1-2" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLS v1.2.  If not specified, enabled by default.  [Requires OpenSSL v1.0.1 and higher]</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-tlsv1-3">
<span id="proxy.config.ssl.TLSv1_3"></span><code class="descname">proxy.config.ssl.TLSv1_3</code><a class="headerlink" href="#proxy-config-ssl-tlsv1-3" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLS v1.3.  If not specified, enabled by default.  [Requires OpenSSL v1.1.1 and higher]</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-certification-level">
<span id="proxy.config.ssl.client.certification_level"></span><code class="descname">proxy.config.ssl.client.certification_level</code><a class="headerlink" href="#proxy-config-ssl-client-certification-level" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Sets the client certification level:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Client certificates are <strong>ignored</strong>. Traffic Server does not verify client
certificates during the SSL handshake. Access to Traffic Server depends on Traffic Server
configuration options (such as access control lists).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Client certificates are <strong>optional</strong>. If a client has a certificate,
then the certificate is validated. If the client does not have a
certificate, then the client is still allowed access to Traffic Server unless
access is denied through other Traffic Server configuration options.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Client certificates are <strong>required</strong>. The client must be authenticated
during the SSL handshake. Clients without a certificate are not
allowed to access Traffic Server.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-multicert-filename">
<span id="proxy.config.ssl.server.multicert.filename"></span><code class="descname">proxy.config.ssl.server.multicert.filename</code><a class="headerlink" href="#proxy-config-ssl-server-multicert-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">ssl_multicert.config</td>
</tr>
<tr class="field-even field"><th class="field-name">Deprecated:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The location of the <a class="reference internal" href="ssl_multicert.config.en.html#std:configfile-ssl_multicert.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">ssl_multicert.config</span></code></a> file, relative
to the Traffic Server configuration directory. In the following
example, if the Traffic Server configuration directory is
<cite>/etc/trafficserver</cite>, the Traffic Server SSL configuration file
and the corresponding certificates are located in
<cite>/etc/trafficserver/ssl</cite>:</p>
<div class="compound-last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ssl</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">multicert</span><span class="o">.</span><span class="n">filename</span> <span class="n">STRING</span> <span class="n">ssl</span><span class="o">/</span><span class="n">ssl_multicert</span><span class="o">.</span><span class="n">config</span>
<span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ssl</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">cert</span><span class="o">.</span><span class="n">path</span> <span class="n">STRING</span> <span class="n">etc</span><span class="o">/</span><span class="n">trafficserver</span><span class="o">/</span><span class="n">ssl</span>
<span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ssl</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">private_key</span><span class="o">.</span><span class="n">path</span> <span class="n">STRING</span> <span class="n">etc</span><span class="o">/</span><span class="n">trafficserver</span><span class="o">/</span><span class="n">ssl</span>
</pre></div>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-multicert-exit-on-load-fail">
<span id="proxy.config.ssl.server.multicert.exit_on_load_fail"></span><code class="descname">proxy.config.ssl.server.multicert.exit_on_load_fail</code><a class="headerlink" href="#proxy-config-ssl-server-multicert-exit-on-load-fail" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>By default (<code class="docutils literal notranslate"><span class="pre">1</span></code>), Traffic Server will not start unless all the SSL certificates listed in the
<a class="reference internal" href="ssl_multicert.config.en.html#std:configfile-ssl_multicert.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">ssl_multicert.config</span></code></a> file successfully load.  If false (<code class="docutils literal notranslate"><span class="pre">0</span></code>), SSL certificate
load failures will not prevent Traffic Server from starting.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-cert-path">
<span id="proxy.config.ssl.server.cert.path"></span><code class="descname">proxy.config.ssl.server.cert.path</code><a class="headerlink" href="#proxy-config-ssl-server-cert-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">/config</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The location of the SSL certificates and chains used for accepting
and validation new SSL sessions. If this is a relative path,
it is appended to the Traffic Server installation PREFIX. All
certificates and certificate chains listed in
<a class="reference internal" href="ssl_multicert.config.en.html#std:configfile-ssl_multicert.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">ssl_multicert.config</span></code></a> will be loaded relative to this path.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-private-key-path">
<span id="proxy.config.ssl.server.private_key.path"></span><code class="descname">proxy.config.ssl.server.private_key.path</code><a class="headerlink" href="#proxy-config-ssl-server-private-key-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The location of the SSL certificate private keys. Change this
variable only if the private key is not located in the SSL
certificate file. All private keys listed in
<a class="reference internal" href="ssl_multicert.config.en.html#std:configfile-ssl_multicert.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">ssl_multicert.config</span></code></a> will be loaded relative to this
path.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-cert-chain-filename">
<span id="proxy.config.ssl.server.cert_chain.filename"></span><code class="descname">proxy.config.ssl.server.cert_chain.filename</code><a class="headerlink" href="#proxy-config-ssl-server-cert-chain-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of a file containing a global certificate chain that
should be used with every server certificate. This file is only
used if there are certificates defined in <a class="reference internal" href="ssl_multicert.config.en.html#std:configfile-ssl_multicert.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">ssl_multicert.config</span></code></a>.
Unless this is an absolute path, it is loaded relative to the
path specified by <a class="reference internal" href="#proxy-config-ssl-server-cert-path" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.ssl.server.cert.path</span></code></a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-dhparams-file">
<span id="proxy.config.ssl.server.dhparams_file"></span><code class="descname">proxy.config.ssl.server.dhparams_file</code><a class="headerlink" href="#proxy-config-ssl-server-dhparams-file" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The name of a file containing a set of Diffie-Hellman key exchange
parameters. If not specified, 2048-bit DH parameters from <a class="reference external" href="https://tools.ietf.org/html/rfc5114.html">RFC 5114</a> are
used. These parameters are only used if a DHE (or EDH) cipher suite has
been selected.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-ca-cert-path">
<span id="proxy.config.ssl.CA.cert.path"></span><code class="descname">proxy.config.ssl.CA.cert.path</code><a class="headerlink" href="#proxy-config-ssl-ca-cert-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The location of the certificate authority file that client
certificates will be verified against.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-ca-cert-filename">
<span id="proxy.config.ssl.CA.cert.filename"></span><code class="descname">proxy.config.ssl.CA.cert.filename</code><a class="headerlink" href="#proxy-config-ssl-ca-cert-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The filename of the certificate authority that client certificates
will be verified against.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-ticket-key-filename">
<span id="proxy.config.ssl.server.ticket_key.filename"></span><code class="descname">proxy.config.ssl.server.ticket_key.filename</code><a class="headerlink" href="#proxy-config-ssl-server-ticket-key-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The filename of the default and global ticket key for SSL sessions. The location is relative to the
<a class="reference internal" href="#proxy-config-ssl-server-cert-path" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.ssl.server.cert.path</span></code></a> directory. One way to generate this would be to run
<code class="docutils literal notranslate"><span class="pre">head</span> <span class="pre">-c48</span> <span class="pre">/dev/urandom</span> <span class="pre">|</span> <span class="pre">openssl</span> <span class="pre">enc</span> <span class="pre">-base64</span> <span class="pre">|</span> <span class="pre">head</span> <span class="pre">-c48</span> <span class="pre">&gt;</span> <span class="pre">file.ticket</span></code>. Also
note that OpenSSL session tickets are sensitive to the version of the ca-certificates. Once the
file is changed with new tickets, use <a class="reference internal" href="../../appendices/command-line/traffic_ctl.en.html#cmdoption-traffic-ctl-config-arg-reload"><code class="xref std std-option docutils literal notranslate"><span class="pre">traffic_ctl</span> <span class="pre">config</span> <span class="pre">reload</span></code></a> to begin using them.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-servername-filename">
<span id="proxy.config.ssl.servername.filename"></span><code class="descname">proxy.config.ssl.servername.filename</code><a class="headerlink" href="#proxy-config-ssl-servername-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">sni.yaml</td>
</tr>
<tr class="field-even field"><th class="field-name">Deprecated:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The filename of the <a class="reference internal" href="sni.yaml.en.html#std:configfile-sni.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">sni.yaml</span></code></a> configuration file.
If relative, it is relative to the configuration directory.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-max-record-size">
<span id="proxy.config.ssl.max_record_size"></span><code class="descname">proxy.config.ssl.max_record_size</code><a class="headerlink" href="#proxy-config-ssl-max-record-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This configuration specifies the maximum number of bytes to write
into a SSL record when replying over a SSL session. In some
circumstances this setting can improve response latency by reducing
buffering at the SSL layer. This setting can have a value between 0
and 16383 (max TLS record size).</p>
<p class="compound-middle">The default of <code class="docutils literal notranslate"><span class="pre">0</span></code> means to always write all available data into
a single SSL record.</p>
<p class="compound-last">A value of <code class="docutils literal notranslate"><span class="pre">-1</span></code> means TLS record size is dynamically determined. The
strategy employed is to use small TLS records that fit into a single
TCP segment for the first ~1 MB of data, but, increase the record size to
16 KB after that to optimize throughput. The record size is reset back to
a single segment after ~1 second of inactivity and the record size ramping
mechanism is repeated again.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-session-cache">
<span id="proxy.config.ssl.session_cache"></span><code class="descname">proxy.config.ssl.session_cache</code><a class="headerlink" href="#proxy-config-ssl-session-cache" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Enables the SSL session cache:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disables the session cache entirely.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Enables the session cache using OpenSSL’s implementation.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Default. Enables the session cache using Traffic Server’s implementation. This
implementation should perform much better than the OpenSSL
implementation.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-session-cache-timeout">
<span id="proxy.config.ssl.session_cache.timeout"></span><code class="descname">proxy.config.ssl.session_cache.timeout</code><a class="headerlink" href="#proxy-config-ssl-session-cache-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This configuration specifies the lifetime of SSL session cache
entries in seconds. If it is <code class="docutils literal notranslate"><span class="pre">0</span></code>, then the SSL library will use
a default value, typically 300 seconds. Note: This option has no affect
when using the Traffic Server session cache (option <code class="docutils literal notranslate"><span class="pre">2</span></code> in
<code class="docutils literal notranslate"><span class="pre">proxy.config.ssl.session_cache</span></code>)</p>
<blockquote class="compound-last">
<div>See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</div></blockquote>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-session-cache-auto-clear">
<span id="proxy.config.ssl.session_cache.auto_clear"></span><code class="descname">proxy.config.ssl.session_cache.auto_clear</code><a class="headerlink" href="#proxy-config-ssl-session-cache-auto-clear" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This will set the OpenSSL auto clear flag. Auto clear is enabled by
default with <code class="docutils literal notranslate"><span class="pre">1</span></code> it can be disabled by changing this setting to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-session-cache-size">
<span id="proxy.config.ssl.session_cache.size"></span><code class="descname">proxy.config.ssl.session_cache.size</code><a class="headerlink" href="#proxy-config-ssl-session-cache-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">102400</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This configuration specifies the maximum number of entries
the SSL session cache may contain.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-session-cache-num-buckets">
<span id="proxy.config.ssl.session_cache.num_buckets"></span><code class="descname">proxy.config.ssl.session_cache.num_buckets</code><a class="headerlink" href="#proxy-config-ssl-session-cache-num-buckets" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">256</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This configuration specifies the number of buckets to use with the
Traffic Server SSL session cache implementation. The TS implementation
is a fixed size hash map where each bucket is protected by a mutex.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-session-cache-skip-cache-on-bucket-contention">
<span id="proxy.config.ssl.session_cache.skip_cache_on_bucket_contention"></span><code class="descname">proxy.config.ssl.session_cache.skip_cache_on_bucket_contention</code><a class="headerlink" href="#proxy-config-ssl-session-cache-skip-cache-on-bucket-contention" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This configuration specifies the behavior of the Traffic Server SSL session
cache implementation during lock contention on each bucket:</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Default. Don’t skip session caching when bucket lock is contented.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Disable the SSL session cache for a connection during lock contention.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-session-ticket-enable">
<span id="proxy.config.ssl.server.session_ticket.enable"></span><code class="descname">proxy.config.ssl.server.session_ticket.enable</code><a class="headerlink" href="#proxy-config-ssl-server-session-ticket-enable" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set to 1 to enable Traffic Server to process TLS tickets for TLS session resumption.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-session-ticket-number">
<span id="proxy.config.ssl.server.session_ticket.number"></span><code class="descname">proxy.config.ssl.server.session_ticket.number</code><a class="headerlink" href="#proxy-config-ssl-server-session-ticket-number" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This configuration control the number of TLSv1.3 session tickets that are issued.
Take into account that setting the value to 0 will disable session caching for TLSv1.3
connections.</p>
<p class="compound-middle">Lowering this setting to <code class="docutils literal notranslate"><span class="pre">1</span></code> can be interesting when <code class="docutils literal notranslate"><span class="pre">proxy.config.ssl.session_cache</span></code> is enabled because
otherwise for every new TLSv1.3 connection two session IDs will be inserted in the session cache.
On the other hand, if <code class="docutils literal notranslate"><span class="pre">proxy.config.ssl.session_cache</span></code>  is disabled, using the default value is recommended.
In those scenarios, increasing the number of tickets could be potentially beneficial for clients performing
multiple requests over concurrent TLS connections as per <a class="reference external" href="https://tools.ietf.org/html/rfc8446.html">RFC 8446</a> clients SHOULDN’T reuse TLS Tickets.</p>
<p class="compound-last">For more information see <a class="reference external" href="https://www.openssl.org/docs/man1.1.1/man3/SSL_CTX_set_num_tickets.html">https://www.openssl.org/docs/man1.1.1/man3/SSL_CTX_set_num_tickets.html</a>
[Requires OpenSSL v1.1.1 and higher]</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-hsts-max-age">
<span id="proxy.config.ssl.hsts_max_age"></span><code class="descname">proxy.config.ssl.hsts_max_age</code><a class="headerlink" href="#proxy-config-ssl-hsts-max-age" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-1</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This configuration specifies the max-age value that will be used
when adding the Strict-Transport-Security header.  The value is in seconds.
A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> will set the max-age value to <code class="docutils literal notranslate"><span class="pre">0</span></code> and should remove the
HSTS entry from the client.  A value of <code class="docutils literal notranslate"><span class="pre">-1</span></code> will disable this feature and
not set the header.  This option is only used for HTTPS requests and the
header will not be set on HTTP requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-hsts-include-subdomains">
<span id="proxy.config.ssl.hsts_include_subdomains"></span><code class="descname">proxy.config.ssl.hsts_include_subdomains</code><a class="headerlink" href="#proxy-config-ssl-hsts-include-subdomains" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) adding the includeSubdomain value
to the Strict-Transport-Security header.  proxy.config.ssl.hsts_max_age
needs to be set to a non <code class="docutils literal notranslate"><span class="pre">-1</span></code> value for this configuration to take effect.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-allow-client-renegotiation">
<span id="proxy.config.ssl.allow_client_renegotiation"></span><code class="descname">proxy.config.ssl.allow_client_renegotiation</code><a class="headerlink" href="#proxy-config-ssl-allow-client-renegotiation" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This configuration specifies whether the client is able to initiate
renegotiation of the SSL connection.  The default of <code class="docutils literal notranslate"><span class="pre">0</span></code>, means
the client can’t initiate renegotiation.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-cert-load-elevated">
<span id="proxy.config.ssl.cert.load_elevated"></span><code class="descname">proxy.config.ssl.cert.load_elevated</code><a class="headerlink" href="#proxy-config-ssl-cert-load-elevated" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) elevation of traffic_server
privileges during loading of SSL certificates.  By enabling this, SSL
certificate files’ access rights can be restricted to help reduce the
vulnerability of certificates.</p>
<p class="compound-last">This feature requires Traffic Server to be built with POSIX
capabilities enabled.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-handshake-timeout-in">
<span id="proxy.config.ssl.handshake_timeout_in"></span><code class="descname">proxy.config.ssl.handshake_timeout_in</code><a class="headerlink" href="#proxy-config-ssl-handshake-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">When enabled this limits the total duration for the server side SSL
handshake.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<div class="section" id="client-related-configuration">
<h3>Client-Related Configuration<a class="headerlink" href="#client-related-configuration" title="Permalink to this headline">¶</a></h3>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-verify-server-policy">
<span id="proxy.config.ssl.client.verify.server.policy"></span><code class="descname">proxy.config.ssl.client.verify.server.policy</code><a class="headerlink" href="#proxy-config-ssl-client-verify-server-policy" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">PERMISSIVE</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures Traffic Server to verify the origin server certificate
with the Certificate Authority (CA). This configuration takes a value of <code class="code docutils literal notranslate"><span class="pre">DISABLED</span></code>, <code class="code docutils literal notranslate"><span class="pre">PERMISSIVE</span></code>, or <code class="code docutils literal notranslate"><span class="pre">ENFORCED</span></code></p>
<p class="compound-middle">You can override this global setting on a per domain basis in the <a class="reference internal" href="sni.yaml.en.html#std:configfile-sni.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">sni.yaml</span></code></a> file using the <a class="reference internal" href="sni.yaml.en.html#override-verify-server-policy"><span class="std std-ref">verify_server_policy attribute</span></a>.</p>
<p class="compound-last">You can also override via the conf_remap plugin. Those changes will take precedence over the changes in <a class="reference internal" href="sni.yaml.en.html#std:configfile-sni.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">sni.yaml</span></code></a>.</p>
</div>
<dl class="docutils">
<dt><code class="code docutils literal notranslate"><span class="pre">DISABLED</span></code></dt>
<dd>Server Certificate will not be verified</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">PERMISSIVE</span></code></dt>
<dd>The provided certificate will be verified and the connection will be established irrespective of the verification result. If verification fails the name of the server will be logged.</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">ENFORCED</span></code></dt>
<dd>Certificate will be verified and the connection will not be established if verification fails.</dd>
</dl>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-verify-server-properties">
<span id="proxy.config.ssl.client.verify.server.properties"></span><code class="descname">proxy.config.ssl.client.verify.server.properties</code><a class="headerlink" href="#proxy-config-ssl-client-verify-server-properties" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">ALL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Configures Traffic Server for what the default verify callback should check during origin server verification.</p>
<p class="compound-middle">You can override this global setting on a per domain basis in the <a class="reference internal" href="sni.yaml.en.html#std:configfile-sni.yaml"><code class="xref std std-file docutils literal notranslate"><span class="pre">sni.yaml</span></code></a> file using the <a class="reference internal" href="sni.yaml.en.html#override-verify-server-properties"><span class="std std-ref">verify_server_properties attribute</span></a>.</p>
<p class="compound-last">You can also override via the conf_remap plugin. Those changes will take precedence over the changes in .:file:<cite>sni.yaml</cite></p>
</div>
<dl class="docutils">
<dt><code class="code docutils literal notranslate"><span class="pre">NONE</span></code></dt>
<dd>Check nothing in the standard callback.  Rely entirely on plugins to check the certificate.</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">SIGNATURE</span></code></dt>
<dd>Check only for a valid signature.</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">NAME</span></code></dt>
<dd>Check only that the SNI name is in the certificate.</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">ALL</span></code></dt>
<dd>Check both the signature and the name.</dd>
</dl>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-cert-filename">
<span id="proxy.config.ssl.client.cert.filename"></span><code class="descname">proxy.config.ssl.client.cert.filename</code><a class="headerlink" href="#proxy-config-ssl-client-cert-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The filename of SSL client certificate installed on Traffic Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-cert-path">
<span id="proxy.config.ssl.client.cert.path"></span><code class="descname">proxy.config.ssl.client.cert.path</code><a class="headerlink" href="#proxy-config-ssl-client-cert-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">/config</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The location of the SSL client certificate installed on Traffic
Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-private-key-filename">
<span id="proxy.config.ssl.client.private_key.filename"></span><code class="descname">proxy.config.ssl.client.private_key.filename</code><a class="headerlink" href="#proxy-config-ssl-client-private-key-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The filename of the Traffic Server private key. Change this variable
only if the private key is not located in the Traffic Server SSL
client certificate file.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-private-key-path">
<span id="proxy.config.ssl.client.private_key.path"></span><code class="descname">proxy.config.ssl.client.private_key.path</code><a class="headerlink" href="#proxy-config-ssl-client-private-key-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The location of the Traffic Server private key. Change this variable
only if the private key is not located in the SSL client certificate
file.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-ca-cert-filename">
<span id="proxy.config.ssl.client.CA.cert.filename"></span><code class="descname">proxy.config.ssl.client.CA.cert.filename</code><a class="headerlink" href="#proxy-config-ssl-client-ca-cert-filename" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The filename of the certificate authority against which the origin
server will be verified.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-ca-cert-path">
<span id="proxy.config.ssl.client.CA.cert.path"></span><code class="descname">proxy.config.ssl.client.CA.cert.path</code><a class="headerlink" href="#proxy-config-ssl-client-ca-cert-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the location of the certificate authority file against
which the origin server will be verified.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-sni-policy">
<span id="proxy.config.ssl.client.sni_policy"></span><code class="descname">proxy.config.ssl.client.sni_policy</code><a class="headerlink" href="#proxy-config-ssl-client-sni-policy" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Indicate how the SNI value for the TLS connection to the origin is selected.</p>
<dl class="compound-middle docutils">
<dt><code class="docutils literal notranslate"><span class="pre">host</span></code></dt>
<dd>This is the default. The value of the <code class="docutils literal notranslate"><span class="pre">Host</span></code> field in the proxy request is used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remap</span></code></dt>
<dd>The remapped upstream name is used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">verify_with_name_source</span></code></dt>
<dd>The value of the <code class="docutils literal notranslate"><span class="pre">Host</span></code> field in the proxy request is used. In addition, if the names in the
server certificate of the upstream are checked, they are checked against the remapped upstream
name, not the SNI.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&#64;...</span></code></dt>
<dd>If the policy starts with the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> character, it is treated as a literal, less the leading
<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>. E.g. if the policy is “&#64;apache.org” the SNI will be “apache.org”.</dd>
</dl>
<p class="compound-middle">We have two names that could be used in the transaction host header and the SNI value to the
origin. These could be the host header from the client or the remap host name. Unless you have
pristine host header enabled, these are likely the same values.
If sni_policy = <code class="docutils literal notranslate"><span class="pre">host</span></code>, both the sni and the value of the <code class="docutils literal notranslate"><span class="pre">Host</span></code> field to origin will be the
same. If sni_policy = <code class="docutils literal notranslate"><span class="pre">remap</span></code>, the sni value will be the remap host name and the host header
will be the host header from the client.</p>
<p class="compound-last">In addition, We may want to set the SNI and host headers the same (makes some common web servers
happy), but the server certificate for the upstream may have a name that corresponds to the remap
name. So instead of using the SNI name for the name check, we may want to use the remap name. So
if sni_policy = <code class="docutils literal notranslate"><span class="pre">verify_with_name_source</span></code>, the sni will be the host header value and the name
to check in the server certificate will be the remap header value.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-tlsv1">
<span id="proxy.config.ssl.client.TLSv1"></span><code class="descname">proxy.config.ssl.client.TLSv1</code><a class="headerlink" href="#proxy-config-ssl-client-tlsv1" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLSv1.0 in the ATS client context. If not specified, enabled by default</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-tlsv1-1">
<span id="proxy.config.ssl.client.TLSv1_1"></span><code class="descname">proxy.config.ssl.client.TLSv1_1</code><a class="headerlink" href="#proxy-config-ssl-client-tlsv1-1" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLSv1_1 in the ATS client context. If not specified, enabled by default</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-tlsv1-2">
<span id="proxy.config.ssl.client.TLSv1_2"></span><code class="descname">proxy.config.ssl.client.TLSv1_2</code><a class="headerlink" href="#proxy-config-ssl-client-tlsv1-2" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLSv1_2 in the ATS client context. If not specified, enabled by default</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-client-tlsv1-3">
<span id="proxy.config.ssl.client.TLSv1_3"></span><code class="descname">proxy.config.ssl.client.TLSv1_3</code><a class="headerlink" href="#proxy-config-ssl-client-tlsv1-3" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) TLSv1_3 in the ATS client context. If not specified, enabled by default</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-async-handshake-enabled">
<span id="proxy.config.ssl.async.handshake.enabled"></span><code class="descname">proxy.config.ssl.async.handshake.enabled</code><a class="headerlink" href="#proxy-config-ssl-async-handshake-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables the use of openssl async job during the TLS handshake.  Traffic
Server must be build against openssl 1.1 or greater or this to take affect.
Can be useful if using a crypto engine that communicates off chip.  The
thread will be rescheduled for other work until the crypto engine operation
completes. A test crypto engine that inserts a 5 second delay on private key
operations can be found at <a class="reference external" href="https://github.com/apache/trafficserver/blob/master/contrib/openssl/async_engine.c">contrib/openssl/async_engine.c</a>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-engine-conf-file">
<span id="proxy.config.ssl.engine.conf_file"></span><code class="descname">proxy.config.ssl.engine.conf_file</code><a class="headerlink" href="#proxy-config-ssl-engine-conf-file" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specify the location of the openssl config file used to load dynamic crypto
engines. This setting assumes an absolute path.  An example config file is at
<a class="reference external" href="https://github.com/apache/trafficserver/blob/master/contrib/openssl/load_engine.cnf">contrib/openssl/load_engine.cnf</a>.</p>
</div>
</div>
<div class="section" id="tls-v1-3-0-rtt-configuration">
<h3>TLS v1.3 0-RTT Configuration<a class="headerlink" href="#tls-v1-3-0-rtt-configuration" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TLS v1.3 must be enabled in order to utilize 0-RTT early data.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-max-early-data">
<span id="proxy.config.ssl.server.max_early_data"></span><code class="descname">proxy.config.ssl.server.max_early_data</code><a class="headerlink" href="#proxy-config-ssl-server-max-early-data" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Specifies the maximum amount of early data in bytes that is permitted to be sent on a single connection.</p>
<p class="compound-middle">The minimum value that enables early data, and the suggested value for this option are both 16384 (16KB).</p>
<p class="compound-last">Setting to <code class="docutils literal notranslate"><span class="pre">0</span></code> effectively disables 0-RTT.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-server-allow-early-data-params">
<span id="proxy.config.ssl.server.allow_early_data_params"></span><code class="descname">proxy.config.ssl.server.allow_early_data_params</code><a class="headerlink" href="#proxy-config-ssl-server-allow-early-data-params" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> to allow HTTP parameters on early data requests.</p>
</div>
</div>
</div>
<div class="section" id="ocsp-stapling-configuration">
<h2>OCSP Stapling Configuration<a class="headerlink" href="#ocsp-stapling-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-ocsp-enabled">
<span id="proxy.config.ssl.ocsp.enabled"></span><code class="descname">proxy.config.ssl.ocsp.enabled</code><a class="headerlink" href="#proxy-config-ssl-ocsp-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Enable OCSP stapling.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Disables OCSP Stapling.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Allows Traffic Server to request SSL certificate revocation status from an OCSP
responder.</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-ocsp-cache-timeout">
<span id="proxy.config.ssl.ocsp.cache_timeout"></span><code class="descname">proxy.config.ssl.ocsp.cache_timeout</code><a class="headerlink" href="#proxy-config-ssl-ocsp-cache-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3600</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Number of seconds before an OCSP response expires in the stapling cache.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-ocsp-request-timeout">
<span id="proxy.config.ssl.ocsp.request_timeout"></span><code class="descname">proxy.config.ssl.ocsp.request_timeout</code><a class="headerlink" href="#proxy-config-ssl-ocsp-request-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Timeout (in seconds) for queries to OCSP responders.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-ocsp-update-period">
<span id="proxy.config.ssl.ocsp.update_period"></span><code class="descname">proxy.config.ssl.ocsp.update_period</code><a class="headerlink" href="#proxy-config-ssl-ocsp-update-period" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">60</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Update period (in seconds) for stapling caches.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-ocsp-response-path">
<span id="proxy.config.ssl.ocsp.response.path"></span><code class="descname">proxy.config.ssl.ocsp.response.path</code><a class="headerlink" href="#proxy-config-ssl-ocsp-response-path" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The directory path of the prefetched OCSP stapling responses. Change this
variable only if you intend to use and administratively maintain
prefetched OCSP stapling responses. All stapling responses listed in
<a class="reference internal" href="ssl_multicert.config.en.html#std:configfile-ssl_multicert.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">ssl_multicert.config</span></code></a> will be loaded relative to this
path.</p>
</div>
</div>
<div class="section" id="http-2-configuration">
<h2>HTTP/2 Configuration<a class="headerlink" href="#http-2-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-concurrent-streams-in">
<span id="proxy.config.http2.max_concurrent_streams_in"></span><code class="descname">proxy.config.http2.max_concurrent_streams_in</code><a class="headerlink" href="#proxy-config-http2-max-concurrent-streams-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum number of concurrent streams per inbound connection.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Reloading this value affects only new HTTP/2 connections, not the
ones already established.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-min-concurrent-streams-in">
<span id="proxy.config.http2.min_concurrent_streams_in"></span><code class="descname">proxy.config.http2.min_concurrent_streams_in</code><a class="headerlink" href="#proxy-config-http2-min-concurrent-streams-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The minimum number of concurrent streams per inbound connection.
This is used when <a class="reference internal" href="#proxy-config-http2-max-active-streams-in" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http2.max_active_streams_in</span></code></a> is set
larger than <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-active-streams-in">
<span id="proxy.config.http2.max_active_streams_in"></span><code class="descname">proxy.config.http2.max_active_streams_in</code><a class="headerlink" href="#proxy-config-http2-max-active-streams-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Limits the maximum number of connection wide active streams.
When connection wide active streams are larger than this value,
SETTINGS_MAX_CONCURRENT_STREAMS will be reduced to
<a class="reference internal" href="#proxy-config-http2-min-concurrent-streams-in" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http2.min_concurrent_streams_in</span></code></a>.
To disable, set to zero (<code class="docutils literal notranslate"><span class="pre">0</span></code>).</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-initial-window-size-in">
<span id="proxy.config.http2.initial_window_size_in"></span><code class="descname">proxy.config.http2.initial_window_size_in</code><a class="headerlink" href="#proxy-config-http2-initial-window-size-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">65535</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The initial window size for inbound connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-frame-size">
<span id="proxy.config.http2.max_frame_size"></span><code class="descname">proxy.config.http2.max_frame_size</code><a class="headerlink" href="#proxy-config-http2-max-frame-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">16384</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Indicates the size of the largest frame payload that the sender is willing
to receive.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-header-table-size">
<span id="proxy.config.http2.header_table_size"></span><code class="descname">proxy.config.http2.header_table_size</code><a class="headerlink" href="#proxy-config-http2-header-table-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4096</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum size of the header compression table used to decode header
blocks. This value will be advertised as SETTINGS_HEADER_TABLE_SIZE.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-header-table-size-limit">
<span id="proxy.config.http2.header_table_size_limit"></span><code class="descname">proxy.config.http2.header_table_size_limit</code><a class="headerlink" href="#proxy-config-http2-header-table-size-limit" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">65536</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The maximum size of the header compression table ATS actually use when ATS
encodes headers. Setting 0 means ATS doesn’t insert headers into HPACK
Dynamic Table, however, headers still can be encoded as indexable
representations. The upper limit is 65536.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-header-list-size">
<span id="proxy.config.http2.max_header_list_size"></span><code class="descname">proxy.config.http2.max_header_list_size</code><a class="headerlink" href="#proxy-config-http2-max-header-list-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">131072</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This advisory setting informs a peer of the maximum size of header list
that the sender is prepared to accept blocks. The default value, which is
the unsigned int maximum value in Traffic Server, implies unlimited size.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-stream-priority-enabled">
<span id="proxy.config.http2.stream_priority_enabled"></span><code class="descname">proxy.config.http2.stream_priority_enabled</code><a class="headerlink" href="#proxy-config-http2-stream-priority-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enable the experimental HTTP/2 Stream Priority feature.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-active-timeout-in">
<span id="proxy.config.http2.active_timeout_in"></span><code class="descname">proxy.config.http2.active_timeout_in</code><a class="headerlink" href="#proxy-config-http2-active-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">This is the active timeout of the http2 connection. It is set when the connection is opened
and keeps ticking regardless of activity level.</p>
<p class="compound-last">The value of <code class="docutils literal notranslate"><span class="pre">0</span></code> specifies that there is no timeout.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-accept-no-activity-timeout">
<span id="proxy.config.http2.accept_no_activity_timeout"></span><code class="descname">proxy.config.http2.accept_no_activity_timeout</code><a class="headerlink" href="#proxy-config-http2-accept-no-activity-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">120</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how long Traffic Server keeps connections to clients open if no
activity is received on the connection. Lowering this timeout can ease
pressure on the proxy if misconfigured or misbehaving clients are opening
a large number of connections without submitting requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-no-activity-timeout-in">
<span id="proxy.config.http2.no_activity_timeout_in"></span><code class="descname">proxy.config.http2.no_activity_timeout_in</code><a class="headerlink" href="#proxy-config-http2-no-activity-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">120</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how long Traffic Server keeps connections to clients open if a
transaction stalls. Lowering this timeout can ease pressure on the proxy if
misconfigured or misbehaving clients are opening a large number of
connections without submitting requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-zombie-debug-timeout-in">
<span id="proxy.config.http2.zombie_debug_timeout_in"></span><code class="descname">proxy.config.http2.zombie_debug_timeout_in</code><a class="headerlink" href="#proxy-config-http2-zombie-debug-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This timeout enables the zombie debugging feature.  If it is non-zero, it sets a zombie event to go off that
many seconds in the future when the HTTP2 session reaches one but not both of the terminating events, i.e received
a close event (via client goaway or timeout) and the number of active streams has gone to zero.  If the event is executed,
the Traffic Server process will assert.  This mechanism is useful to debug potential leaks in the HTTP2 Stream and Session
processing.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-push-diary-size">
<span id="proxy.config.http2.push_diary_size"></span><code class="descname">proxy.config.http2.push_diary_size</code><a class="headerlink" href="#proxy-config-http2-push-diary-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">256</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Indicates the maximum number of HTTP/2 server pushes that are remembered per
HTTP/2 connection to avoid duplicate pushes on the same connection. If the
maximum number is reached, new entries are not remembered.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-stream-error-rate-threshold">
<span id="proxy.config.http2.stream_error_rate_threshold"></span><code class="descname">proxy.config.http2.stream_error_rate_threshold</code><a class="headerlink" href="#proxy-config-http2-stream-error-rate-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is the maximum stream error rate Traffic Server allows on an HTTP/2 connection.
Traffic Server gracefully closes connections that have stream error rates above this
setting by sending GOAWAY frames.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-settings-per-frame">
<span id="proxy.config.http2.max_settings_per_frame"></span><code class="descname">proxy.config.http2.max_settings_per_frame</code><a class="headerlink" href="#proxy-config-http2-max-settings-per-frame" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">7</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how many settings in an HTTP/2 SETTINGS frame Traffic Server accepts.
Clients exceeded this limit will be immediately disconnected with an error
code of ENHANCE_YOUR_CALM.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-settings-per-minute">
<span id="proxy.config.http2.max_settings_per_minute"></span><code class="descname">proxy.config.http2.max_settings_per_minute</code><a class="headerlink" href="#proxy-config-http2-max-settings-per-minute" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">14</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how many settings in HTTP/2 SETTINGS frames Traffic Server accept for a minute.
Clients exceeded this limit will be immediately disconnected with an error
code of ENHANCE_YOUR_CALM.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-settings-frames-per-minute">
<span id="proxy.config.http2.max_settings_frames_per_minute"></span><code class="descname">proxy.config.http2.max_settings_frames_per_minute</code><a class="headerlink" href="#proxy-config-http2-max-settings-frames-per-minute" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">14</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how many SETTINGS frames Traffic Server receives for a minute at maximum.
Clients exceeded this limit will be immediately disconnected with an error
code of ENHANCE_YOUR_CALM.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-ping-frames-per-minute">
<span id="proxy.config.http2.max_ping_frames_per_minute"></span><code class="descname">proxy.config.http2.max_ping_frames_per_minute</code><a class="headerlink" href="#proxy-config-http2-max-ping-frames-per-minute" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">60</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how many number of PING frames Traffic Server receives for a minute at maximum.
Clients exceeded this limit will be immediately disconnected with an error
code of ENHANCE_YOUR_CALM.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-max-priority-frames-per-minute">
<span id="proxy.config.http2.max_priority_frames_per_minute"></span><code class="descname">proxy.config.http2.max_priority_frames_per_minute</code><a class="headerlink" href="#proxy-config-http2-max-priority-frames-per-minute" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">120</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies how many number of PRIORITY frames Traffic Server receives for a minute at maximum.
Clients exceeded this limit will be immediately disconnected with an error
code of ENHANCE_YOUR_CALM. If this is set to 0, the limit logic is disabled.
This limit only will be enforced if <a class="reference internal" href="#proxy-config-http2-stream-priority-enabled" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http2.stream_priority_enabled</span></code></a>
is set to 1.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-min-avg-window-update">
<span id="proxy.config.http2.min_avg_window_update"></span><code class="descname">proxy.config.http2.min_avg_window_update</code><a class="headerlink" href="#proxy-config-http2-min-avg-window-update" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2560.0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the minimum average window increment Traffic Server allows. The average will be calculated based on the last 5 WINDOW_UPDATE frames.
Clients that send smaller window increments lower than this limit will be immediately disconnected with an error
code of ENHANCE_YOUR_CALM.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-write-buffer-block-size">
<span id="proxy.config.http2.write_buffer_block_size"></span><code class="descname">proxy.config.http2.write_buffer_block_size</code><a class="headerlink" href="#proxy-config-http2-write-buffer-block-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">262144</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the size of a buffer block that is used for buffering outgoing
HTTP/2 frames. The size will be rounded up based on power of 2.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-write-size-threshold">
<span id="proxy.config.http2.write_size_threshold"></span><code class="descname">proxy.config.http2.write_size_threshold</code><a class="headerlink" href="#proxy-config-http2-write-size-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.5</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the size threshold for triggering write operation for sending HTTP/2
frames. The default value is 0.5 and it measn write operation is going to be
triggered when half or more of the buffer is occupied.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http2-write-time-threshold">
<span id="proxy.config.http2.write_time_threshold"></span><code class="descname">proxy.config.http2.write_time_threshold</code><a class="headerlink" href="#proxy-config-http2-write-time-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Units:</th><td class="field-body">milliseconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the time threshold for triggering write operation for sending HTTP/2
frames. Write operation will be triggered at least once every this configured
number of millisecond regardless of pending data size.</p>
</div>
</div>
<div class="section" id="http-3-configuration">
<h2>HTTP/3 Configuration<a class="headerlink" href="#http-3-configuration" title="Permalink to this headline">¶</a></h2>
<p>There is no configuration available yet on this release.</p>
</div>
<div class="section" id="quic-configuration">
<h2>QUIC Configuration<a class="headerlink" href="#quic-configuration" title="Permalink to this headline">¶</a></h2>
<p>All configurations for QUIC are still experimental and may be changed or
removed in the future without prior notice.</p>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-qlog-dir">
<span id="proxy.config.quic.qlog_dir"></span><code class="descname">proxy.config.quic.qlog_dir</code><a class="headerlink" href="#proxy-config-quic-qlog-dir" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">NULL</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<blockquote>
<div>The qlog is enabled when this configuration is not NULL. And will dump
the qlog to this dir.</div></blockquote>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-instance-id">
<span id="proxy.config.quic.instance_id"></span><code class="descname">proxy.config.quic.instance_id</code><a class="headerlink" href="#proxy-config-quic-instance-id" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>A static key used for calculating Stateless Reset Token. All instances in a
cluster need to share the same value.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-connection-table-size">
<span id="proxy.config.quic.connection_table.size"></span><code class="descname">proxy.config.quic.connection_table.size</code><a class="headerlink" href="#proxy-config-quic-connection-table-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">65521</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>A size of hash table that stores connection information.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-proxy-config-quic-num-alt-connection-ids">
<span id="proxy.config.quic.proxy.config.quic.num_alt_connection_ids"></span><code class="descname">proxy.config.quic.proxy.config.quic.num_alt_connection_ids</code><a class="headerlink" href="#proxy-config-quic-proxy-config-quic-num-alt-connection-ids" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">65521</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>A number of alternate Connection IDs that Traffic Server provides to a peer. It has to
be at least 8.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-stateless-retry-enabled">
<span id="proxy.config.quic.stateless_retry_enabled"></span><code class="descname">proxy.config.quic.stateless_retry_enabled</code><a class="headerlink" href="#proxy-config-quic-stateless-retry-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables Stateless Retry.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-client-vn-exercise-enabled">
<span id="proxy.config.quic.client.vn_exercise_enabled"></span><code class="descname">proxy.config.quic.client.vn_exercise_enabled</code><a class="headerlink" href="#proxy-config-quic-client-vn-exercise-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables version negotiation exercise on origin server connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-client-cm-exercise-enabled">
<span id="proxy.config.quic.client.cm_exercise_enabled"></span><code class="descname">proxy.config.quic.client.cm_exercise_enabled</code><a class="headerlink" href="#proxy-config-quic-client-cm-exercise-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables connection migration exercise on origin server connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-server-supported-groups">
<span id="proxy.config.quic.server.supported_groups"></span><code class="descname">proxy.config.quic.server.supported_groups</code><a class="headerlink" href="#proxy-config-quic-server-supported-groups" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“P-256:X25519:P-384:P-521”</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the list of supported groups provided by OpenSSL which will be
used to determine the set of shared groups on QUIC origin server connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-client-supported-groups">
<span id="proxy.config.quic.client.supported_groups"></span><code class="descname">proxy.config.quic.client.supported_groups</code><a class="headerlink" href="#proxy-config-quic-client-supported-groups" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“P-256:X25519:P-384:P-521”</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the list of supported groups provided by OpenSSL which will be
used to determine the set of shared groups on QUIC client connections.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-client-session-file">
<span id="proxy.config.quic.client.session_file"></span><code class="descname">proxy.config.quic.client.session_file</code><a class="headerlink" href="#proxy-config-quic-client-session-file" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“”</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Only available for <strong class="program">traffic_quic</strong>.
If specified, TLS session data will be stored to the file, and will be used
for resuming a session.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-client-keylog-file">
<span id="proxy.config.quic.client.keylog_file"></span><code class="descname">proxy.config.quic.client.keylog_file</code><a class="headerlink" href="#proxy-config-quic-client-keylog-file" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“”</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Only available for <strong class="program">traffic_quic</strong>.
If specified, key information will be stored to the file.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-no-activity-timeout-in">
<span id="proxy.config.quic.no_activity_timeout_in"></span><code class="descname">proxy.config.quic.no_activity_timeout_in</code><a class="headerlink" href="#proxy-config-quic-no-activity-timeout-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30000</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">idle_timeout</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-no-activity-timeout-out">
<span id="proxy.config.quic.no_activity_timeout_out"></span><code class="descname">proxy.config.quic.no_activity_timeout_out</code><a class="headerlink" href="#proxy-config-quic-no-activity-timeout-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">30000</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as  <code class="docutils literal notranslate"><span class="pre">idle_timeout</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-preferred-address-ipv4">
<span id="proxy.config.quic.preferred_address_ipv4"></span><code class="descname">proxy.config.quic.preferred_address_ipv4</code><a class="headerlink" href="#proxy-config-quic-preferred-address-ipv4" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“”</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as a part of <code class="docutils literal notranslate"><span class="pre">preferred_address</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-preferred-address-ipv6">
<span id="proxy.config.quic.preferred_address_ipv6"></span><code class="descname">proxy.config.quic.preferred_address_ipv6</code><a class="headerlink" href="#proxy-config-quic-preferred-address-ipv6" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“”</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as a part of <code class="docutils literal notranslate"><span class="pre">preferred_address</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-initial-max-data-in">
<span id="proxy.config.quic.initial_max_data_in"></span><code class="descname">proxy.config.quic.initial_max_data_in</code><a class="headerlink" href="#proxy-config-quic-initial-max-data-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">65536</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_data</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-initial-max-data-out">
<span id="proxy.config.quic.initial_max_data_out"></span><code class="descname">proxy.config.quic.initial_max_data_out</code><a class="headerlink" href="#proxy-config-quic-initial-max-data-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">65536</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_data</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-stream-data-bidi-local-in">
<span id="proxy.config.quic.max_stream_data_bidi_local_in"></span><code class="descname">proxy.config.quic.max_stream_data_bidi_local_in</code><a class="headerlink" href="#proxy-config-quic-max-stream-data-bidi-local-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_stream_data_bidi_local</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-stream-data-bidi-local-out">
<span id="proxy.config.quic.max_stream_data_bidi_local_out"></span><code class="descname">proxy.config.quic.max_stream_data_bidi_local_out</code><a class="headerlink" href="#proxy-config-quic-max-stream-data-bidi-local-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4096</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_stream_data_bidi_local</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-stream-data-bidi-remote-in">
<span id="proxy.config.quic.max_stream_data_bidi_remote_in"></span><code class="descname">proxy.config.quic.max_stream_data_bidi_remote_in</code><a class="headerlink" href="#proxy-config-quic-max-stream-data-bidi-remote-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4096</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_stream_data_bidi_remote</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-stream-data-bidi-remote-out">
<span id="proxy.config.quic.max_stream_data_bidi_remote_out"></span><code class="descname">proxy.config.quic.max_stream_data_bidi_remote_out</code><a class="headerlink" href="#proxy-config-quic-max-stream-data-bidi-remote-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_stream_data_bidi_remote</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-stream-data-uni-in">
<span id="proxy.config.quic.max_stream_data_uni_in"></span><code class="descname">proxy.config.quic.max_stream_data_uni_in</code><a class="headerlink" href="#proxy-config-quic-max-stream-data-uni-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4096</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_stream_data_uni</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-stream-data-uni-out">
<span id="proxy.config.quic.max_stream_data_uni_out"></span><code class="descname">proxy.config.quic.max_stream_data_uni_out</code><a class="headerlink" href="#proxy-config-quic-max-stream-data-uni-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_stream_data_uni</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-streams-bidi-in">
<span id="proxy.config.quic.max_streams_bidi_in"></span><code class="descname">proxy.config.quic.max_streams_bidi_in</code><a class="headerlink" href="#proxy-config-quic-max-streams-bidi-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_streams_bidi</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-streams-bidi-out">
<span id="proxy.config.quic.max_streams_bidi_out"></span><code class="descname">proxy.config.quic.max_streams_bidi_out</code><a class="headerlink" href="#proxy-config-quic-max-streams-bidi-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_streams_bidi</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-streams-uni-in">
<span id="proxy.config.quic.max_streams_uni_in"></span><code class="descname">proxy.config.quic.max_streams_uni_in</code><a class="headerlink" href="#proxy-config-quic-max-streams-uni-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_streams_uni</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-streams-uni-out">
<span id="proxy.config.quic.max_streams_uni_out"></span><code class="descname">proxy.config.quic.max_streams_uni_out</code><a class="headerlink" href="#proxy-config-quic-max-streams-uni-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">initial_max_streams_uni</span></code>
Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-ack-delay-exponent-in">
<span id="proxy.config.quic.ack_delay_exponent_in"></span><code class="descname">proxy.config.quic.ack_delay_exponent_in</code><a class="headerlink" href="#proxy-config-quic-ack-delay-exponent-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">ack_delay_exponent</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-ack-delay-exponent-out">
<span id="proxy.config.quic.ack_delay_exponent_out"></span><code class="descname">proxy.config.quic.ack_delay_exponent_out</code><a class="headerlink" href="#proxy-config-quic-ack-delay-exponent-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">ack_delay_exponent</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-ack-delay-in">
<span id="proxy.config.quic.max_ack_delay_in"></span><code class="descname">proxy.config.quic.max_ack_delay_in</code><a class="headerlink" href="#proxy-config-quic-max-ack-delay-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">25</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">max_ack_delay</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-max-ack-delay-out">
<span id="proxy.config.quic.max_ack_delay_out"></span><code class="descname">proxy.config.quic.max_ack_delay_out</code><a class="headerlink" href="#proxy-config-quic-max-ack-delay-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">25</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This value will be advertised as <code class="docutils literal notranslate"><span class="pre">max_ack_delay</span></code> Transport Parameter.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-loss-detection-packet-threshold">
<span id="proxy.config.quic.loss_detection.packet_threshold"></span><code class="descname">proxy.config.quic.loss_detection.packet_threshold</code><a class="headerlink" href="#proxy-config-quic-loss-detection-packet-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">3</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-loss-detection-time-threshold">
<span id="proxy.config.quic.loss_detection.time_threshold"></span><code class="descname">proxy.config.quic.loss_detection.time_threshold</code><a class="headerlink" href="#proxy-config-quic-loss-detection-time-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1.25</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-loss-detection-granularity">
<span id="proxy.config.quic.loss_detection.granularity"></span><code class="descname">proxy.config.quic.loss_detection.granularity</code><a class="headerlink" href="#proxy-config-quic-loss-detection-granularity" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-loss-detection-initial-rtt">
<span id="proxy.config.quic.loss_detection.initial_rtt"></span><code class="descname">proxy.config.quic.loss_detection.initial_rtt</code><a class="headerlink" href="#proxy-config-quic-loss-detection-initial-rtt" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-congestion-control-max-datagram-size">
<span id="proxy.config.quic.congestion_control.max_datagram_size"></span><code class="descname">proxy.config.quic.congestion_control.max_datagram_size</code><a class="headerlink" href="#proxy-config-quic-congestion-control-max-datagram-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1200</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-congestion-control-initial-window">
<span id="proxy.config.quic.congestion_control.initial_window"></span><code class="descname">proxy.config.quic.congestion_control.initial_window</code><a class="headerlink" href="#proxy-config-quic-congestion-control-initial-window" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">12000</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-congestion-control-minimum-window">
<span id="proxy.config.quic.congestion_control.minimum_window"></span><code class="descname">proxy.config.quic.congestion_control.minimum_window</code><a class="headerlink" href="#proxy-config-quic-congestion-control-minimum-window" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2400</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-congestion-control-loss-reduction-factor">
<span id="proxy.config.quic.congestion_control.loss_reduction_factor"></span><code class="descname">proxy.config.quic.congestion_control.loss_reduction_factor</code><a class="headerlink" href="#proxy-config-quic-congestion-control-loss-reduction-factor" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">FLOAT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0.5</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-quic-congestion-control-persistent-congestion-threshold">
<span id="proxy.config.quic.congestion_control.persistent_congestion_threshold"></span><code class="descname">proxy.config.quic.congestion_control.persistent_congestion_threshold</code><a class="headerlink" href="#proxy-config-quic-congestion-control-persistent-congestion-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This is just for debugging. Do not change it from the default value unless
you really understand what this is.</p>
</div>
</div>
<div class="section" id="plug-in-configuration">
<h2>Plug-in Configuration<a class="headerlink" href="#plug-in-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-plugin-plugin-dir">
<span id="proxy.config.plugin.plugin_dir"></span><code class="descname">proxy.config.plugin.plugin_dir</code><a class="headerlink" href="#proxy-config-plugin-plugin-dir" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">config/plugins</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the location of Traffic Server plugins.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-plugin-dynamic-reload-mode">
<span id="proxy.config.plugin.dynamic_reload_mode"></span><code class="descname">proxy.config.plugin.dynamic_reload_mode</code><a class="headerlink" href="#proxy-config-plugin-dynamic-reload-mode" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) the dynamic reload feature for remap
plugins (<cite>remap.config</cite>). Global plugins (<cite>plugin.config</cite>) do not have dynamic reload feature yet.</p>
</div>
</div>
<div class="section" id="socks-processor">
<h2>SOCKS Processor<a class="headerlink" href="#socks-processor" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-socks-needed">
<span id="proxy.config.socks.socks_needed"></span><code class="descname">proxy.config.socks.socks_needed</code><a class="headerlink" href="#proxy-config-socks-socks-needed" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">0</span></code>) the SOCKS processor</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-socks-version">
<span id="proxy.config.socks.socks_version"></span><code class="descname">proxy.config.socks.socks_version</code><a class="headerlink" href="#proxy-config-socks-socks-version" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the SOCKS version (<code class="docutils literal notranslate"><span class="pre">4</span></code>) or (<code class="docutils literal notranslate"><span class="pre">5</span></code>)</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-socks-config-file">
<span id="proxy.config.socks.socks_config_file"></span><code class="descname">proxy.config.socks.socks_config_file</code><a class="headerlink" href="#proxy-config-socks-socks-config-file" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">socks.config</td>
</tr>
<tr class="field-even field"><th class="field-name">Deprecated:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The socks.config file allows you to specify ranges of IP addresses
that will not be relayed to the SOCKS server. It can also be used
to configure AUTH information for SOCKSv5 servers.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-socks-timeout">
<span id="proxy.config.socks.socks_timeout"></span><code class="descname">proxy.config.socks.socks_timeout</code><a class="headerlink" href="#proxy-config-socks-socks-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The activity timeout value (in seconds) for SOCKS server connections.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-server-connect-timeout">
<span id="proxy.config.socks.server_connect_timeout"></span><code class="descname">proxy.config.socks.server_connect_timeout</code><a class="headerlink" href="#proxy-config-socks-server-connect-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The timeout value (in seconds) for SOCKS server connection attempts.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-per-server-connection-attempts">
<span id="proxy.config.socks.per_server_connection_attempts"></span><code class="descname">proxy.config.socks.per_server_connection_attempts</code><a class="headerlink" href="#proxy-config-socks-per-server-connection-attempts" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The total number of connection attempts allowed per SOCKS server,
if multiple servers are used.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-connection-attempts">
<span id="proxy.config.socks.connection_attempts"></span><code class="descname">proxy.config.socks.connection_attempts</code><a class="headerlink" href="#proxy-config-socks-connection-attempts" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">4</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The total number of connection attempts allowed to a SOCKS server
Traffic Server bypasses the server or fails the request</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-server-retry-timeout">
<span id="proxy.config.socks.server_retry_timeout"></span><code class="descname">proxy.config.socks.server_retry_timeout</code><a class="headerlink" href="#proxy-config-socks-server-retry-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">300</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">The timeout value (in seconds) for SOCKS server connection retry attempts.</p>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-default-servers">
<span id="proxy.config.socks.default_servers"></span><code class="descname">proxy.config.socks.default_servers</code><a class="headerlink" href="#proxy-config-socks-default-servers" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><em class="first last">*NONE*</em></td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Default list of SOCKS servers and their ports.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-server-retry-time">
<span id="proxy.config.socks.server_retry_time"></span><code class="descname">proxy.config.socks.server_retry_time</code><a class="headerlink" href="#proxy-config-socks-server-retry-time" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">300</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The amount of time allowed between connection retries to a SOCKS
server that is unavailable.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-server-fail-threshold">
<span id="proxy.config.socks.server_fail_threshold"></span><code class="descname">proxy.config.socks.server_fail_threshold</code><a class="headerlink" href="#proxy-config-socks-server-fail-threshold" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>The number of times the connection to the SOCKS server can fail
before Traffic Server considers the server unavailable.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-accept-enabled">
<span id="proxy.config.socks.accept_enabled"></span><code class="descname">proxy.config.socks.accept_enabled</code><a class="headerlink" href="#proxy-config-socks-accept-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enables (1) or disables (0) the SOCKS proxy option. As a SOCKS
proxy, Traffic Server receives SOCKS traffic (usually on port
1080) and forwards all requests directly to the SOCKS server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-accept-port">
<span id="proxy.config.socks.accept_port"></span><code class="descname">proxy.config.socks.accept_port</code><a class="headerlink" href="#proxy-config-socks-accept-port" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1080</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the port on which Traffic Server accepts SOCKS traffic.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-socks-http-port">
<span id="proxy.config.socks.http_port"></span><code class="descname">proxy.config.socks.http_port</code><a class="headerlink" href="#proxy-config-socks-http-port" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">80</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the port on which Traffic Server accepts HTTP proxy requests
over SOCKS connections..</p>
</div>
</div>
<div class="section" id="sockets">
<h2>Sockets<a class="headerlink" href="#sockets" title="Permalink to this headline">¶</a></h2>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-defer-accept">
<span id="proxy.config.net.defer_accept"></span><code class="descname">proxy.config.net.defer_accept</code><a class="headerlink" href="#proxy-config-net-defer-accept" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">default: <code class="docutils literal notranslate"><span class="pre">1</span></code> meaning <code class="docutils literal notranslate"><span class="pre">on</span></code> all Platforms except Linux: <code class="docutils literal notranslate"><span class="pre">45</span></code> seconds</p>
<p class="compound-last">This directive enables operating system specific optimizations for a listening socket. <code class="docutils literal notranslate"><span class="pre">defer_accept</span></code> holds a call to <code class="docutils literal notranslate"><span class="pre">accept(2)</span></code>
back until data has arrived. In Linux’ special case this is up to a maximum of 45 seconds.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-listen-backlog">
<span id="proxy.config.net.listen_backlog"></span><code class="descname">proxy.config.net.listen_backlog</code><a class="headerlink" href="#proxy-config-net-listen-backlog" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">-1
 :reloadable:</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This directive sets the maximum number of pending connections.
If it is set to -1, Traffic Server will automatically set this
to a platform-specific maximum.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-tcp-congestion-control-in">
<span id="proxy.config.net.tcp_congestion_control_in"></span><code class="descname">proxy.config.net.tcp_congestion_control_in</code><a class="headerlink" href="#proxy-config-net-tcp-congestion-control-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“”</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This directive will override the congestion control algorithm for incoming
connections (accept sockets). On linux the allowed values are typically
specified in a space separated list in /proc/sys/net/ipv4/tcp_allowed_congestion_control</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-tcp-congestion-control-out">
<span id="proxy.config.net.tcp_congestion_control_out"></span><code class="descname">proxy.config.net.tcp_congestion_control_out</code><a class="headerlink" href="#proxy-config-net-tcp-congestion-control-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">STRING</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">“”</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>This directive will override the congestion control algorithm for outgoing
connections (connect sockets). On linux the allowed values are typically
specified in a space separated list in /proc/sys/net/ipv4/tcp_allowed_congestion_control</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-send-buffer-size-in">
<span id="proxy.config.net.sock_send_buffer_size_in"></span><code class="descname">proxy.config.net.sock_send_buffer_size_in</code><a class="headerlink" href="#proxy-config-net-sock-send-buffer-size-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the send buffer size for connections from the client to Traffic Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-recv-buffer-size-in">
<span id="proxy.config.net.sock_recv_buffer_size_in"></span><code class="descname">proxy.config.net.sock_recv_buffer_size_in</code><a class="headerlink" href="#proxy-config-net-sock-recv-buffer-size-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the receive buffer size for connections from the client to Traffic Server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-option-flag-in">
<span id="proxy.config.net.sock_option_flag_in"></span><code class="descname">proxy.config.net.sock_option_flag_in</code><a class="headerlink" href="#proxy-config-net-sock-option-flag-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0x5</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Turns different options “on” for the socket handling client connections::</p>
<div class="compound-last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TCP_NODELAY</span>  <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">SO_KEEPALIVE</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">SO_LINGER</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="k">with</span> <span class="n">a</span> <span class="n">timeout</span> <span class="n">of</span> <span class="mi">0</span> <span class="n">seconds</span>
<span class="n">TCP_FASTOPEN</span> <span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">PACKET_MARK</span> <span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">PACKET_TOS</span> <span class="p">(</span><span class="mi">32</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a bitmask and you need to decide what bits to set.  Therefore,
you must set the value to <code class="docutils literal notranslate"><span class="pre">3</span></code> if you want to enable nodelay and
keepalive options above.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To allow TCP Fast Open for client sockets on Linux, bit 2 of
the <code class="docutils literal notranslate"><span class="pre">net.ipv4.tcp_fastopen</span></code> sysctl must be set.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-send-buffer-size-out">
<span id="proxy.config.net.sock_send_buffer_size_out"></span><code class="descname">proxy.config.net.sock_send_buffer_size_out</code><a class="headerlink" href="#proxy-config-net-sock-send-buffer-size-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the send buffer size for connections from Traffic Server to the origin server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-recv-buffer-size-out">
<span id="proxy.config.net.sock_recv_buffer_size_out"></span><code class="descname">proxy.config.net.sock_recv_buffer_size_out</code><a class="headerlink" href="#proxy-config-net-sock-recv-buffer-size-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the receive buffer size for connections from Traffic Server to
the origin server.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-option-flag-out">
<span id="proxy.config.net.sock_option_flag_out"></span><code class="descname">proxy.config.net.sock_option_flag_out</code><a class="headerlink" href="#proxy-config-net-sock-option-flag-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0x1</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Turns different options “on” for the origin server socket::</p>
<div class="compound-last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TCP_NODELAY</span>  <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">SO_KEEPALIVE</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">SO_LINGER</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="k">with</span> <span class="n">a</span> <span class="n">timeout</span> <span class="n">of</span> <span class="mi">0</span> <span class="n">seconds</span>
<span class="n">TCP_FASTOPEN</span> <span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">PACKET_MARK</span> <span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">PACKET_TOS</span> <span class="p">(</span><span class="mi">32</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This is a bitmask and you need to decide what bits to set.  Therefore,
you must set the value to <code class="docutils literal notranslate"><span class="pre">3</span></code> if you want to enable nodelay and
keepalive options above.</p>
<p class="last">When SO_LINGER is enabled, the linger timeout time is set
to 0. This is useful when Traffic Server and the origin server
are co-located and large numbers of sockets are retained
in the TIME_WAIT state.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To allow TCP Fast Open for server sockets on Linux, bit 1 of
the <code class="docutils literal notranslate"><span class="pre">net.ipv4.tcp_fastopen</span></code> sysctl must be set.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-mss-in">
<span id="proxy.config.net.sock_mss_in"></span><code class="descname">proxy.config.net.sock_mss_in</code><a class="headerlink" href="#proxy-config-net-sock-mss-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Same as the command line option <code class="docutils literal notranslate"><span class="pre">--accept_mss</span></code> that sets the MSS for all incoming requests.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-packet-mark-in">
<span id="proxy.config.net.sock_packet_mark_in"></span><code class="descname">proxy.config.net.sock_packet_mark_in</code><a class="headerlink" href="#proxy-config-net-sock-packet-mark-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0x0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the packet mark on traffic destined for the client
(the packets that make up a client response).</p>
<div class="compound-last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://cwiki.apache.org/confluence/display/TS/Traffic+Shaping">Traffic Shaping</a></p>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-packet-mark-out">
<span id="proxy.config.net.sock_packet_mark_out"></span><code class="descname">proxy.config.net.sock_packet_mark_out</code><a class="headerlink" href="#proxy-config-net-sock-packet-mark-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0x0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the packet mark on traffic destined for the origin
(the packets that make up an origin request).</p>
<div class="compound-last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://cwiki.apache.org/confluence/display/TS/Traffic+Shaping">Traffic Shaping</a></p>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-packet-tos-in">
<span id="proxy.config.net.sock_packet_tos_in"></span><code class="descname">proxy.config.net.sock_packet_tos_in</code><a class="headerlink" href="#proxy-config-net-sock-packet-tos-in" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0x0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the ToS/DiffServ Field on packets sent to the client
(the packets that make up a client response).</p>
<div class="compound-last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://cwiki.apache.org/confluence/display/TS/Traffic+Shaping">Traffic Shaping</a></p>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-sock-packet-tos-out">
<span id="proxy.config.net.sock_packet_tos_out"></span><code class="descname">proxy.config.net.sock_packet_tos_out</code><a class="headerlink" href="#proxy-config-net-sock-packet-tos-out" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0x0</td>
</tr>
<tr class="field-even field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Set the ToS/DiffServ Field on packets sent to the origin
(the packets that make up an origin request).</p>
<div class="compound-last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://cwiki.apache.org/confluence/display/TS/Traffic+Shaping">Traffic Shaping</a></p>
</div>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-net-poll-timeout">
<span id="proxy.config.net.poll_timeout"></span><code class="descname">proxy.config.net.poll_timeout</code><a class="headerlink" href="#proxy-config-net-poll-timeout" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">10 (or 30 on Solaris)</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Same as the command line option <code class="docutils literal notranslate"><span class="pre">--poll_timeout</span></code>, or <code class="docutils literal notranslate"><span class="pre">-t</span></code>, which
specifies the timeout used for the polling mechanism used. This timeout is
always in milliseconds (ms). This is the timeout to <code class="docutils literal notranslate"><span class="pre">epoll_wait()</span></code> on
Linux platforms, and to <code class="docutils literal notranslate"><span class="pre">kevent()</span></code> on BSD type OSs. The default value is
<code class="docutils literal notranslate"><span class="pre">10</span></code> on all platforms.</p>
<p class="compound-middle">Changing this configuration can reduce CPU usage on an idle system, since
periodic tasks gets processed at these intervals. On busy servers, this
overhead is diminished, since polled events triggers more frequently.
However, increasing the setting can also introduce additional latency for
certain operations, and timed events. It’s recommended not to touch this
setting unless your CPU usage is unacceptable at idle workload. Some
alternatives to this could be:</p>
<div class="compound-middle highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Reduce</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">worker</span> <span class="n">threads</span> <span class="p">(</span><span class="n">net</span><span class="o">-</span><span class="n">threads</span><span class="p">)</span>
<span class="n">Reduce</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">disk</span> <span class="p">(</span><span class="n">AIO</span><span class="p">)</span> <span class="n">threads</span>
</pre></div>
</div>
<p class="compound-middle">Make sure accept threads are enabled</p>
<p class="compound-middle">The relevant configurations for this are:</p>
<div class="compound-middle highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">exec_thread</span><span class="o">.</span><span class="n">autoconfig</span> <span class="n">INT</span> <span class="mi">0</span>
<span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">exec_thread</span><span class="o">.</span><span class="n">limit</span> <span class="n">INT</span> <span class="mi">2</span>
<span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">accept_threads</span> <span class="n">INT</span> <span class="mi">1</span>
<span class="n">CONFIG</span> <span class="n">proxy</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">threads_per_disk</span> <span class="n">INT</span> <span class="mi">8</span>
</pre></div>
</div>
<p class="compound-last">See <a class="reference internal" href="../performance/index.en.html#admin-performance-timeouts"><span class="std std-ref">Timeout Settings</span></a> for more discussion on Traffic Server timeouts.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-task-threads">
<span id="proxy.config.task_threads"></span><code class="descname">proxy.config.task_threads</code><a class="headerlink" href="#proxy-config-task-threads" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Specifies the number of task threads to run. These threads are used for
various tasks that should be off-loaded from the normal network
threads. You must have at least one task thread available.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-allocator-thread-freelist-size">
<span id="proxy.config.allocator.thread_freelist_size"></span><code class="descname">proxy.config.allocator.thread_freelist_size</code><a class="headerlink" href="#proxy-config-allocator-thread-freelist-size" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">512</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the maximum number of elements that can be contained in a ProxyAllocator (per-thread)
before returning the objects to the global pool</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-allocator-thread-freelist-low-watermark">
<span id="proxy.config.allocator.thread_freelist_low_watermark"></span><code class="descname">proxy.config.allocator.thread_freelist_low_watermark</code><a class="headerlink" href="#proxy-config-allocator-thread-freelist-low-watermark" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">32</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Sets the minimum number of items a ProxyAllocator (per-thread) will guarantee to be
holding at any one time.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-allocator-hugepages">
<span id="proxy.config.allocator.hugepages"></span><code class="descname">proxy.config.allocator.hugepages</code><a class="headerlink" href="#proxy-config-allocator-hugepages" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Enable (1) the use of huge pages on supported platforms. (Currently only Linux)</p>
<p class="compound-middle">You must also enable hugepages at the OS level. In a modern linux Kernel
this can be done by setting <code class="docutils literal notranslate"><span class="pre">/proc/sys/vm/nr_overcommit_hugepages</span></code> to a
sufficiently large value. It is reasonable to use (system
memory/hugepage size) because these pages are only created on demand.</p>
<p class="compound-last">For more information on the implications of enabling huge pages, see
<cite>Wikipedia &lt;http://en.wikipedia.org/wiki/Page_%28computer_memory%29#Page_size_trade-off&gt;_</cite>.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-dump-mem-info-frequency">
<span id="proxy.config.dump_mem_info_frequency"></span><code class="descname">proxy.config.dump_mem_info_frequency</code><a class="headerlink" href="#proxy-config-dump-mem-info-frequency" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enable &lt;value&gt;. When enabled makes Traffic Server dump IO Buffer memory information
to <code class="docutils literal notranslate"><span class="pre">traffic.out</span></code> at <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> (intervals are in seconds). A zero value implies it is
disabled</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-res-track-memory">
<span id="proxy.config.res_track_memory"></span><code class="descname">proxy.config.res_track_memory</code><a class="headerlink" href="#proxy-config-res-track-memory" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">When enabled makes Traffic Server track memory usage (allocations and releases). This
information is dumped  to <code class="docutils literal notranslate"><span class="pre">traffic.out</span></code> when the user sends a SIGUSR1 signal or
periodically when <a class="reference internal" href="#proxy-config-dump-mem-info-frequency" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.dump_mem_info_frequency</span></code></a> is enabled.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Memory tracking Disabled</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Tracks IO Buffer Memory allocations and releases</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Tracks IO Buffer Memory and OpenSSL Memory allocations and releases</td>
</tr>
</tbody>
</table>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-allocator-dontdump-iobuffers">
<span id="proxy.config.allocator.dontdump_iobuffers"></span><code class="descname">proxy.config.allocator.dontdump_iobuffers</code><a class="headerlink" href="#proxy-config-allocator-dontdump-iobuffers" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Enable (1) the exclusion of IO buffers from core files when ATS crashes on supported
platforms.  (Currently only linux).  IO buffers are allocated with the MADV_DONTDUMP
with madvise() on linux platforms that support MADV_DONTDUMP.  Enabled by default.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-ssl-misc-io-max-buffer-index">
<span id="proxy.config.ssl.misc.io.max_buffer_index"></span><code class="descname">proxy.config.ssl.misc.io.max_buffer_index</code><a class="headerlink" href="#proxy-config-ssl-misc-io-max-buffer-index" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the max IOBuffer Block index used for various SSL Operations
such as Handshake or Protocol Probe. Default value is 8 which maps to a 32K buffer</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-hostdb-io-max-buffer-index">
<span id="proxy.config.hostdb.io.max_buffer_index"></span><code class="descname">proxy.config.hostdb.io.max_buffer_index</code><a class="headerlink" href="#proxy-config-hostdb-io-max-buffer-index" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the max IOBuffer Block index used for storing HostDB records.
Default value is 8 which maps to a 32K buffer</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-payload-io-max-buffer-index">
<span id="proxy.config.payload.io.max_buffer_index"></span><code class="descname">proxy.config.payload.io.max_buffer_index</code><a class="headerlink" href="#proxy-config-payload-io-max-buffer-index" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the max IOBuffer Block index used for storing request payload buffer
for a POST request. Default value is 8 which maps to a 32K buffer</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-msg-io-max-buffer-index">
<span id="proxy.config.msg.io.max_buffer_index"></span><code class="descname">proxy.config.msg.io.max_buffer_index</code><a class="headerlink" href="#proxy-config-msg-io-max-buffer-index" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the max IOBuffer Block index used for storing miscellaneous transactional
buffers such as error response body. Default value is 8 which maps to a 32K buffer</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-log-io-max-buffer-index">
<span id="proxy.config.log.io.max_buffer_index"></span><code class="descname">proxy.config.log.io.max_buffer_index</code><a class="headerlink" href="#proxy-config-log-io-max-buffer-index" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Configures the max IOBuffer Block index used for storing an access log entry.
Default value is 8 which maps to a 32K buffer</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-enabled">
<span id="proxy.config.http.enabled"></span><code class="descname">proxy.config.http.enabled</code><a class="headerlink" href="#proxy-config-http-enabled" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Turn on or off support for HTTP proxying. This is rarely used, the one
exception being if you run Traffic Server with a protocol plugin, and would
like for it to not support HTTP requests at all.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-allow-half-open">
<span id="proxy.config.http.allow_half_open"></span><code class="descname">proxy.config.http.allow_half_open</code><a class="headerlink" href="#proxy-config-http-allow-half-open" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
<tr class="field-even field"><th class="field-name">Reloadable:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Overridable:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<div class="compound">
<p>Turn on or off support for connection half open for client side. Default is on, so
after client sends FIN, the connection is still there.</p>
</div>
<dl class="cv">
<dt class="ts-cv-title" id="proxy-config-http-wait-for-cache">
<span id="proxy.config.http.wait_for_cache"></span><code class="descname">proxy.config.http.wait_for_cache</code><a class="headerlink" href="#proxy-config-http-wait-for-cache" title="Permalink to this definition">¶</a></dt>
</dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Scope:</th><td class="field-body">CONFIG</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">INT</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first">Accepting inbound connections and starting the cache are independent
operations in Traffic Server. This variable controls the relative timing of these
operations and Traffic Server dependency on cache because if cache is required then
inbound connection accepts should be deferred until the validity of the
cache requirement is determined. Cache initialization failure will be logged
in <a class="reference internal" href="../monitoring/diagnostic-files.en.html#std:logfile-diags.log"><code class="xref std std-file docutils literal notranslate"><span class="pre">diags.log</span></code></a>.</p>
<table border="1" class="compound-last docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>Decouple inbound connections and cache initialization. Connections
will be accepted as soon as possible and Traffic Server will run regardless of
the results of cache initialization.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td>Do not accept inbound connections until cache initialization has
finished. Traffic Server will run regardless of the results of cache
initialization.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Do not accept inbound connections until cache initialization has
finished and been sufficiently successful that cache is enabled. This
means at least one cache span is usable. If there are no spans in
<a class="reference internal" href="storage.config.en.html#std:configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a> or none of the spans can be successfully parsed
and initialized then Traffic Server will shut down.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td>Do not accept inbound connections until cache initialization has
finished and been completely successful. This requires at least one
cache span in <a class="reference internal" href="storage.config.en.html#std:configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a> and that every span specified is
valid and successfully initialized. Any error will cause Traffic Server to shut
down.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="remap.config.en.html" class="btn btn-neutral float-right" title="remap.config" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="plugin.config.en.html" class="btn btn-neutral float-left" title="plugin.config" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, dev@trafficserver.apache.org

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>
 


</body>
</html>