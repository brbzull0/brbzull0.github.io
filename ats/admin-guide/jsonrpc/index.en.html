


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>JSONRPC API &mdash; Apache Traffic Server 10.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/override.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Developer’s Guide" href="../../developer-guide/index.en.html" />
    <link rel="prev" title="volume.config" href="../files/volume.config.en.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Apache Traffic Server
          

          
            
            <img src="../../_static/trans_logo_tm_380x69.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.en.html">Administrator’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.en.html">Installing Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.en.html">Proxy Cache Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interaction/index.en.html">Interacting with Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/index.en.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.en.html">Cache Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.en.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.en.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.en.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuring-traffic-server.en.html">Configuring Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layer-4-routing.en.html">Layer 4 Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance/index.en.html">Performance Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../files/index.en.html">Configuration Files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">JSONRPC API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#administrative-api">Administrative API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#records">Records</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-list">API list</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.en.html#audience">Audience</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer-guide/index.en.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/index.en.html">Appendices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Apache Traffic Server</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.en.html">Administrator’s Guide</a> &raquo;</li>
        
      <li>JSONRPC API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/admin-guide/jsonrpc/index.en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="jsonrpc-api">
<span id="admin-jsonrpc"></span><h1>JSONRPC API<a class="headerlink" href="#jsonrpc-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<span id="admin-jsonrpc-description"></span><h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Traffic Server Implements and exposes management calls using a JSONRPC API.  This API is base on the following two things:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.json.org/json-en.html">JSON</a>  format. Lightweight data-interchange format. It is easy for humans to read and write.
It is easy for machines to parse and generate. It’s basically a  collection of name/value pairs.</li>
<li><a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC 2.0</a> protocol. Stateless, light-weight remote procedure call (RPC) protocol.
Primarily this specification defines several data structures and the rules around their processing.</li>
</ul>
<p>In order for programs to communicate with Traffic Server, the server exposes a <code class="docutils literal notranslate"><span class="pre">JSONRRPC</span> <span class="pre">2.0</span></code> API where programs can communicate with it.</p>
</div>
<div class="section" id="configuration">
<span id="admnin-jsonrpc-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">JSONRPC</span> <span class="pre">2.0</span></code> server can be configured using the following configuration file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Traffic Server will start the <code class="docutils literal notranslate"><span class="pre">JSONRPC</span> <span class="pre">2.0</span></code> server without any need for configuration.</p>
</div>
<p>In case a special configuration is needed, the following describes the structure.</p>
<p>File <cite>jsonrpc.yaml</cite> is a YAML format. The default configuration is:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#YAML</span>
<span class="nl">comm_type</span><span class="p">:</span> <span class="mi">1</span>
<span class="nl">comm_config</span><span class="p">:</span>
   <span class="nl">backlog</span><span class="p">:</span> <span class="mi">5</span>
   <span class="nl">lock_path_name</span><span class="p">:</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">conf_jsonrpc</span><span class="p">.</span><span class="n">lock</span>
   <span class="nl">max_retry_on_transient_errors</span><span class="p">:</span> <span class="mi">64</span>
   <span class="nl">sock_path_name</span><span class="p">:</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">conf_jsonrpc</span><span class="p">.</span><span class="n">sock</span>
<span class="nl">rpc_enabled</span><span class="p">:</span> <span class="nb">true</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">comm_type</span></code></td>
<td><p class="first">Defined communication implementation type that should be selected by the rpc server.</p>
<dl class="last class">
<dt id="_CPPv48CommType">
<span id="_CPPv38CommType"></span><span id="_CPPv28CommType"></span><span id="CommType"></span><em class="property">class </em><code class="descname">CommType</code><a class="headerlink" href="#_CPPv48CommType" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Defines which socket implementation should be created by the server.</p>
<dl class="enumerator">
<dt id="_CPPv4N8CommType10IPC_SOCKETE">
<span id="_CPPv3N8CommType10IPC_SOCKETE"></span><span id="_CPPv2N8CommType10IPC_SOCKETE"></span><em class="property">enumerator </em><code class="descname">IPC_SOCKET</code> = 1<a class="headerlink" href="#_CPPv4N8CommType10IPC_SOCKETE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Unix Domain Socket implementation</p>
</dd></dl>

</dd></dl>

</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">rpc_enabled</span></code></td>
<td>Enable/disable toggle for the whole implementation, server will not start if this is false/no</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">comm_config</span></code></td>
<td>Specific definitions as per transport.</td>
</tr>
</tbody>
</table>
<p>IPC Socket (comm_config):</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">lock_path_name</span></code></td>
<td>Lock path, including the file name.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">sock_path_name</span></code></td>
<td>Sock path, including the file name. This will be used as <code class="docutils literal notranslate"><span class="pre">sockaddr_un.sun_path</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">backlog</span></code></td>
<td>Check <a class="reference external" href="https://man7.org/linux/man-pages/man2/listen.2.html">https://man7.org/linux/man-pages/man2/listen.2.html</a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">max_retry_on_transient_errors</span></code></td>
<td>Number of times the implementation is allowed to retry when a transient error is encountered.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As today, there is only 1 communication mechanism supported. IPC Sockets.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Traffic Control does support this RPC mechanism for comunication with Traffic Server . Please check <strong class="program">traffic_ctl</strong> documentation for
more details.</p>
</div>
</div>
<div class="section" id="api">
<span id="admin-jsonrpc-api"></span><h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="administrative-api">
<span id="admin-jsonrpc-api-management"></span><h3>Administrative API<a class="headerlink" href="#administrative-api" title="Permalink to this headline">¶</a></h3>
<p>This section describe how to interact with the administrative RPC API to interact with Traffic Server</p>
</div>
<div class="section" id="records">
<span id="id2"></span><h3>Records<a class="headerlink" href="#records" title="Permalink to this headline">¶</a></h3>
<p>When interacting with the admin api, there are a few structures that need to be understood, this section will describe each of them.</p>
<div class="section" id="rpc-record-request">
<span id="recordrequest"></span><h4>RPC Record Request<a class="headerlink" href="#rpc-record-request" title="Permalink to this headline">¶</a></h4>
<p>To obtain information regarding a particular record(s) from Traffic Server, we should use the following fields in an <em>unnamed</em> json structure.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="7%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">record_name</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>The name we want to query from Traffic Server. This is <code class="docutils literal notranslate"><span class="pre">optional</span></code> if <code class="docutils literal notranslate"><span class="pre">record_name_regex</span></code> is used.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">record_name_regex</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>The regular expression we want to query from Traffic Server. This is <code class="docutils literal notranslate"><span class="pre">optional</span></code> if <code class="docutils literal notranslate"><span class="pre">record_name</span></code> is used.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">rec_types</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">array[number]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">optional</span></code> A list of types that should be used to match against the found record. These types refer to <code class="docutils literal notranslate"><span class="pre">RecT</span></code>.
Other values (in decimal) than the ones defined by the <code class="docutils literal notranslate"><span class="pre">RecT</span></code> <code class="docutils literal notranslate"><span class="pre">enum</span></code> will be ignored. If no type is
specified, the server will not match the type against the found record.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If <code class="docutils literal notranslate"><span class="pre">record_name</span></code> and <code class="docutils literal notranslate"><span class="pre">record_name_regex</span></code> are both provided, the server will not use any of them. Only one should be provided.</p>
</div>
<p>Example:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Single record:</li>
</ol>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
<span class="hll">   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
</span><span class="hll">      <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span>
</span><span class="hll">      <span class="s2">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span>   <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>Multiple records:</li>
</ol>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
<span class="hll">   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
</span><span class="hll">         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span>
</span><span class="hll">      <span class="p">},</span>
</span><span class="hll">      <span class="p">{</span>
</span><span class="hll">         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
</span><span class="hll">         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span class="hll">      <span class="p">}</span>
</span><span class="hll">   <span class="p">]</span>
</span><span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>Batch Request</li>
</ol>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
      <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
      <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="p">}]</span>
   <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;dam7018e-0720-11eb-abe2-001fc69dd123&quot;</span><span class="p">,</span>
      <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
      <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="p">}]</span>
   <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="rpc-record-response">
<span id="recordresponse"></span><h4>RPC Record Response<a class="headerlink" href="#rpc-record-response" title="Permalink to this headline">¶</a></h4>
<p>When querying for a record(s), in the majority of the cases the record api will respond with the following json structure.</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="18%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">record_list</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">array[record]</span></code></td>
<td>A list of record <em>object</em>. See <a class="reference internal" href="#recordrequestobject">RecordRequestObject</a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">error_list</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">array[errors]</span></code></td>
<td>A list of error <em>object</em> . See <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rpc-record-error-object">
<span id="recorderrorobject"></span><h4>RPC Record Error Object<a class="headerlink" href="#rpc-record-error-object" title="Permalink to this headline">¶</a></h4>
<p>All errors that are found during a record query, will be returned back to the caller in the <code class="docutils literal notranslate"><span class="pre">error_list</span></code> field as part of the <a class="reference internal" href="#recordresponse">RecordResponse</a> object.
The record errors have the following fields.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">code</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">optional</span></code> An error code that should be used to get a description of the error.(Add error codes)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">record_name</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">optional</span></code> The associated record name, this may be omitted sometimes.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">message</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">optional</span></code> A descriptive message, this may be omitted sometimes.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2007&quot;</span><span class="p">,</span>
   <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Examples:</p>
<ol class="arabic">
<li><p class="first">Request a non existing record and an invalid type match for a record:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
<span class="hll">            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;non.existing.record&quot;</span>
</span>      <span class="p">},</span>
      <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span><span class="p">,</span>
<span class="hll">            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span>      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Line <code class="docutils literal notranslate"><span class="pre">7</span></code> requests a non existing record and in line <code class="docutils literal notranslate"><span class="pre">11</span></code> we request a type that does not match the record’s type.</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
<span class="hll">               <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
</span>               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;non.existing.record&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
<span class="hll">               <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2007&quot;</span><span class="p">,</span>
</span>               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span>
            <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>In this case we get the response indicating that the requested fields couldn’t be retrieved. See <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> for more details.</p>
</li>
</ol>
</div>
<div class="section" id="rpc-record-object">
<span id="recordrequestobject"></span><h4>RPC Record Object<a class="headerlink" href="#rpc-record-object" title="Permalink to this headline">¶</a></h4>
<p>This is mapped from a <code class="docutils literal notranslate"><span class="pre">RecRecord</span></code>, when requesting for a record the following information will be populated into a json <em>object</em>.
The <code class="docutils literal notranslate"><span class="pre">record</span></code> structure has the following members.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="9%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Record Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">current_value</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Current value that is held by the record.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">default_value</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Record’s default value.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">name</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Record’s name</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">order</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Record’s order</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">overridable</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Records’s overridable configuration.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">raw_stat_block</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Raw Stat Block Id.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">record_class</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Record type. Mapped from <code class="docutils literal notranslate"><span class="pre">RecT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">record_type</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Record’s data type. Mapped from RecDataT</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">version</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Record’s version.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">stats_meta</span></code></td>
<td><em>object</em></td>
<td>Stats metadata <a class="reference internal" href="#stats-meta">stats_meta</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">config_meta</span></code></td>
<td><em>object</em></td>
<td>Config metadata <a class="reference internal" href="#config-meta">config_meta</a></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>it will be either <code class="docutils literal notranslate"><span class="pre">config_meta</span></code> or <code class="docutils literal notranslate"><span class="pre">stats_meta</span></code> object, but never both*</li>
</ul>
</div></blockquote>
<p id="config-meta">Config Metadata</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="9%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Record Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><cite>access_type</cite></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Access type. This is mapped from <code class="docutils literal notranslate"><span class="pre">TSRecordAccessType</span></code>.</td>
</tr>
<tr class="row-odd"><td><cite>check_expr</cite></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Syntax checks regular expressions.</td>
</tr>
<tr class="row-even"><td><cite>checktype</cite></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Check type, This is mapped from <code class="docutils literal notranslate"><span class="pre">RecCheckT</span></code>.</td>
</tr>
<tr class="row-odd"><td><cite>source</cite></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Source of the configuration value. Mapped from RecSourceT</td>
</tr>
<tr class="row-even"><td><cite>update_status</cite></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Update status flag.</td>
</tr>
<tr class="row-odd"><td><cite>update_type</cite></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>How the records get updated. Mapped from RecUpdateT</td>
</tr>
</tbody>
</table>
<p id="stats-meta">Stats Metadata (TBC)</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="9%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Record Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><cite>persist_type</cite></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Persistent type. This is mapped from <code class="docutils literal notranslate"><span class="pre">RecPersistT</span></code></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Example with config meta:</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;config_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;access_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span> <span class="s2">&quot;null&quot;</span><span class="p">,</span>
         <span class="nt">&quot;checktype&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
         <span class="nt">&quot;update_status&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
         <span class="nt">&quot;update_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.79999995&quot;</span><span class="p">,</span>
      <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;FLOAT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;355&quot;</span><span class="p">,</span>
      <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
      <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
      <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Example with stats meta:</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span>   <span class="p">{</span>
      <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;COUNTER&quot;</span><span class="p">,</span>
         <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span>
         <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
         <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv6&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
         <span class="nt">&quot;stat_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
         <span class="p">},</span>
         <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
      <span class="p">}</span>
   <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
</div>
<div class="section" id="api-list">
<span id="jsonrpc-admin-api"></span><h3>API list<a class="headerlink" href="#api-list" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#admin-lookup-records">admin_lookup_records</a></li>
<li><a class="reference internal" href="#admin-clear-all-metrics-records">admin_clear_all_metrics_records</a></li>
<li><a class="reference internal" href="#admin-config-set-records">admin_config_set_records</a></li>
<li><a class="reference internal" href="#admin-config-reload">admin_config_reload</a></li>
<li><a class="reference internal" href="#admin-clear-metrics-records">admin_clear_metrics_records</a></li>
<li><a class="reference internal" href="#admin-clear-all-metrics-records">admin_clear_all_metrics_records</a></li>
<li><a class="reference internal" href="#admin-host-set-status">admin_host_set_status</a></li>
<li><a class="reference internal" href="#admin-server-stop-drain">admin_server_stop_drain</a></li>
<li><a class="reference internal" href="#admin-server-start-drain">admin_server_start_drain</a></li>
<li><a class="reference internal" href="#admin-plugin-send-basic-msg">admin_plugin_send_basic_msg</a></li>
<li><a class="reference internal" href="#admin-storage-get-device-status">admin_storage_get_device_status</a></li>
<li><a class="reference internal" href="#admin-storage-set-device-offline">admin_storage_set_device_offline</a></li>
</ul>
<p>show_registered_handlers</p>
<div class="section" id="admin-jsonapi-management-records">
<span id="id3"></span><h4>Records<a class="headerlink" href="#admin-jsonapi-management-records" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="admin-lookup-records">
<span id="id4"></span><h4>admin_lookup_records<a class="headerlink" href="#admin-lookup-records" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id5">
<h4>Description<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Obtain  record(s) from TS.</p>
</div>
<div class="section" id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">params</span></code>: A list of <a class="reference internal" href="#recordrequest">RecordRequest</a> objects.</li>
</ul>
</div>
<div class="section" id="result">
<h4>Result<a class="headerlink" href="#result" title="Permalink to this headline">¶</a></h4>
<p>A list of <a class="reference internal" href="#recordresponse">RecordResponse</a> . In case of any error obtaining the requested record, the <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> <em>object</em> will be included.</p>
</div>
<div class="section" id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<p>Request a configuration record, no errors:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
      <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span>
   <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Response:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;410&quot;</span><span class="p">,</span>
            <span class="nt">&quot;config_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;access_type&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;update_status&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;update_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;checktype&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
               <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span> <span class="s2">&quot;^[0-9]+$&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;INT&quot;</span><span class="p">,</span>
            <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;86416&quot;</span><span class="p">,</span>
            <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;86400&quot;</span>
         <span class="p">}</span>
      <span class="p">}]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Request a configuration record, some errors coming back:</p>
<p>Request:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
<span class="hll">         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interv&quot;</span>
</span>      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Response:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="hll">      <span class="nt">&quot;errorList&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="hll">            <span class="p">{</span>
</span><span class="hll">               <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
</span><span class="hll">               <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interv&quot;</span>
</span><span class="hll">            <span class="p">}</span>
</span><span class="hll">      <span class="p">],</span>
</span>      <span class="nt">&quot;recordList&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;410&quot;</span><span class="p">,</span>
            <span class="nt">&quot;config_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;access_type&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;update_status&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;update_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;checktype&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
               <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span> <span class="s2">&quot;^[0-9]+$&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;INT&quot;</span><span class="p">,</span>
            <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;86416&quot;</span><span class="p">,</span>
            <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;86400&quot;</span>
         <span class="p">}</span>
      <span class="p">}]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Request using a <cite>regex</cite> instead of the full name.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">regex lookups use <code class="docutils literal notranslate"><span class="pre">record_name_regex`</span> <span class="pre">and</span> <span class="pre">not</span> <span class="pre">``record_name</span></code>. Check <a class="reference internal" href="#recordrequestobject">RecordRequestObject</a> .</p>
</div>
</div>
<div class="section" id="id6">
<h4>Examples<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Request a mix(config and stats) of records record using a regex, no errors:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="hll">            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.sca*&quot;</span>
</span>      <span class="p">},</span>
      <span class="p">{</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
<span class="hll">            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv&quot;</span>
</span>      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
               <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span>
               <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Invalid request data provided&quot;</span>
            <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
               <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;COUNTER&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;stat_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
                  <span class="p">},</span>
                  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
               <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
               <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;COUNTER&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;stat_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
                  <span class="p">},</span>
                  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
               <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
               <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;COUNTER&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv6&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;stat_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
                  <span class="p">},</span>
                  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
               <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
               <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;config_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;access_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span> <span class="s2">&quot;null&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;checktype&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;update_status&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;update_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span>
                  <span class="p">},</span>
                  <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.79999995&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;FLOAT&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;355&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
               <span class="p">}</span>
            <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Request a configuration record using a regex with some errors coming back:</p>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.sca*&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
<span class="hll">            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">987</span><span class="p">],</span>
</span>            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv&quot;</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Note the invalid <code class="docutils literal notranslate"><span class="pre">rec_type</span></code> at line <code class="docutils literal notranslate"><span class="pre">11</span></code></p>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
<span class="hll">               <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span>
</span><span class="hll">               <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Invalid request data provided&quot;</span>
</span>            <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
               <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;config_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;access_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span> <span class="s2">&quot;null&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;checktype&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;update_status&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;update_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span>
                  <span class="p">},</span>
                  <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.79999995&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;FLOAT&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;355&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
               <span class="p">}</span>
            <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We get a valid record that was  found base on the passed criteria, <code class="docutils literal notranslate"><span class="pre">proxy.config.exec_thread.autoconfig.sca*</span></code> and the <code class="docutils literal notranslate"><span class="pre">rec_type</span></code> <em>1</em>. Check lines</p>
</li>
<li><p class="first">Request all config records</p>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>

<span class="hll">      <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;.*&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
</span>
   <span class="p">}]</span>

<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p><em>Note the `.*` regex we use to match them all. `rec_types` refer to ``RecT` , which in this case we are interested in `CONFIG`
records and `LOCAL` records.</em></p>
<p>Response:</p>
<p>All the configuration records. See <a class="reference internal" href="#recordresponse">RecordResponse</a>.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It will retrieve <strong>ALL</strong> the configuration records, keep in mind that it might be a large response.</p>
</div>
</div>
<div class="section" id="admin-config-set-records">
<h4>admin_config_set_records<a class="headerlink" href="#admin-config-set-records" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id7">
<h4>Description<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>Set a value for a particular record.</p>
</div>
<div class="section" id="id8">
<h4>Parameters<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="9%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">record_name</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>The name of the record that wants to be updated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">new_value</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>The associated record value. Use always a <code class="docutils literal notranslate"><span class="pre">string</span></code> as the internal library will translate to the appropriate type.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
      <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
      <span class="nt">&quot;record_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.5&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id9">
<h4>Result<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>A list of <a class="reference internal" href="#recordresponse">RecordResponse</a> that were updated. In case of any error, the <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> <em>object</em> will be included.</p>
</div>
<div class="section" id="id10">
<h4>Examples<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;a32de1da-08be-11eb-9e1e-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
<span class="hll">   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_config_set_records&quot;</span><span class="p">,</span>
</span><span class="hll">   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="hll">      <span class="p">{</span>
</span><span class="hll">            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
</span><span class="hll">            <span class="nt">&quot;record_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.3&quot;</span>
</span><span class="hll">      <span class="p">}</span>
</span><span class="hll">   <span class="p">]</span>
</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</li>
<li><p class="first">Response.</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;cca82da4-08be-11eb-a1cc-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="hll">            <span class="nt">&quot;checktype&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
</span>            <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.29999995&quot;</span><span class="p">,</span>
            <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;FLOAT&quot;</span><span class="p">,</span>
            <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
            <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;355&quot;</span><span class="p">,</span>
            <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
            <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="hll">            <span class="nt">&quot;syntax_check&quot;</span><span class="p">:</span> <span class="s2">&quot;null&quot;</span><span class="p">,</span>
</span>            <span class="nt">&quot;update_status&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
            <span class="nt">&quot;update_type&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Note that in lines <code class="docutils literal notranslate"><span class="pre">8</span></code> and <code class="docutils literal notranslate"><span class="pre">19</span></code> you have the  record’s name that were just updated. <code class="docutils literal notranslate"><span class="pre">current_value</span></code> may reflect the new value.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="admin-config-reload">
<span id="id11"></span><h4>admin_config_reload<a class="headerlink" href="#admin-config-reload" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id12">
<h4>Description<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p>Instruct Traffic Server to start the reloading process. You can find more information about config reload here(add link TBC)</p>
</div>
<div class="section" id="id13">
<h4>Parameters<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">params</span></code>: <strong>Omitted</strong></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no need to add any parameters here.</p>
</div>
</div>
<div class="section" id="id14">
<h4>Result<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">string</span></code> with the success message indicating that the command was acknowledged by the server.</p>
</div>
<div class="section" id="id15">
<h4>Examples<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;89fc5aea-0740-11eb-82c0-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
<span class="hll">   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_config_reload&quot;</span>
</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</li>
<li><p class="first">Response.</p>
<blockquote>
<div><p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="../../developer-guide/jsonrpc/jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Validation</p>
<blockquote>
<div><p>You can request for the record <cite>proxy.node.config.reconfigure_time</cite> which will be updated with the time of the requested update.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="metrics">
<span id="admin-jsonrpc-api-management-metrics"></span><h4>Metrics<a class="headerlink" href="#metrics" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="admin-clear-metrics-records">
<h4>admin_clear_metrics_records<a class="headerlink" href="#admin-clear-metrics-records" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id16">
<h4>Description<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<p>Clear one or more metric values. This API will take the incoming metric names and reset their associated value. The format for the incoming
request should follow the  <a class="reference internal" href="#recordrequest">RecordRequest</a> .</p>
</div>
<div class="section" id="id17">
<h4>Parameters<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">params</span></code>: A list of <a class="reference internal" href="#recordrequest">RecordRequest</a> objects.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only the <code class="docutils literal notranslate"><span class="pre">rec_name</span></code> will be used, if this is not provided, the API will report it back as part of the <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> .</p>
</div>
</div>
<div class="section" id="id18">
<h4>Result<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<p>This api will only inform for errors during the metric update, all errors will be inside the  <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> object.
Successfully metric update will not report back to the client. So it can be assumed that the records were properly updated.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As per our internal API if the metric could not be udpated because there is no change in the value, ie: it’s already <code class="docutils literal notranslate"><span class="pre">0</span></code> this will be reported back to the client as part of the  <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a></p>
</div>
</div>
<div class="section" id="id19">
<h4>Examples<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_clear_metrics_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv6&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_intervi_should_fail&quot;</span>
         <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Response.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2006&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_intervi_should_fail&quot;</span>
      <span class="p">}]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="admin-clear-all-metrics-records">
<h4>admin_clear_all_metrics_records<a class="headerlink" href="#admin-clear-all-metrics-records" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id20">
<h4>Description<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<p>Clear all the metrics.</p>
</div>
<div class="section" id="id21">
<h4>Parameters<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">params</span></code>: This can be <strong>Omitted</strong></li>
</ul>
</div>
<div class="section" id="id22">
<h4>Result<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<p>This api will only inform for errors during the metric update. Errors will be tracked down in the <a class="reference internal" href="../../developer-guide/jsonrpc/jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a> field.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As per our internal API if the metric could not be updated because there is no change in the value, ie: it’s already <code class="docutils literal notranslate"><span class="pre">0</span></code> this
will be reported back to the client as part of the  <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a></p>
</div>
</div>
<div class="section" id="id23">
<h4>Examples<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;dod7018e-0720-11eb-abe2-001fc69cc997&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_clear_all_metrics_records&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Response.</p>
<blockquote>
<div><p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="../../developer-guide/jsonrpc/jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="admin-host-set-status">
<h4>admin_host_set_status<a class="headerlink" href="#admin-host-set-status" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id24">
<h4>Description<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<p>A stat to track status is created for each host. The name is the host fqdn with a prefix of <cite>proxy.process.host_status</cite>. The value of
the stat is a string which is the serialized representation of the status. This contains the overall status and the status for each reason.
The stats may be viewed using the <a class="reference internal" href="#admin-lookup-records">admin_lookup_records</a> rpc api or through the <code class="docutils literal notranslate"><span class="pre">stats_over_http</span></code> endpoint.</p>
</div>
<div class="section" id="id25">
<h4>Parameters<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">operation</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>The name of the record that is meant to be updated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">host</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">array[string]</span></code></td>
<td>A list of hosts that we want to interact with.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">reason</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Reason for the operation.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">time</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Set the duration of an operation to <code class="docutils literal notranslate"><span class="pre">count</span></code> seconds. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> means no duration, the
condition persists until explicitly changed. The default is <code class="docutils literal notranslate"><span class="pre">0</span></code> if an operation requires a time
and none is provided by this option.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul>
<li><p class="first">operation.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">up</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Marks the listed hosts as <code class="docutils literal notranslate"><span class="pre">up</span></code> so that they will be available for use as a next hop parent. Use
<code class="docutils literal notranslate"><span class="pre">reason</span></code> to mark the host reason code. The ‘self_detect’ is an internal reason code
used by parent selection to mark down a parent when it is identified as itself and</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">down</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Marks the listed hosts as down so that they will not be chosen as a next hop parent. If
<code class="docutils literal notranslate"><span class="pre">time</span></code> is included the host is marked down for the specified number of seconds after
which the host will automatically be marked up. A host is not marked up until all reason codes
are cleared by marking up the host for the specified reason code.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p class="first">reason.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">active</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Set the active health check reason.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">local</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Set the local health check reason.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">manual</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Set the administrative reason. This is the default reason if a reason is needed and not provided
by this option. If an invalid reason is provided <code class="docutils literal notranslate"><span class="pre">manual</span></code> will be defaulted.</td>
</tr>
</tbody>
</table>
<p>Internally the reason can be <code class="docutils literal notranslate"><span class="pre">self_detect</span></code> if
<a class="reference internal" href="../files/records.config.en.html#proxy-config-http-parent-proxy-self-detect" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.parent_proxy.self_detect</span></code></a> is set to the value 2 (the default). This is
used to prevent parent selection from creating a loop by selecting itself as the upstream by
marking this reason as “down” in that case.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The up / down status values are independent, and a host is consider available if and only if
all of the statuses are “up”.</p>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id26">
<h4>Result<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="../../developer-guide/jsonrpc/jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div>
<div class="section" id="id27">
<h4>Examples<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;c6d56fba-0cbd-11eb-926d-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_host_set_status&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;operation&quot;</span><span class="p">:</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
      <span class="nt">&quot;host&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;host1&quot;</span><span class="p">],</span>
      <span class="nt">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
      <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;100&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Response.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;c6d56fba-0cbd-11eb-926d-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Getting the host status</p>
</li>
</ul>
<p><em>Get the current status of the specified hosts with respect to their use as targets for parent selection. This returns the same
information as the per host stat.</em></p>
<p>Although there is no a specialized API that you can call to get a status from a particular host you can work away by pulling the right records.
For instance, the <code class="docutils literal notranslate"><span class="pre">host1</span></code>  that we just set up can be easily fetch for a status:</p>
<ul>
<li><p class="first">Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
<span class="hll">         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.host_status.host1&quot;</span>
</span>      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Response.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:</span> <span class="p">[{</span>
<span class="hll">         <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
</span>            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.host_status.host1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;1134&quot;</span><span class="p">,</span>
            <span class="nt">&quot;stat_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
            <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
            <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;HOST_STATUS_DOWN,ACTIVE:DOWN:1602531077:100,LOCAL:UP:0:0,MANUAL:UP:0:0,SELF_DETECT:UP:0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;HOST_STATUS_UP,ACTIVE:UP:0:0,LOCAL:UP:0:0,MANUAL:UP:0:0,SELF_DETECT:UP:0&quot;</span>
         <span class="p">}</span>
      <span class="p">}]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="admin-server-stop-drain">
<h4>admin_server_stop_drain<a class="headerlink" href="#admin-server-stop-drain" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id28">
<h4>Description<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h4>
<p>Stop the drain requests process. Recover server from the drain mode</p>
</div>
<div class="section" id="id29">
<h4>Parameters<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">params</span></code>: <strong>Omitted</strong></li>
</ul>
</div>
<div class="section" id="id30">
<h4>Result<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="../../developer-guide/jsonrpc/jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div>
<div class="section" id="id31">
<h4>Examples<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;35f0b246-0cc4-11eb-9a79-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_server_stop_drain&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="admin-server-start-drain">
<h4>admin_server_start_drain<a class="headerlink" href="#admin-server-start-drain" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id32">
<h4>Description<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h4>
<p>Drain TS requests.</p>
</div>
<div class="section" id="id33">
<h4>Parameters<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="9%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">no_new_connections</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Wait for new connections down to threshold before starting draining, <code class="docutils literal notranslate"><span class="pre">yes|true|1</span></code>. <strong>Not yet supported</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id34">
<h4>Result<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="../../developer-guide/jsonrpc/jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the Server is already running a proper error will be sent back to the client.</p>
</div>
</div>
<div class="section" id="id35">
<h4>Examples<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h4>
<p># Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;30700808-0cc4-11eb-b811-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_server_start_drain&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;no_new_connections&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p># Response.</p>
<p>The response will contain the default <cite>success_response</cite></p>
<p># Response to a server that is already in drain mode.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;30700808-0cc4-11eb-b811-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="p">{</span>

      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Error during execution&quot;</span><span class="p">,</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>

         <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
         <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Server already draining.&quot;</span>
         <span class="p">}]</span>

   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="admin-plugin-send-basic-msg">
<h4>admin_plugin_send_basic_msg<a class="headerlink" href="#admin-plugin-send-basic-msg" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id36">
<h4>Description<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h4>
<p>Interact with plugins. Send a message to plugins. All plugins that have hooked the  <a class="reference internal" href="../../developer-guide/api/functions/TSLifecycleHookAdd.en.html#_CPPv4N17TSLifecycleHookID21TS_LIFECYCLE_MSG_HOOKE" title="TSLifecycleHookID::TS_LIFECYCLE_MSG_HOOK"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">TSLifecycleHookID::TS_LIFECYCLE_MSG_HOOK</span></code></a> will receive a callback for that hook.
The <em>tag</em> and <em>data</em> will be available to the plugin hook processing. It is expected that plugins will use <em>tag</em> to select relevant messages and determine the format of the <em>data</em>.</p>
</div>
<div class="section" id="id37">
<h4>Parameters<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="9%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">tag</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>A tag name that will be read by the interested plugin</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="id38">
<h4>Result<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="../../developer-guide/jsonrpc/jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div>
<div class="section" id="id39">
<h4>Examples<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;19095bf2-0d3b-11eb-b41a-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_plugin_send_basic_msg&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="admin-storage-get-device-status">
<h4>admin_storage_get_device_status<a class="headerlink" href="#admin-storage-get-device-status" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id40">
<h4>Description<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h4>
<p>Show the storage configuration.</p>
</div>
<div class="section" id="id41">
<h4>Parameters<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<p>A list of <code class="docutils literal notranslate"><span class="pre">string</span></code> names for the specific storage we want to interact with. The storage identification used in the param list should match
exactly a path  specified in <a class="reference internal" href="../files/storage.config.en.html#std:configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</p>
</div>
<div class="section" id="id42">
<h4>Result<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h4>
<p># cachedisk.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="10%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">path</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Storage identification.  The storage is identified by <em>path</em> which must match exactly a
path specified in <a class="reference internal" href="../files/storage.config.en.html#std:configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">status</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Disk status. <code class="docutils literal notranslate"><span class="pre">online</span></code> or <code class="docutils literal notranslate"><span class="pre">offline</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">error_count</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Number of errors on the particular disk.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="id43">
<h4>Examples<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h4>
<p># Request.</p>
<blockquote>
<div></div></blockquote>
<p># Response.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;cachedisk&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/some/path/to/ats/trafficserver/cache.db&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
            <span class="nt">&quot;error_count&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;cachedisk&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/some/path/to/ats/var/to_remove/cache.db&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
            <span class="nt">&quot;error_count&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;8574edba-0d40-11eb-b2fb-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="admin-storage-set-device-offline">
<h4>admin_storage_set_device_offline<a class="headerlink" href="#admin-storage-set-device-offline" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id44">
<h4>Description<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h4>
<p>Mark a cache storage device as <code class="docutils literal notranslate"><span class="pre">offline</span></code>. The storage is identified by <em>path</em> which must match exactly a path specified in
<a class="reference internal" href="../files/storage.config.en.html#std:configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>. This removes the storage from the cache and redirects requests that would have used this storage to
other storage. This has exactly the same effect as a disk failure for that storage. This does not persist across restarts of the
<strong class="program">traffic_server</strong> process.</p>
</div>
<div class="section" id="id45">
<h4>Parameters<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h4>
<p>A list of <code class="docutils literal notranslate"><span class="pre">string</span></code> names for the specific storage we want to interact with. The storage identification used in the param list should match
exactly a path  specified in <a class="reference internal" href="../files/storage.config.en.html#std:configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</p>
</div>
<div class="section" id="id46">
<h4>Result<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h4>
<p>A list of <em>object</em> which the following fields:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="10%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">path</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Storage identification.  The storage is identified by <em>path</em> which must match exactly a
path specified in <a class="reference internal" href="../files/storage.config.en.html#std:configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">has_online_storage_left</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>A flag indicating if there is any online storage left after this operation.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="id47">
<h4>Examples<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h4>
<p># Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;53dd8002-0d43-11eb-be00-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_storage_set_device_offline&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;/some/path/to/ats/var/to_remove/cache.db&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p># Response.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/some/path/to/ats/var/to_remove/cache.db&quot;</span><span class="p">,</span>
      <span class="nt">&quot;has_online_storage_left&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span>
   <span class="p">}],</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;53dd8002-0d43-11eb-be00-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="show-registered-handlers">
<h4>show_registered_handlers<a class="headerlink" href="#show-registered-handlers" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id48">
<h4>Description<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h4>
<p>List all the registered RPC public handlers.</p>
</div>
<div class="section" id="id49">
<h4>Parameters<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">params</span></code>: <strong>Omitted</strong></li>
</ul>
</div>
<div class="section" id="id50">
<h4>Result<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h4>
<p>An <em>object</em> with the following fields:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="17%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">methods</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>A list of exposed method handler names.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">notifications</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>A list of exposed notification handler names.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="id51">
<h4>Examples<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h4>
<p># Request.</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;f4477ac4-0d44-11eb-958d-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;show_registered_handlers&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p># Response.</p>
<blockquote>
<div></div></blockquote>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../developer-guide/index.en.html" class="btn btn-neutral float-right" title="Developer’s Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../files/volume.config.en.html" class="btn btn-neutral float-left" title="volume.config" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, dev@trafficserver.apache.org

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>
 


</body>
</html>