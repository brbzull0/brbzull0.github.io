

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TSLifecycleHookAdd &#8212; Apache Traffic Server 10.0.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/override.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="TSMBufferCreate" href="TSMBufferCreate.en.html" />
    <link rel="prev" title="TSIpStringToAddr" href="TSIpStringToAddr.en.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="tslifecyclehookadd">
<span id="ts-lifecycle-hook-add"></span><h1>TSLifecycleHookAdd<a class="headerlink" href="#tslifecyclehookadd" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ts/ts.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<dl class="c function">
<dt id="c.TSLifecycleHookAdd">
void <code class="sig-name descname">TSLifecycleHookAdd</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSLifecycleHookID" title="TSLifecycleHookID">TSLifecycleHookID</a> <em>id</em>, <a class="reference internal" href="TSTypes.en.html#c.TSCont" title="TSCont">TSCont</a> <em>contp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSLifecycleHookAdd" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#c.TSLifecycleHookAdd" title="TSLifecycleHookAdd"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSLifecycleHookAdd()</span></code></a> adds <em>contp</em> to the list of lifecycle hooks
specified by <em>id</em>. Lifecycle hooks are based on the Traffic Server
process, not on any specific transaction or session. These will typically be
called only once during the execution of the Traffic Server process and
therefore should be added in <a class="reference internal" href="TSPluginInit.en.html#c.TSPluginInit" title="TSPluginInit"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSPluginInit()</span></code></a> (which could itself be
considered a lifecyle hook). Unlike other hooks, lifecycle hooks may not have a
well defined ordering and use of them should not assume that one of the hooks
is always called before another unless specifically mentioned.</p>
</div>
<div class="section" id="types">
<h2>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<dl class="cpp enum">
<dt id="_CPPv417TSLifecycleHookID">
<span id="_CPPv317TSLifecycleHookID"></span><span id="_CPPv217TSLifecycleHookID"></span><em class="property">enum </em><code class="sig-name descname">TSLifecycleHookID</code><a class="headerlink" href="#_CPPv417TSLifecycleHookID" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Life cycle hook selector.</p>
<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID35TS_LIFECYCLE_PORTS_INITIALIZED_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID35TS_LIFECYCLE_PORTS_INITIALIZED_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID35TS_LIFECYCLE_PORTS_INITIALIZED_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_PORTS_INITIALIZED_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID35TS_LIFECYCLE_PORTS_INITIALIZED_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called after the <a class="reference internal" href="../../../admin-guide/files/records.config.en.html#proxy-config-http-server-ports" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy</span> <span class="pre">server</span> <span class="pre">port</span></code></a>
data structures have been initialized but before connections are accepted on
those ports. The sockets corresponding to the ports may or may not be open
depending on how the <strong class="program">traffic_server</strong> process was invoked. Other
API functions that depend on server ports should be called from this hook
and not <a class="reference internal" href="TSPluginInit.en.html#c.TSPluginInit" title="TSPluginInit"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSPluginInit()</span></code></a>.</p>
<p>Invoked with the event <a class="reference internal" href="../types/TSEvent.en.html#c.TS_EVENT_LIFECYCLE_PORTS_INITIALIZED" title="TS_EVENT_LIFECYCLE_PORTS_INITIALIZED"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_EVENT_LIFECYCLE_PORTS_INITIALIZED</span></code></a> and
<code class="docutils literal notranslate"><span class="pre">NULL</span></code> data.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID29TS_LIFECYCLE_PORTS_READY_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID29TS_LIFECYCLE_PORTS_READY_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID29TS_LIFECYCLE_PORTS_READY_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_PORTS_READY_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID29TS_LIFECYCLE_PORTS_READY_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called after enabling connections on the proxy server ports. Because Traffic Server is
threaded this may or may not be called before any connections are accepted.
The hook code may assume that any connection to Traffic Server started after this hook
is called will be accepted by Traffic Server, making this a convenient place to signal
external processes of that.</p>
<p>Invoked with the event <a class="reference internal" href="../types/TSEvent.en.html#c.TS_EVENT_LIFECYCLE_PORTS_READY" title="TS_EVENT_LIFECYCLE_PORTS_READY"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_EVENT_LIFECYCLE_PORTS_READY</span></code></a> and <code class="docutils literal notranslate"><span class="pre">NULL</span></code>
data.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID29TS_LIFECYCLE_CACHE_READY_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID29TS_LIFECYCLE_CACHE_READY_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID29TS_LIFECYCLE_CACHE_READY_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_CACHE_READY_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID29TS_LIFECYCLE_CACHE_READY_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called after Traffic Server cache initialization has finished.</p>
<p>Invoked with the event <a class="reference internal" href="../types/TSEvent.en.html#c.TS_EVENT_LIFECYCLE_CACHE_READY" title="TS_EVENT_LIFECYCLE_CACHE_READY"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_EVENT_LIFECYCLE_CACHE_READY</span></code></a> and <code class="docutils literal notranslate"><span class="pre">NULL</span></code>
data.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID21TS_LIFECYCLE_MSG_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID21TS_LIFECYCLE_MSG_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID21TS_LIFECYCLE_MSG_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_MSG_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID21TS_LIFECYCLE_MSG_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called when triggered by an external process, such as <strong class="program">traffic_ctl</strong>.</p>
<p>Invoked with the event <a class="reference internal" href="../types/TSEvent.en.html#c.TS_EVENT_LIFECYCLE_MSG" title="TS_EVENT_LIFECYCLE_MSG"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_EVENT_LIFECYCLE_MSG</span></code></a>. The data is an instance of the
<a class="reference internal" href="#c.TSPluginMsg" title="TSPluginMsg"><code class="xref c c-type docutils literal notranslate"><span class="pre">TSPluginMsg</span></code></a>. This contains a <em>tag</em> which is a null terminated string and a data payload.
The payload cannot be assumed to be null terminated and is created by the external agent. Its internal
structure and format are entirely under the control of the external agent although presumably there is
an agreement between the plugin and the external where this is determined by the <em>tag</em>.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID44TS_LIFECYCLE_CLIENT_SSL_CTX_INITIALIZED_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID44TS_LIFECYCLE_CLIENT_SSL_CTX_INITIALIZED_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID44TS_LIFECYCLE_CLIENT_SSL_CTX_INITIALIZED_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_CLIENT_SSL_CTX_INITIALIZED_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID44TS_LIFECYCLE_CLIENT_SSL_CTX_INITIALIZED_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called after the initialization of the SSL context used by Traffic Server for outbound connections (Traffic Server as client).</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID44TS_LIFECYCLE_SERVER_SSL_CTX_INITIALIZED_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID44TS_LIFECYCLE_SERVER_SSL_CTX_INITIALIZED_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID44TS_LIFECYCLE_SERVER_SSL_CTX_INITIALIZED_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_SERVER_SSL_CTX_INITIALIZED_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID44TS_LIFECYCLE_SERVER_SSL_CTX_INITIALIZED_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called after every SSL context initialization used by Traffic Server for inbound connections (Traffic Server as the server).</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID36TS_LIFECYCLE_TASK_THREADS_READY_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID36TS_LIFECYCLE_TASK_THREADS_READY_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID36TS_LIFECYCLE_TASK_THREADS_READY_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_TASK_THREADS_READY_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID36TS_LIFECYCLE_TASK_THREADS_READY_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called after Traffic Server task threads have been started.</p>
<p>Invoked with the event <a class="reference internal" href="../types/TSEvent.en.html#c.TS_EVENT_LIFECYCLE_TASK_THREADS_READY" title="TS_EVENT_LIFECYCLE_TASK_THREADS_READY"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_EVENT_LIFECYCLE_TASK_THREADS_READY</span></code></a> and <code class="docutils literal notranslate"><span class="pre">NULL</span></code>
data.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N17TSLifecycleHookID26TS_LIFECYCLE_SHUTDOWN_HOOKE">
<span id="_CPPv3N17TSLifecycleHookID26TS_LIFECYCLE_SHUTDOWN_HOOKE"></span><span id="_CPPv2N17TSLifecycleHookID26TS_LIFECYCLE_SHUTDOWN_HOOKE"></span><em class="property">enumerator </em><code class="sig-name descname">TS_LIFECYCLE_SHUTDOWN_HOOK</code><a class="headerlink" href="#_CPPv4N17TSLifecycleHookID26TS_LIFECYCLE_SHUTDOWN_HOOKE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called after Traffic Server receiving a shutdown signal, such as SIGTERM.</p>
<p>Invoked with the event <a class="reference internal" href="../types/TSEvent.en.html#c.TS_EVENT_LIFECYCLE_SHUTDOWN" title="TS_EVENT_LIFECYCLE_SHUTDOWN"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_EVENT_LIFECYCLE_SHUTDOWN</span></code></a> and <code class="docutils literal notranslate"><span class="pre">NULL</span></code> data.</p>
</dd></dl>

</dd></dl>

<dl class="c type">
<dt id="c.TSPluginMsg">
<em class="property">type </em><code class="sig-name descname">TSPluginMsg</code><a class="headerlink" href="#c.TSPluginMsg" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The format of the data for the plugin message event <a class="reference internal" href="../types/TSEvent.en.html#c.TS_EVENT_LIFECYCLE_MSG" title="TS_EVENT_LIFECYCLE_MSG"><code class="xref c c-data docutils literal notranslate"><span class="pre">TS_EVENT_LIFECYCLE_MSG</span></code></a>.</p>
</dd></dl>

<dl class="c member">
<dt>
<code class="sig-name descname">const char * TSPluginMsg::tag</code></dt>
<dd><p>The tag of the message. This is a null terminated string.</p>
</dd></dl>

<dl class="c member">
<dt>
<code class="sig-name descname">const void * TSPluginMsg::data</code></dt>
<dd><p>Message data (payload). This is a raw slab of bytes - no structure is guaranteed.</p>
</dd></dl>

<dl class="c member">
<dt>
<code class="sig-name descname">size_t TSPluginMsg::data_size</code></dt>
<dd><p>The size of <code class="xref c c-member docutils literal notranslate"><span class="pre">TSPluginMsg::data</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="ordering">
<h2>Ordering<a class="headerlink" href="#ordering" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#_CPPv4N17TSLifecycleHookID35TS_LIFECYCLE_PORTS_INITIALIZED_HOOKE" title="TSLifecycleHookID::TS_LIFECYCLE_PORTS_INITIALIZED_HOOK"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">TSLifecycleHookID::TS_LIFECYCLE_PORTS_INITIALIZED_HOOK</span></code></a> will always be called before
<a class="reference internal" href="#_CPPv4N17TSLifecycleHookID29TS_LIFECYCLE_PORTS_READY_HOOKE" title="TSLifecycleHookID::TS_LIFECYCLE_PORTS_READY_HOOK"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">TSLifecycleHookID::TS_LIFECYCLE_PORTS_READY_HOOK</span></code></a>.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following example demonstrates how to correctly use
<a class="reference internal" href="TSNetAcceptNamedProtocol.en.html#c.TSNetAcceptNamedProtocol" title="TSNetAcceptNamedProtocol"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSNetAcceptNamedProtocol()</span></code></a>, which requires the proxy ports to be
initialized and therefore does not work if called from <a class="reference internal" href="TSPluginInit.en.html#c.TSPluginInit" title="TSPluginInit"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSPluginInit()</span></code></a>
directly.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ts/ts.h&gt;</span><span class="cp"></span>

<span class="cp">#define SSL_PROTOCOL_NAME &quot;whatever&quot;</span>

<span class="k">static</span> <span class="kt">int</span>
<span class="nf">ssl_proto_handler</span><span class="p">(</span><span class="n">TSCont</span> <span class="n">contp</span><span class="p">,</span> <span class="n">TSEvent</span> <span class="n">event</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
   <span class="c1">/// Do named protocol handling.</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span>
<span class="nf">local_ssl_init</span><span class="p">(</span><span class="n">TSCont</span> <span class="n">contp</span><span class="p">,</span> <span class="n">TSEvent</span> <span class="n">event</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">edata</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">TS_EVENT_LIFECYCLE_PORTS_INITIALIZED</span> <span class="o">==</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// just to be safe.</span>
      <span class="n">TSNetAcceptNamedProtocol</span><span class="p">(</span>
         <span class="n">TSContCreate</span><span class="p">(</span><span class="n">ssl_proto_handler</span><span class="p">,</span> <span class="n">TSMutexCreate</span><span class="p">()),</span>
         <span class="n">SSL_PROTOCOL_NAME</span>
      <span class="p">);</span>
   <span class="p">}</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span>
<span class="nf">TSPluginInit</span> <span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
   <span class="n">TSLifecycleHookAdd</span><span class="p">(</span><span class="n">TS_LIFECYCLE_PORTS_INITIALIZED_HOOK</span><span class="p">,</span> <span class="n">TSContCreate</span><span class="p">(</span><span class="n">local_ssl_init</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="history">
<h2>History<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h2>
<p>Lifecycle hooks were introduced to solve process initialization ordering issues
(<a class="reference external" href="https://issues.apache.org/jira/browse/TS-1487">TS-1487</a>). Different API calls required different modules of Traffic Server to be
initialized for the call to work, but others did not work that late in
initialization, which was problematic because all of them could effectively
only be called from <a class="reference internal" href="TSPluginInit.en.html#c.TSPluginInit" title="TSPluginInit"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSPluginInit()</span></code></a> . The solution was to move
<a class="reference internal" href="TSPluginInit.en.html#c.TSPluginInit" title="TSPluginInit"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSPluginInit()</span></code></a> as early as possible in the process initialization and
provide hooks for API calls that needed to be invoked later which served
essentially as additional plugin initialization points.</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><em class="manpage">TSAPI(3ts)</em>, <em class="manpage">TSContCreate(3ts)</em></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/trans_logo_tm_380x69.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">Apache Traffic Server</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.en.html">Administrator’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.en.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release-process/index.en.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/index.en.html">Contributing to Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing-with-vagrant/index.en.html">Using Vagrant to Test Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/index.en.html">Debugging and Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../threads-and-events.en.html">Threads and Event Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cache-architecture/index.en.html">Cache Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging-architecture/index.en.html">Logging Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../internal-libraries/index.en.html">Internal libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.en.html">Plugin Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config-vars.en.html">Configuration Variable Implementation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.en.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../continuous-integration/index.en.html">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentation/index.en.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../host-resolution-proposal.en.html">Host Resolution Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../client-session-architecture.en.html">An Overview Client Sessions and Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core-architecture/index.en.html">Core Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-documents/index.en.html">Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../layout/index.en.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/index.en.html">Testing Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonrpc/index.en.html">JSONRPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/index.en.html">Appendices</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.en.html">Developer’s Guide</a><ul>
  <li><a href="../index.en.html">API Reference</a><ul>
  <li><a href="index.en.html">API Functions</a><ul>
      <li>Previous: <a href="TSIpStringToAddr.en.html" title="previous chapter">TSIpStringToAddr</a></li>
      <li>Next: <a href="TSMBufferCreate.en.html" title="next chapter">TSMBufferCreate</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>

    <div class="footer">
      &copy;2021, dev@trafficserver.apache.org.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/developer-guide/api/functions/TSLifecycleHookAdd.en.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    

  </body>
</html>