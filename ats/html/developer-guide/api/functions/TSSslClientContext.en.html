

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TSSslClientContext &#8212; Apache Traffic Server 10.0.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/override.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="TS SSL Context" href="TSSslContext.en.html" />
    <link rel="prev" title="TSSslClientCertUpdate" href="TSSslClientCertUpdate.en.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="tssslclientcontext">
<h1>TSSslClientContext<a class="headerlink" href="#tssslclientcontext" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ts/ts.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<dl class="c function">
<dt id="c.TSSslClientContextsNamesGet">
<a class="reference internal" href="../types/TSReturnCode.en.html#c.TSReturnCode" title="TSReturnCode">TSReturnCode</a> <code class="sig-name descname">TSSslClientContextsNamesGet</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> char **<em>result</em>, int *<em>actual</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSSslClientContextsNamesGet" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c function">
<dt id="c.TSSslClientContextFindByName">
<a class="reference internal" href="TSSslServerContextCreate.en.html#c.TSSslContext" title="TSSslContext">TSSslContext</a> <code class="sig-name descname">TSSslClientContextFindByName</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>ca_paths</em>, <em class="property">const</em> char *<em>ck_paths</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSSslClientContextFindByName" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>These functions are used to explore the client contexts that Traffic Server uses to connect to upstreams.</p>
<p><a class="reference internal" href="#c.TSSslClientContextsNamesGet" title="TSSslClientContextsNamesGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSSslClientContextsNamesGet()</span></code></a> can be used to retrieve the entire client context mappings. Note
that in Traffic Server, client contexts are stored in a 2-level mapping with ca paths and cert/key
paths as keys. Hence every 2 null-terminated string in <em>result</em> can be used to lookup one context.
<em>result</em> points to an user allocated array that will hold pointers to lookup key strings and
<em>n</em> is the size for <em>result</em> array. <em>actual</em>, if valid, will be filled with actual number
of lookup keys (2 for each context).</p>
<p><a class="reference internal" href="#c.TSSslClientContextFindByName" title="TSSslClientContextFindByName"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSSslClientContextFindByName()</span></code></a> can be used to retrieve the client context pointed by the lookup
key pairs. User should call <a class="reference internal" href="#c.TSSslClientContextsNamesGet" title="TSSslClientContextsNamesGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSSslClientContextsNamesGet()</span></code></a> first to determine which lookup keys are
present before querying for the context. <em>ca_paths</em> should be the first key and <em>ck_paths</em>
should be the second. This function returns NULL if the client context mapping are changed and no valid
context exists for the key pair. The caller is responsible for releasing the context returned by this
function with <a class="reference internal" href="TSSslServerContextCreate.en.html#c.TSSslContextDestroy" title="TSSslContextDestroy"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSSslContextDestroy()</span></code></a>.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The example below is excerpted from <cite>example/plugins/c-api/client_context_dump/client_context_dump.cc</cite> in the Traffic
Server source distribution. It demonstrates how to use <a class="reference internal" href="#c.TSSslClientContextsNamesGet" title="TSSslClientContextsNamesGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSSslClientContextsNamesGet()</span></code></a> and
<a class="reference internal" href="#c.TSSslClientContextFindByName" title="TSSslClientContextFindByName"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSSslClientContextFindByName()</span></code></a> to retrieve all contexts.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>                             <span class="n">ck_path</span><span class="p">,</span> <span class="n">subject_s</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span> <span class="n">san_s</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span> <span class="n">serial_s</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span> <span class="n">time_s</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">SSL_free</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">TSSslContextDestroy</span><span class="p">(</span><span class="n">ctx</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Plugin Message Continuation</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/trans_logo_tm_380x69.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">Apache Traffic Server</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.en.html">Administrator’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.en.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release-process/index.en.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/index.en.html">Contributing to Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing-with-vagrant/index.en.html">Using Vagrant to Test Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/index.en.html">Debugging and Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../threads-and-events.en.html">Threads and Event Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cache-architecture/index.en.html">Cache Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging-architecture/index.en.html">Logging Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../internal-libraries/index.en.html">Internal libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.en.html">Plugin Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config-vars.en.html">Configuration Variable Implementation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.en.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../continuous-integration/index.en.html">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentation/index.en.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../host-resolution-proposal.en.html">Host Resolution Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../client-session-architecture.en.html">An Overview Client Sessions and Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core-architecture/index.en.html">Core Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-documents/index.en.html">Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../layout/index.en.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/index.en.html">Testing Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonrpc/index.en.html">JSONRPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/index.en.html">Appendices</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.en.html">Developer’s Guide</a><ul>
  <li><a href="../index.en.html">API Reference</a><ul>
  <li><a href="index.en.html">API Functions</a><ul>
      <li>Previous: <a href="TSSslClientCertUpdate.en.html" title="previous chapter">TSSslClientCertUpdate</a></li>
      <li>Next: <a href="TSSslContext.en.html" title="next chapter">TS SSL Context</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>

    <div class="footer">
      &copy;2021, dev@trafficserver.apache.org.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/developer-guide/api/functions/TSSslClientContext.en.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    

  </body>
</html>