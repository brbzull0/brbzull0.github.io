

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Installing Traffic Server &#8212; Apache Traffic Server 10.0.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/override.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Proxy Cache Configuration" href="../configuration/index.en.html" />
    <link rel="prev" title="Introduction" href="../introduction.en.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="installing-traffic-server">
<span id="admin-installing"></span><h1>Installing Traffic Server<a class="headerlink" href="#installing-traffic-server" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="supported-platforms">
<span id="admin-supported-platforms"></span><h2>Supported Platforms<a class="headerlink" href="#supported-platforms" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="traffic-server-versioning">
<span id="admin-traffic-server-versioning"></span><h2>Traffic Server Versioning<a class="headerlink" href="#traffic-server-versioning" title="Permalink to this headline">¶</a></h2>
<p>Before you get started with Traffic Server you may have to decide which
version you want to use. Traffic Server follows the <a class="reference external" href="http://semver.org">Semantic Versioning</a> guidelines.</p>
<p>A complete version number is made of a version-triplet: <code class="docutils literal notranslate"><span class="pre">MAJOR.MINOR.PATCH</span></code>.</p>
<p>As of v4.0.0, there are no longer any development (or unstable) releases.
All releases are considered stable and ready for production use. Releases
within a major version are always upgrade compatible. More details are
available on the <a class="reference external" href="https://cwiki.apache.org/confluence/display/TS/Release+Process">New Release Processes</a> wiki
page.</p>
<p>Sometimes we speak of <em>trunk</em>, <em>master</em> or <em>HEAD</em>, all of which are used
interchangeably. Trunk and master, or sometimes TIP or HEAD, refer to the
latest code in a Git version control system (also referred to as a <em>repository</em>
or <em>Git repo</em>). Master is always kept releasable, and compatible with the
current major release version. Incompatible changes are sometimes committed on
a next-major release branch; for example, we have the <code class="docutils literal notranslate"><span class="pre">5.0.x</span></code> branch where
changes incompatible with 4.x are managed.</p>
</div>
<div class="section" id="binary-distributions">
<span id="admin-binary-distributions"></span><h2>Binary Distributions<a class="headerlink" href="#binary-distributions" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="building-from-source">
<span id="admin-build-from-source"></span><h2>Building From Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<div class="section" id="retrieving-tarballs">
<span id="admin-retrieving-tarballs"></span><h3>Retrieving Tarballs<a class="headerlink" href="#retrieving-tarballs" title="Permalink to this headline">¶</a></h3>
<p>Compressed archives of the source code for Traffic Server are available on the official
website’s <a class="reference external" href="https://trafficserver.apache.org/downloads">Downloads</a> page. From
there you may select the version most appropriate for your needs. The Traffic Server
project does not provide binary downloads.</p>
</div>
<div class="section" id="cloning-from-version-control">
<span id="admin-cloning-from-version-control"></span><h3>Cloning from Version Control<a class="headerlink" href="#cloning-from-version-control" title="Permalink to this headline">¶</a></h3>
<p>Traffic Server uses a <a class="reference external" href="https://git-wip-us.apache.org/repos/asf/trafficserver.git">public Git repository</a>
for version control. This repository will also provide the most cutting edge
source code if you wish to test out the latest features and bug fixes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We do also have a <a class="reference external" href="https://github.com/apache/trafficserver">GitHub Mirror</a>
that you may use to submit pull requests. However, it may not be
entirely up-to-date, and you should always refer to our official project
Git repository for the very latest state of the source code.</p>
</div>
</div>
<div class="section" id="build-dependencies">
<span id="admin-build-dependencies"></span><h3>Build Dependencies<a class="headerlink" href="#build-dependencies" title="Permalink to this headline">¶</a></h3>
<p>In order to build Traffic Server from source you will need the following
development tools and libraries installed:</p>
<ul class="simple">
<li><p>pkgconfig</p></li>
<li><p>libtool</p></li>
<li><p>gcc (&gt;= 4.3 or clang &gt; 3.0)</p></li>
<li><p>GNU make</p></li>
<li><p>openssl (libssl-dev for Ubuntu 16.04)</p></li>
<li><p>pcre (libpcre3-dev for Ubuntu 16.04)</p></li>
<li><p>libcap</p></li>
<li><p>flex (for TPROXY)</p></li>
<li><p>hwloc</p></li>
<li><p>lua</p></li>
<li><p>curses (for <strong class="program">traffic_top</strong>)</p></li>
<li><p>curl (for <strong class="program">traffic_top</strong>)</p></li>
</ul>
<p>If you’re building from a git clone, you’ll also need:</p>
<ul class="simple">
<li><p>git</p></li>
<li><p>autoconf</p></li>
<li><p>automake</p></li>
<li><p>build-essential (for Ubuntu)</p></li>
<li><p>libtool (for Ubuntu)</p></li>
</ul>
</div>
<div class="section" id="layouts">
<span id="admin-layouts"></span><h3>Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="preparing-the-source-tree">
<span id="admin-preparing-the-source-tree"></span><h3>Preparing the Source Tree<a class="headerlink" href="#preparing-the-source-tree" title="Permalink to this headline">¶</a></h3>
<p>If you are building from a checkout of the Git repository, you will need to
prepare the source tree by regenerating the configuration scripts. This is
performed by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">autoreconf</span> <span class="o">-</span><span class="k">if</span>
</pre></div>
</div>
<p>At the base directory of your local clone.</p>
</div>
<div class="section" id="configuration-options">
<span id="admin-configuration-options"></span><h3>Configuration Options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h3>
<p>Traffic Server uses the standard <code class="docutils literal notranslate"><span class="pre">configure</span></code> script method of configuring the source
tree for building. A full list of available options may always be obtained by
running the following in the base directory of your unpackaged archive or Git
working copy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<ol class="arabic">
<li><p>A <code class="docutils literal notranslate"><span class="pre">configure</span></code> script will be generated from <code class="docutils literal notranslate"><span class="pre">configure.ac</span></code> which may now
be used to configure the source tree for your build.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">ats</span>
</pre></div>
</div>
<p>By default, Traffic Server will be built to use the <code class="docutils literal notranslate"><span class="pre">nobody</span></code> user and group.
You may change this with the <code class="docutils literal notranslate"><span class="pre">--with-user</span></code> argument to <code class="docutils literal notranslate"><span class="pre">configure</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">ats</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">user</span><span class="o">=</span><span class="n">tserver</span>
</pre></div>
</div>
<p>If dependencies are not in standard paths (<code class="docutils literal notranslate"><span class="pre">/usr/local</span></code> or <code class="docutils literal notranslate"><span class="pre">/usr</span></code>),
you may need to pass options to <code class="docutils literal notranslate"><span class="pre">configure</span></code> to account for that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">ats</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">lua</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">csw</span>
</pre></div>
</div>
<p>Most <code class="docutils literal notranslate"><span class="pre">configure</span></code> path-options accept a format of “<em>INCLUDE_PATH</em>:<em>LIBRARY_PATH</em>”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">ats</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">pcre</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">csw</span><span class="o">/</span><span class="n">include</span><span class="p">:</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">csw</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">amd64</span>
</pre></div>
</div>
</li>
<li><p>Once the source tree has been configured, you may proceed on to building with
the generated Makefiles. The <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">check</span></code> command may be used to perform
sanity checks on the resulting build, prior to installation, and it is
recommended that you use this.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span>
<span class="n">make</span> <span class="n">check</span>
</pre></div>
</div>
</li>
<li><p>With the source built and checked, you may now install all of the binaries,
header files, documentation, and other artifacts to their final locations on
your system.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
</li>
<li><p>Finally, it is recommended that you run the regression test suite. Please note
that the regression tests will only be successful with the default layout.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ats</span>
<span class="n">sudo</span> <span class="nb">bin</span><span class="o">/</span><span class="n">traffic_server</span> <span class="o">-</span><span class="n">R</span> <span class="mi">1</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="start-traffic-server">
<span id="id1"></span><h2>Start Traffic Server<a class="headerlink" href="#start-traffic-server" title="Permalink to this headline">¶</a></h2>
<p>To start Traffic Server manually, issue the <code class="docutils literal notranslate"><span class="pre">trafficserver</span></code> command,
passing in the subcommand <code class="docutils literal notranslate"><span class="pre">start</span></code>. This command starts all the
processes that work together to process Traffic Server requests as well
as manage, control, and monitor the health of the Traffic Server system.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">trafficserver</span> <span class="n">start</span>
</pre></div>
</div>
<p>The <strong class="program">traffic_ctl</strong> provides a quick way of viewing Traffic Server statistics
and configuring the Traffic Server system via a command-line interface.</p>
<p><strong class="program">traffic_ctl</strong> commands take the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">traffic_ctl</span> <span class="n">COMMAND</span> <span class="n">COMMAND</span> <span class="o">...</span>
</pre></div>
</div>
<p>For a list of <strong class="program">traffic_ctl</strong> commands, enter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">traffic_ctl</span>
</pre></div>
</div>
<p>Please note that <strong class="program">traffic_ctl</strong>, while a fine tool for administrators,
is a poor choice for automation, especially that of monitoring. See our chapter
on <a class="reference internal" href="../monitoring/index.en.html#admin-monitoring"><span class="std std-ref">monitoring</span></a> for how to do that more efficiently and
effectively.</p>
</div>
<div class="section" id="stop-traffic-server">
<span id="id2"></span><h2>Stop Traffic Server<a class="headerlink" href="#stop-traffic-server" title="Permalink to this headline">¶</a></h2>
<p>To stop Traffic Server, always use the <strong class="program">trafficserver</strong> command,
passing in the attribute <code class="docutils literal notranslate"><span class="pre">stop</span></code>. This command stops all the Traffic
Server processes (<strong class="program">traffic_manager</strong> and <strong class="program">traffic_server</strong>).
Do not manually stop processes, as this can lead to unpredictable results.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">trafficserver</span> <span class="n">stop</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/trans_logo_tm_380x69.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">Apache Traffic Server</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.en.html">Administrator’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.en.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installing Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.en.html">Proxy Cache Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interaction/index.en.html">Interacting with Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/index.en.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.en.html">Cache Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.en.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.en.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.en.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuring-traffic-server.en.html">Configuring Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layer-4-routing.en.html">Layer 4 Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance/index.en.html">Performance Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../files/index.en.html">Configuration Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jsonrpc/index.en.html">JSONRPC API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.en.html#audience">Audience</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer-guide/index.en.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/index.en.html">Appendices</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.en.html">Administrator’s Guide</a><ul>
      <li>Previous: <a href="../introduction.en.html" title="previous chapter">Introduction</a></li>
      <li>Next: <a href="../configuration/index.en.html" title="next chapter">Proxy Cache Configuration</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>

    <div class="footer">
      &copy;2021, dev@trafficserver.apache.org.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/admin-guide/installation/index.en.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    

  </body>
</html>