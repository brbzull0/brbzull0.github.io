


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>API &mdash; Apache Traffic Server 10.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="JSONRPC Endpoint" href="jsonrpc-node.en.html" />
    <link rel="prev" title="Architecture" href="jsonrpc-architecture.en.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Apache Traffic Server
          

          
            
            <img src="../../_static/trans_logo_tm_380x69.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.en.html">Administrator’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.en.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-process/index.en.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/index.en.html">Contributing to Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing-with-vagrant/index.en.html">Using Vagrant to Test Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging/index.en.html">Debugging and Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../threads-and-events.en.html">Threads and Event Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cache-architecture/index.en.html">Cache Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging-architecture/index.en.html">Logging Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal-libraries/index.en.html">Internal libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.en.html">Plugin Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-vars.en.html">Configuration Variable Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/index.en.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../continuous-integration/index.en.html">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.en.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../host-resolution-proposal.en.html">Host Resolution Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-session-architecture.en.html">An Overview Client Sessions and Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-architecture/index.en.html">Core Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design-documents/index.en.html">Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/index.en.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/index.en.html">Testing Traffic Server</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.en.html">JSONRPC</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-architecture.en.html">Architecture</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#administrative-api">Administrative API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jsonrpc-admin-api">JSONRPC API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jsonapi-management-records">Records</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metrics">Metrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-node.en.html">JSONRPC Endpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-handler-development.en.html">Handler implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-client-api.en.html">Traffic Server JSONRPC Node C++ Client Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="traffic_ctl-development.en.html">Traffic Control Development Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="HandlerError.en.html">API Handler error codes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/index.en.html">Appendices</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Apache Traffic Server</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.en.html">Developer’s Guide</a> &raquo;</li>
        
          <li><a href="index.en.html">JSONRPC</a> &raquo;</li>
        
      <li>API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/developer-guide/jsonrpc/jsonrpc-api.en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api">
<span id="jsonrpc-api"></span><h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<span id="jsonrpc-api-description"></span><h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Traffic Server Implements and exposes management calls using a JSONRPC API.  This API is base on the following two things:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.json.org/json-en.html">JSON</a>  format. Lightweight data-interchange format. It is easy for humans to read and write.
It is easy for machines to parse and generate. It’s basically a  collection of name/value pairs.</p></li>
<li><p><a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC 2.0</a> protocol. Stateless, light-weight remote procedure call (RPC) protocol.
Primarily this specification defines several data structures and the rules around their processing.</p></li>
</ul>
<p>In order for programs to communicate with Traffic Server, the server exposes a <code class="docutils literal notranslate"><span class="pre">JSONRRPC</span> <span class="pre">2.0</span></code> API where programs can communicate with it.</p>
</div>
<div class="section" id="administrative-api">
<span id="admin-jsonrpc-api"></span><h2>Administrative API<a class="headerlink" href="#administrative-api" title="Permalink to this headline">¶</a></h2>
<p>This section describes how to interact with the administrative RPC API to interact with Traffic Server</p>
<div class="section" id="records">
<span id="id2"></span><h3>Records<a class="headerlink" href="#records" title="Permalink to this headline">¶</a></h3>
<p>When interacting with the admin api, there are a few structures that need to be understood, this section will describe each of them.</p>
<div class="section" id="rpc-record-request">
<span id="recordrequest"></span><h4>RPC Record Request<a class="headerlink" href="#rpc-record-request" title="Permalink to this headline">¶</a></h4>
<p>To obtain information regarding a particular record(s) from Traffic Server, we should use the following fields in an <em>unnamed</em> json structure.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 9%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">record_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>The name we want to query from Traffic Server. This is <code class="docutils literal notranslate"><span class="pre">optional</span></code> if <code class="docutils literal notranslate"><span class="pre">record_name_regex</span></code> is used.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">record_name_regex</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>The regular expression we want to query from Traffic Server. This is <code class="docutils literal notranslate"><span class="pre">optional</span></code> if <code class="docutils literal notranslate"><span class="pre">record_name</span></code> is used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rec_types</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array[number|string]</span></code></p></td>
<td><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">optional</span></code> A list of types that should be used to match against the found record. These types refer to <code class="docutils literal notranslate"><span class="pre">RecT</span></code>.</dt><dd><p>Other values (in decimal) than the ones defined by the <code class="docutils literal notranslate"><span class="pre">RecT</span></code> <code class="docutils literal notranslate"><span class="pre">enum</span></code> will be ignored. If no type is
specified, the server will not match the type against the found record.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">record_name</span></code> and <code class="docutils literal notranslate"><span class="pre">record_name_regex</span></code> are both provided, the server will not use any of them. Only one should be provided.</p>
</div>
<p>Example:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Single record:</p></li>
</ol>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;2947819a-8563-4f21-ba45-bde73210e387&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:[</span>
      <span class="p">{</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:[</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">16</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Multiple records:</p></li>
</ol>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
<span class="hll">   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
</span><span class="hll">         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span>
</span><span class="hll">      <span class="p">},</span>
</span><span class="hll">      <span class="p">{</span>
</span><span class="hll">         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
</span><span class="hll">         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span class="hll">      <span class="p">}</span>
</span><span class="hll">   <span class="p">]</span>
</span><span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Batch Request</p></li>
</ol>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
      <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
      <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="p">}]</span>
   <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;dam7018e-0720-11eb-abe2-001fc69dd123&quot;</span><span class="p">,</span>
      <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
      <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="p">}]</span>
   <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="rpc-record-response">
<span id="recordresponse"></span><h4>RPC Record Response<a class="headerlink" href="#rpc-record-response" title="Permalink to this headline">¶</a></h4>
<p>When querying for a record(s), in the majority of the cases the record api will respond with the following json structure.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 18%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">recordList</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array[record]</span></code></p></td>
<td><p>A list of record <em>object</em>. See <a class="reference internal" href="#recordrequestobject">RecordRequestObject</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">errorList</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array[errors]</span></code></p></td>
<td><p>A list of error <em>object</em>. See <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rpc-record-error-object">
<span id="recorderrorobject"></span><h4>RPC Record Error Object<a class="headerlink" href="#rpc-record-error-object" title="Permalink to this headline">¶</a></h4>
<p>All errors that are found during a record query, will be returned back to the caller in the <code class="docutils literal notranslate"><span class="pre">error_list</span></code> field as part of the <a class="reference internal" href="#recordresponse">RecordResponse</a> object.
The record errors have the following fields.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">code</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">optional</span></code> An error code that should be used to get a description of the error.(Add error codes)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">record_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">optional</span></code> The associated record name, this may be omitted sometimes.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">optional</span></code> A descriptive message. The server can omit this value.</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2007&quot;</span><span class="p">,</span>
   <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Examples:</p>
<ol class="arabic">
<li><p>Request a non existing record among with an invalid type for a record:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;non.existing.record&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span><span class="p">,</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Line <code class="docutils literal notranslate"><span class="pre">7</span></code> requests a non existing record and in line <code class="docutils literal notranslate"><span class="pre">11</span></code> we request a type that does not match the record’s type.</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;2000&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;non.existing.record&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;2007&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>In this case we get the response indicating that the requested fields couldn’t be retrieved. See <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> for more details.</p>
<p>The error list can also be included among with a recordList</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:[]</span>
      <span class="p">,</span><span class="nt">&quot;errorList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;2000&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;non.existing.record&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;2007&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there is no errors to report, the “errorList” field will be represented as an empty  list (<code class="docutils literal notranslate"><span class="pre">[]</span></code>).</p>
</div>
</li>
</ol>
</div>
<div class="section" id="jsonrpc-record-errors">
<span id="recorderrorobject-enum"></span><h4>JSONRPC Record Errors<a class="headerlink" href="#jsonrpc-record-errors" title="Permalink to this headline">¶</a></h4>
<p>The following errors could be generated when requesting record from the server.</p>
<dl class="cpp class">
<dt id="_CPPv411RecordError">
<span id="_CPPv311RecordError"></span><span id="_CPPv211RecordError"></span><span id="RecordError"></span><em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">RecordError</span></code><a class="headerlink" href="#_CPPv411RecordError" title="Permalink to this definition">¶</a><br /></dt>
<dd><dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError16RECORD_NOT_FOUNDE">
<span id="_CPPv3N11RecordError16RECORD_NOT_FOUNDE"></span><span id="_CPPv2N11RecordError16RECORD_NOT_FOUNDE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">RECORD_NOT_FOUND</span></code> <span class="pre">=</span> <span class="pre">2000</span><a class="headerlink" href="#_CPPv4N11RecordError16RECORD_NOT_FOUNDE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Record not found.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError17RECORD_NOT_CONFIGE">
<span id="_CPPv3N11RecordError17RECORD_NOT_CONFIGE"></span><span id="_CPPv2N11RecordError17RECORD_NOT_CONFIGE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">RECORD_NOT_CONFIG</span></code> <span class="pre">=</span> <span class="pre">2001</span><a class="headerlink" href="#_CPPv4N11RecordError17RECORD_NOT_CONFIGE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Record is not a configuration type.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError17RECORD_NOT_METRICE">
<span id="_CPPv3N11RecordError17RECORD_NOT_METRICE"></span><span id="_CPPv2N11RecordError17RECORD_NOT_METRICE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">RECORD_NOT_METRIC</span></code> <span class="pre">=</span> <span class="pre">2002</span><a class="headerlink" href="#_CPPv4N11RecordError17RECORD_NOT_METRICE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Record is not a metric type.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError19INVALID_RECORD_NAMEE">
<span id="_CPPv3N11RecordError19INVALID_RECORD_NAMEE"></span><span id="_CPPv2N11RecordError19INVALID_RECORD_NAMEE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">INVALID_RECORD_NAME</span></code> <span class="pre">=</span> <span class="pre">2003</span><a class="headerlink" href="#_CPPv4N11RecordError19INVALID_RECORD_NAMEE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Invalid Record Name.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError20VALIDITY_CHECK_ERRORE">
<span id="_CPPv3N11RecordError20VALIDITY_CHECK_ERRORE"></span><span id="_CPPv2N11RecordError20VALIDITY_CHECK_ERRORE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">VALIDITY_CHECK_ERROR</span></code> <span class="pre">=</span> <span class="pre">2004</span><a class="headerlink" href="#_CPPv4N11RecordError20VALIDITY_CHECK_ERRORE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Validity check failed.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError13GENERAL_ERRORE">
<span id="_CPPv3N11RecordError13GENERAL_ERRORE"></span><span id="_CPPv2N11RecordError13GENERAL_ERRORE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">GENERAL_ERROR</span></code> <span class="pre">=</span> <span class="pre">2005</span><a class="headerlink" href="#_CPPv4N11RecordError13GENERAL_ERRORE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Error reading the record.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError18RECORD_WRITE_ERRORE">
<span id="_CPPv3N11RecordError18RECORD_WRITE_ERRORE"></span><span id="_CPPv2N11RecordError18RECORD_WRITE_ERRORE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">RECORD_WRITE_ERROR</span></code> <span class="pre">=</span> <span class="pre">2006</span><a class="headerlink" href="#_CPPv4N11RecordError18RECORD_WRITE_ERRORE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Generic error while writting the record. ie: RecResetStatRecord() returns  REC_ERR_OKAY</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError23REQUESTED_TYPE_MISMATCHE">
<span id="_CPPv3N11RecordError23REQUESTED_TYPE_MISMATCHE"></span><span id="_CPPv2N11RecordError23REQUESTED_TYPE_MISMATCHE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">REQUESTED_TYPE_MISMATCH</span></code> <span class="pre">=</span> <span class="pre">2007</span><a class="headerlink" href="#_CPPv4N11RecordError23REQUESTED_TYPE_MISMATCHE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The requested record’s type does not match againts the passed type list.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N11RecordError21INVALID_INCOMING_DATAE">
<span id="_CPPv3N11RecordError21INVALID_INCOMING_DATAE"></span><span id="_CPPv2N11RecordError21INVALID_INCOMING_DATAE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">INVALID_INCOMING_DATA</span></code> <span class="pre">=</span> <span class="pre">2008</span><a class="headerlink" href="#_CPPv4N11RecordError21INVALID_INCOMING_DATAE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This could be caused by an invalid value in the incoming request which may cause the parser to fail.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="rpc-record-object">
<span id="recordrequestobject"></span><h4>RPC Record Object<a class="headerlink" href="#rpc-record-object" title="Permalink to this headline">¶</a></h4>
<p>This is mapped from a <code class="docutils literal notranslate"><span class="pre">RecRecord</span></code>, when requesting for a record the following information will be populated into a json <em>object</em>.
The <code class="docutils literal notranslate"><span class="pre">record</span></code> structure has the following members.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Record Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">current_value</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Current value that is held by the record.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_value</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Record’s default value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Record’s name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">order</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Record’s order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">overridable</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Records’s overridable configuration.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">raw_stat_block</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Raw Stat Block Id.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">record_class</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Record type. Mapped from <code class="docutils literal notranslate"><span class="pre">RecT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">record_type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Record’s data type. Mapped from RecDataT</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Record’s version.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stats_meta</span></code></p></td>
<td><p><em>object</em></p></td>
<td><p>Stats metadata <a class="reference internal" href="#stats-meta">stats_meta</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">config_meta</span></code></p></td>
<td><p><em>object</em></p></td>
<td><p>Config metadata <a class="reference internal" href="#config-meta">config_meta</a></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>it will be either <code class="docutils literal notranslate"><span class="pre">config_meta</span></code> or <code class="docutils literal notranslate"><span class="pre">stats_meta</span></code> object, but never both*</p></li>
</ul>
<p id="config-meta">Config Metadata</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Record Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>access_type</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Access type. This is mapped from <code class="docutils literal notranslate"><span class="pre">TSRecordAccessType</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>check_expr</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Syntax checks regular expressions.</p></td>
</tr>
<tr class="row-even"><td><p><cite>checktype</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Check type, This is mapped from <code class="docutils literal notranslate"><span class="pre">RecCheckT</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>source</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Source of the configuration value. Mapped from RecSourceT</p></td>
</tr>
<tr class="row-even"><td><p><cite>update_status</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Update status flag.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>update_type</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>How the records get updated. Mapped from RecUpdateT</p></td>
</tr>
</tbody>
</table>
<p id="stats-meta">Stats Metadata (TBC)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Record Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>persist_type</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Persistent type. This is mapped from <code class="docutils literal notranslate"><span class="pre">RecPersistT</span></code></p></td>
</tr>
</tbody>
</table>
<p>Example with config meta:</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.diags.debug.tags&quot;</span><span class="p">,</span>
      <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;421&quot;</span><span class="p">,</span>
      <span class="nt">&quot;config_meta&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;access_type&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;update_status&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;update_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
         <span class="nt">&quot;checktype&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
         <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span><span class="s2">&quot;null&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
      <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
      <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;rpc&quot;</span><span class="p">,</span>
      <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;http|dns&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Example with stats meta:</p>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span>   <span class="p">{</span>
      <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;COUNTER&quot;</span><span class="p">,</span>
         <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
         <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span>
         <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
         <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv6&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
         <span class="nt">&quot;stat_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
         <span class="p">},</span>
         <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
      <span class="p">}</span>
   <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="jsonrpc-admin-api">
<span id="id3"></span><h2>JSONRPC API<a class="headerlink" href="#jsonrpc-admin-api" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#admin-lookup-records">admin_lookup_records</a></p></li>
<li><p><a class="reference internal" href="#admin-clear-all-metrics-records">admin_clear_all_metrics_records</a></p></li>
<li><p><a class="reference internal" href="#admin-config-set-records">admin_config_set_records</a></p></li>
<li><p><a class="reference internal" href="#admin-config-reload">admin_config_reload</a></p></li>
<li><p><a class="reference internal" href="#admin-clear-metrics-records">admin_clear_metrics_records</a></p></li>
<li><p><a class="reference internal" href="#admin-clear-all-metrics-records">admin_clear_all_metrics_records</a></p></li>
<li><p><a class="reference internal" href="#admin-host-set-status">admin_host_set_status</a></p></li>
<li><p><a class="reference internal" href="#admin-server-stop-drain">admin_server_stop_drain</a></p></li>
<li><p><a class="reference internal" href="#admin-server-start-drain">admin_server_start_drain</a></p></li>
<li><p><a class="reference internal" href="#admin-plugin-send-basic-msg">admin_plugin_send_basic_msg</a></p></li>
<li><p><a class="reference internal" href="#admin-storage-get-device-status">admin_storage_get_device_status</a></p></li>
<li><p><a class="reference internal" href="#admin-storage-set-device-offline">admin_storage_set_device_offline</a></p></li>
<li><p><a class="reference internal" href="#show-registered-handlers">show_registered_handlers</a></p></li>
<li><p><a class="reference internal" href="#get-service-descriptor">get_service_descriptor</a></p></li>
<li><p><a class="reference internal" href="#filemanager-get-files-registry">filemanager.get_files_registry</a></p></li>
</ul>
</div>
<div class="section" id="jsonapi-management-records">
<span id="id4"></span><h2>Records<a class="headerlink" href="#jsonapi-management-records" title="Permalink to this headline">¶</a></h2>
<div class="section" id="admin-lookup-records">
<span id="id5"></span><h3>admin_lookup_records<a class="headerlink" href="#admin-lookup-records" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id6">
<h4>Description<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>Obtain  record(s) from TS.</p>
</div>
<div class="section" id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: A list of <a class="reference internal" href="#recordrequest">RecordRequest</a> objects.</p></li>
</ul>
</div>
<div class="section" id="result">
<h4>Result<a class="headerlink" href="#result" title="Permalink to this headline">¶</a></h4>
<p>A list of <a class="reference internal" href="#recordresponse">RecordResponse</a> . In case of any error obtaining the requested record, the <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> <em>object</em> will be included.</p>
</div>
<div class="section" id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Request a configuration record, no errors:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;b2bb16a5-135a-4c84-b0a7-8d31ebd82542&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:[</span>
      <span class="p">{</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;16&quot;</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
<p>Response:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
               <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;410&quot;</span><span class="p">,</span>
               <span class="nt">&quot;config_meta&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;access_type&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_status&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;checktype&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span><span class="s2">&quot;^[0-9]+$&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
               <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;INT&quot;</span><span class="p">,</span>
               <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;86400&quot;</span><span class="p">,</span>
               <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;86400&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">]</span>
      <span class="p">,</span><span class="nt">&quot;errorList&quot;</span><span class="p">:[]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;b2bb16a5-135a-4c84-b0a7-8d31ebd82542&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic">
<li><p>Request a configuration record, some errors coming back:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_interv&quot;</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
<p>Response:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.log.rolling_interval_sec&quot;</span><span class="p">,</span>
               <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;410&quot;</span><span class="p">,</span>
               <span class="nt">&quot;config_meta&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;access_type&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_status&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;checktype&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span><span class="s2">&quot;^[0-9]+$&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
               <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;INT&quot;</span><span class="p">,</span>
               <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;86400&quot;</span><span class="p">,</span>
               <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;86400&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;2000&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.log.rolling_interv&quot;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Request using a <cite>regex</cite> instead of the full name.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Regex lookups use <code class="docutils literal notranslate"><span class="pre">record_name_regex`</span> <span class="pre">and</span> <span class="pre">not</span> <span class="pre">``record_name</span></code>. Check <a class="reference internal" href="#recordrequestobject">RecordRequestObject</a> .</p>
</div>
</div>
<div class="section" id="id7">
<h4>Examples<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Request a mix(config and stats) of records record using a regex, no errors:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.sca*&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv&quot;</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
               <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
               <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;355&quot;</span><span class="p">,</span>
               <span class="nt">&quot;config_meta&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;access_type&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_status&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_type&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;checktype&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span><span class="s2">&quot;null&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
               <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;FLOAT&quot;</span><span class="p">,</span>
               <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
            <span class="p">}</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.process.http.total_client_connections_ipv4&quot;</span><span class="p">,</span>
               <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;4&quot;</span><span class="p">,</span>
               <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;9&quot;</span><span class="p">,</span>
               <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;7&quot;</span><span class="p">,</span>
               <span class="nt">&quot;stat_meta&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
               <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
               <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;COUNTER&quot;</span><span class="p">,</span>
               <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span>
            <span class="p">}</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.process.http.total_client_connections_ipv6&quot;</span><span class="p">,</span>
               <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;4&quot;</span><span class="p">,</span>
               <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;10&quot;</span><span class="p">,</span>
               <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;8&quot;</span><span class="p">,</span>
               <span class="nt">&quot;stat_meta&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
               <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
               <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;COUNTER&quot;</span><span class="p">,</span>
               <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">]</span>
      <span class="p">,</span><span class="nt">&quot;errorList&quot;</span><span class="p">:[]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Request a configuration record using a regex with some errors coming back:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.sca*&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
            <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">987</span><span class="p">],</span>
            <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv&quot;</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Note the invalid <code class="docutils literal notranslate"><span class="pre">rec_type</span></code> at line <code class="docutils literal notranslate"><span class="pre">11</span></code></p>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
               <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
               <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;355&quot;</span><span class="p">,</span>
               <span class="nt">&quot;config_meta&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;access_type&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_status&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_type&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;checktype&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span><span class="s2">&quot;null&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
               <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;FLOAT&quot;</span><span class="p">,</span>
               <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;2008&quot;</span><span class="p">,</span>
            <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;Invalid request data provided&quot;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>We get a valid record that was found based on the passed criteria, <code class="docutils literal notranslate"><span class="pre">proxy.config.exec_thread.autoconfig.sca*</span></code> and the <code class="docutils literal notranslate"><span class="pre">rec_type</span></code> <em>1</em>.
Also we get a particular error that was caused by the invalid rec types <code class="docutils literal notranslate"><span class="pre">987</span></code></p>
</li>
<li><p>Request all config records</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>

      <span class="nt">&quot;record_name_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;.*&quot;</span><span class="p">,</span>
      <span class="nt">&quot;rec_types&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>

   <span class="p">}]</span>

<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p><em>Note the `.*` regex we use to match them all. `rec_types` refer to ``RecT` , which in this case we are interested in `CONFIG`
records and `LOCAL` records.</em></p>
<p>Response:</p>
<p>All the configuration records. See <a class="reference internal" href="#recordresponse">RecordResponse</a>. The JSONRPC record handler is not limiting the response size.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It will retrieve ALL the configuration records, keep in mind that it might be a large response.</p>
</div>
</div>
</div>
<div class="section" id="admin-config-set-records">
<h3>admin_config_set_records<a class="headerlink" href="#admin-config-set-records" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id8">
<h4>Description<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>Set a value for a particular record.</p>
</div>
<div class="section" id="id9">
<h4>Parameters<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 9%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">record_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>The name of the record that wants to be updated.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">new_value</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>The associated record value. Use always a <code class="docutils literal notranslate"><span class="pre">string</span></code> as the internal library will translate to the appropriate type.</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
      <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
      <span class="nt">&quot;record_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.5&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id10">
<h4>Result<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>A list of updated record names. <a class="reference internal" href="#recorderrorobject-enum"><span class="std std-ref">JSONRPC Record Errors</span></a> will be included.</p>
</div>
<div class="section" id="id11">
<h4>Examples<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;a32de1da-08be-11eb-9e1e-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_config_set_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_value&quot;</span><span class="p">:</span> <span class="s2">&quot;1.3&quot;</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:[</span>
      <span class="p">{</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.exec_thread.autoconfig.scale&quot;</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;a32de1da-08be-11eb-9e1e-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="admin-config-reload">
<span id="id12"></span><h3>admin_config_reload<a class="headerlink" href="#admin-config-reload" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id13">
<h4>Description<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p>Instruct Traffic Server to start the reloading process. You can find more information about config reload here(add link TBC)</p>
</div>
<div class="section" id="id14">
<h4>Parameters<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: Omitted</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no need to add any parameters here.</p>
</div>
</div>
<div class="section" id="id15">
<h4>Result<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">string</span></code> with the success message indicating that the command was acknowledged by the server.</p>
</div>
<div class="section" id="id16">
<h4>Examples<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;89fc5aea-0740-11eb-82c0-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_config_reload&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
<p>Validation:</p>
<p>You can request for the record <cite>proxy.node.config.reconfigure_time</cite> which will be updated with the time of the requested update.</p>
</div>
</div>
</div>
<div class="section" id="metrics">
<span id="jsonrpc-api-management-metrics"></span><h2>Metrics<a class="headerlink" href="#metrics" title="Permalink to this headline">¶</a></h2>
<div class="section" id="admin-clear-metrics-records">
<h3>admin_clear_metrics_records<a class="headerlink" href="#admin-clear-metrics-records" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id17">
<h4>Description<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<p>Clear one or more metric values. This API will take the incoming metric names and reset their associated value. The format for the incoming
request should follow the  <a class="reference internal" href="#recordrequest">RecordRequest</a> .</p>
</div>
<div class="section" id="id18">
<h4>Parameters<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: A list of <a class="reference internal" href="#recordrequest">RecordRequest</a> objects.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only the <code class="docutils literal notranslate"><span class="pre">rec_name</span></code> will be used, if this is not provided, the API will report it back as part of the <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> .</p>
</div>
</div>
<div class="section" id="id19">
<h4>Result<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<p>This api will only inform for errors during the metric update, all errors will be inside the  <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a> object.
Successfully metric updates will not report back to the client. So it can be assumed that the records were properly updated.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As per our internal API if the metric could not be updated because there is no change in the value, ie: it’s already <code class="docutils literal notranslate"><span class="pre">0</span></code> this will be reported back to the client as part of the  <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a></p>
</div>
</div>
<div class="section" id="id20">
<h4>Examples<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_clear_metrics_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.http.total_client_connections_ipv6&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_intervi_should_fail&quot;</span>
         <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;2006&quot;</span><span class="p">,</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.config.log.rolling_intervi_should_fail&quot;</span>
      <span class="p">}]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="admin-clear-all-metrics-records">
<h3>admin_clear_all_metrics_records<a class="headerlink" href="#admin-clear-all-metrics-records" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id21">
<h4>Description<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<p>Clear all the metrics.</p>
</div>
<div class="section" id="id22">
<h4>Parameters<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: This can be Omitted</p></li>
</ul>
</div>
<div class="section" id="id23">
<h4>Result<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<p>This api will only inform for errors during the metric update. Errors will be tracked down in the <a class="reference internal" href="jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a> field.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As per our internal API if the metric could not be updated because there is no change in the value, ie: it’s already <code class="docutils literal notranslate"><span class="pre">0</span></code> this
will be reported back to the client as part of the  <a class="reference internal" href="#recorderrorobject">RecordErrorObject</a></p>
</div>
</div>
<div class="section" id="id24">
<h4>Examples<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;dod7018e-0720-11eb-abe2-001fc69cc997&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_clear_all_metrics_records&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div>
</div>
<div class="section" id="admin-host-set-status">
<h3>admin_host_set_status<a class="headerlink" href="#admin-host-set-status" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id25">
<h4>Description<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<p>A stat to track status is created for each host. The name is the host fqdn with a prefix of <cite>proxy.process.host_status</cite>. The value of
the stat is a string which is the serialized representation of the status. This contains the overall status and the status for each reason.
The stats may be viewed using the <a class="reference internal" href="#admin-lookup-records">admin_lookup_records</a> rpc api or through the <code class="docutils literal notranslate"><span class="pre">stats_over_http</span></code> endpoint.</p>
</div>
<div class="section" id="id26">
<h4>Parameters<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">operation</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>The name of the record that is meant to be updated.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">host</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array[string]</span></code></p></td>
<td><p>A list of hosts that we want to interact with.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">reason</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Reason for the operation.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">time</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Set the duration of an operation to <code class="docutils literal notranslate"><span class="pre">count</span></code> seconds. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> means no duration, the
condition persists until explicitly changed. The default is <code class="docutils literal notranslate"><span class="pre">0</span></code> if an operation requires a time
and none is provided by this option. optional when <code class="docutils literal notranslate"><span class="pre">op=up</span></code></p></td>
</tr>
</tbody>
</table>
<p>operation:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">up</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Marks the listed hosts as <code class="docutils literal notranslate"><span class="pre">up</span></code> so that they will be available for use as a next hop parent. Use
<code class="docutils literal notranslate"><span class="pre">reason</span></code> to mark the host reason code. The ‘self_detect’ is an internal reason code
used by parent selection to mark down a parent when it is identified as itself and</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">down</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Marks the listed hosts as down so that they will not be chosen as a next hop parent. If
<code class="docutils literal notranslate"><span class="pre">time</span></code> is included the host is marked down for the specified number of seconds after
which the host will automatically be marked up. A host is not marked up until all reason codes
are cleared by marking up the host for the specified reason code.</p></td>
</tr>
</tbody>
</table>
<p>reason:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">active</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Set the active health check reason.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">local</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Set the local health check reason.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">manual</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Set the administrative reason. This is the default reason if a reason is needed and not provided
by this option. If an invalid reason is provided <code class="docutils literal notranslate"><span class="pre">manual</span></code> will be defaulted.</p></td>
</tr>
</tbody>
</table>
<p>Internally the reason can be <code class="docutils literal notranslate"><span class="pre">self_detect</span></code> if
<a class="reference internal" href="../../admin-guide/files/records.config.en.html#proxy-config-http-parent-proxy-self-detect" title="records.config"><code class="xref ts ts-cv docutils literal notranslate"><span class="pre">proxy.config.http.parent_proxy.self_detect</span></code></a> is set to the value 2 (the default). This is
used to prevent parent selection from creating a loop by selecting itself as the upstream by
marking this reason as “down” in that case.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The up / down status values are independent, and a host is consider available if and only if
all of the statuses are “up”.</p>
</div>
</div>
<div class="section" id="id27">
<h4>Result<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div>
<div class="section" id="id28">
<h4>Examples<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;c6d56fba-0cbd-11eb-926d-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_host_set_status&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;operation&quot;</span><span class="p">:</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
      <span class="nt">&quot;host&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;host1&quot;</span><span class="p">],</span>
      <span class="nt">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
      <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;100&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;c6d56fba-0cbd-11eb-926d-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="getting-the-host-status">
<h4>Getting the host status<a class="headerlink" href="#getting-the-host-status" title="Permalink to this headline">¶</a></h4>
<p>Get the current status of the specified hosts with respect to their use as targets for parent selection. This returns the same
information as the per host stat.</p>
<p>Although there is no specialized API that you can call to get a status from a particular host you can work away by pulling the right records.
For instance, the <code class="docutils literal notranslate"><span class="pre">host1</span></code>  that we just set up can be easily fetch for a status:</p>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.host_status.host1&quot;</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ded7018e-0720-11eb-abe2-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy.process.host_status.host1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_type&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;1134&quot;</span><span class="p">,</span>
            <span class="nt">&quot;stat_meta&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;persist_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;record_class&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
            <span class="nt">&quot;overridable&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;data_type&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
            <span class="nt">&quot;current_value&quot;</span><span class="p">:</span> <span class="s2">&quot;HOST_STATUS_UP,ACTIVE:UP:0:0,LOCAL:UP:0:0,MANUAL:UP:0:0,SELF_DETECT:UP:0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;HOST_STATUS_UP,ACTIVE:UP:0:0,LOCAL:UP:0:0,MANUAL:UP:0:0,SELF_DETECT:UP:0&quot;</span>
         <span class="p">}</span>
      <span class="p">}]</span>
      <span class="p">,</span><span class="nt">&quot;errorList&quot;</span><span class="p">:[]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="admin-server-stop-drain">
<h3>admin_server_stop_drain<a class="headerlink" href="#admin-server-stop-drain" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id29">
<h4>Description<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<p>Stop the drain requests process. Recover server from the drain mode</p>
</div>
<div class="section" id="id30">
<h4>Parameters<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: Omitted</p></li>
</ul>
</div>
<div class="section" id="id31">
<h4>Result<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div>
<div class="section" id="id32">
<h4>Examples<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h4>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;35f0b246-0cc4-11eb-9a79-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_server_stop_drain&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="admin-server-start-drain">
<h3>admin_server_start_drain<a class="headerlink" href="#admin-server-start-drain" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id33">
<h4>Description<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h4>
<p>Drain TS requests.</p>
</div>
<div class="section" id="id34">
<h4>Parameters<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 9%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">no_new_connections</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Wait for new connections down to threshold before starting draining, <code class="docutils literal notranslate"><span class="pre">yes|true|1</span></code>. Not yet supported</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id35">
<h4>Result<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Server is already running a proper error will be sent back to the client.</p>
</div>
</div>
<div class="section" id="id36">
<h4>Examples<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;30700808-0cc4-11eb-b811-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_server_start_drain&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;no_new_connections&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response could be either:</p>
<ol class="arabic simple">
<li><p>The response will contain the default <cite>success_response</cite></p></li>
<li><p>Response from a server that is already in drain mode.</p></li>
</ol>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;30700808-0cc4-11eb-b811-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="p">{</span>

      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Error during execution&quot;</span><span class="p">,</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>

         <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
         <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Server already draining.&quot;</span>
         <span class="p">}]</span>

   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="admin-plugin-send-basic-msg">
<h3>admin_plugin_send_basic_msg<a class="headerlink" href="#admin-plugin-send-basic-msg" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id37">
<h4>Description<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<p>Interact with plugins. Send a message to plugins. All plugins that have hooked the <code class="docutils literal notranslate"><span class="pre">TSLifecycleHookID::TS_LIFECYCLE_MSG_HOOK</span></code> will receive a callback for that hook.
The <em>tag</em> and <em>data</em> will be available to the plugin hook processing. It is expected that plugins will use <em>tag</em> to select relevant messages and determine the format of the <em>data</em>.</p>
</div>
<div class="section" id="id38">
<h4>Parameters<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 9%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tag</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>A tag name that will be read by the interested plugin</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">data</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Data to be send, this is <code class="docutils literal notranslate"><span class="pre">optional</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id39">
<h4>Result<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<p>The response will contain the default <cite>success_response</cite>  or an <a class="reference internal" href="jsonrpc-architecture.en.html#_CPPv412RPCErrorCode" title="RPCErrorCode"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">RPCErrorCode</span></code></a>.</p>
</div>
<div class="section" id="id40">
<h4>Examples<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;19095bf2-0d3b-11eb-b41a-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_plugin_send_basic_msg&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;ping&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;pong&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
</div>
<div class="section" id="admin-storage-get-device-status">
<h3>admin_storage_get_device_status<a class="headerlink" href="#admin-storage-get-device-status" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id41">
<h4>Description<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<p>Show the storage configuration.</p>
</div>
<div class="section" id="id42">
<h4>Parameters<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h4>
<p>A list of <code class="docutils literal notranslate"><span class="pre">string</span></code> names for the specific storage we want to interact with. The storage identification used in the param list should match
exactly a path  specified in <a class="reference internal" href="../../admin-guide/files/storage.config.en.html#std-configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</p>
</div>
<div class="section" id="id43">
<h4>Result<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h4>
<p>cachedisk</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 10%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><dl class="simple">
<dt>Storage identification.  The storage is identified by <em>path</em> which must match exactly a</dt><dd><p>path specified in <a class="reference internal" href="../../admin-guide/files/storage.config.en.html#std-configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">status</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Disk status. <code class="docutils literal notranslate"><span class="pre">online</span></code> or <code class="docutils literal notranslate"><span class="pre">offline</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">error_count</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Number of errors on the particular disk.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id44">
<h4>Examples<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;8574edba-0d40-11eb-b2fb-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_storage_get_device_status&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;/some/path/to/ats/trafficserver/cache.db&quot;</span><span class="p">,</span> <span class="s2">&quot;/some/path/to/ats/var/to_remove/cache.db&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[{</span>
         <span class="nt">&quot;cachedisk&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/some/path/to/ats/trafficserver/cache.db&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
            <span class="nt">&quot;error_count&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;cachedisk&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/some/path/to/ats/var/to_remove/cache.db&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
            <span class="nt">&quot;error_count&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;8574edba-0d40-11eb-b2fb-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="admin-storage-set-device-offline">
<h3>admin_storage_set_device_offline<a class="headerlink" href="#admin-storage-set-device-offline" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id45">
<h4>Description<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h4>
<p>Mark a cache storage device as <code class="docutils literal notranslate"><span class="pre">offline</span></code>. The storage is identified by <em>path</em> which must match exactly a path specified in
<a class="reference internal" href="../../admin-guide/files/storage.config.en.html#std-configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>. This removes the storage from the cache and redirects requests that would have used this storage to
other storage. This has exactly the same effect as a disk failure for that storage. This does not persist across restarts of the
<strong class="program">traffic_server</strong> process.</p>
</div>
<div class="section" id="id46">
<h4>Parameters<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h4>
<p>A list of <code class="docutils literal notranslate"><span class="pre">string</span></code> names for the specific storage we want to interact with. The storage identification used in the param list should match
exactly a path  specified in <a class="reference internal" href="../../admin-guide/files/storage.config.en.html#std-configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</p>
</div>
<div class="section" id="id47">
<h4>Result<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h4>
<p>A list of <em>object</em> which the following fields:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 10%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Storage identification.  The storage is identified by <em>path</em> which must match exactly a
path specified in <a class="reference internal" href="../../admin-guide/files/storage.config.en.html#std-configfile-storage.config"><code class="xref std std-file docutils literal notranslate"><span class="pre">storage.config</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">has_online_storage_left</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>A flag indicating if there is any online storage left after this operation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id48">
<h4>Examples<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;53dd8002-0d43-11eb-be00-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_storage_set_device_offline&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;/some/path/to/ats/var/to_remove/cache.db&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/some/path/to/ats/var/to_remove/cache.db&quot;</span><span class="p">,</span>
      <span class="nt">&quot;has_online_storage_left&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span>
   <span class="p">}],</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;53dd8002-0d43-11eb-be00-001fc69cc946&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="show-registered-handlers">
<h3>show_registered_handlers<a class="headerlink" href="#show-registered-handlers" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id49">
<h4>Description<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h4>
<p>List all the registered RPC public handlers.</p>
</div>
<div class="section" id="id50">
<h4>Parameters<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: Omitted</p></li>
</ul>
</div>
<div class="section" id="id51">
<h4>Result<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h4>
<p>An <em>object</em> with the following fields:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 17%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">methods</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>A list of exposed method handler names.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">notifications</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>A list of exposed notification handler names.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id52">
<h4>Examples<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;f4477ac4-0d44-11eb-958d-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;show_registered_handlers&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;f4477ac4-0d44-11eb-958d-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;methods&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;admin_host_set_status&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_server_stop_drain&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_server_start_drain&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_clear_metrics_records&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_clear_all_metrics_records&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_plugin_send_basic_msg&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_config_set_records&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_storage_get_device_status&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_storage_set_device_offline&quot;</span><span class="p">,</span>
            <span class="s2">&quot;admin_config_reload&quot;</span><span class="p">,</span>
            <span class="s2">&quot;show_registered_handlers&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;notifications&quot;</span><span class="p">:</span> <span class="p">[]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="get-service-descriptor">
<h3>get_service_descriptor<a class="headerlink" href="#get-service-descriptor" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id53">
<h4>Description<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h4>
<p>List and describe all the registered RPC handler.</p>
</div>
<div class="section" id="id54">
<h4>Parameters<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: Omitted</p></li>
</ul>
</div>
<div class="section" id="id55">
<h4>Result<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h4>
<p>An <em>object</em> with the following fields:</p>
<p><code class="docutils literal notranslate"><span class="pre">methods</span></code> object</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 18%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Handler’s name. Call name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Either ‘method’ or ‘notification’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">provider</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Provider’s information.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">schema</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>A json-schema definition</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id56">
<h4>Examples<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;f4477ac4-0d44-11eb-958d-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;get_service_descriptor&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
<span class="nt">&quot;result&quot;</span><span class="p">:{</span>
   <span class="nt">&quot;methods&quot;</span><span class="p">:[</span>
      <span class="p">{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;admin_host_set_status&quot;</span><span class="p">,</span>
         <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;method&quot;</span><span class="p">,</span>
         <span class="nt">&quot;provider&quot;</span><span class="p">:</span><span class="s2">&quot;Traffic Server JSONRPC 2.0 API&quot;</span><span class="p">,</span>
         <span class="nt">&quot;schema&quot;</span><span class="p">:{</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;some_plugin_call&quot;</span><span class="p">,</span>
         <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;notification&quot;</span><span class="p">,</span>
         <span class="nt">&quot;provider&quot;</span><span class="p">:</span><span class="s2">&quot;ABC Plugin&#39;s details.&quot;</span><span class="p">,</span>
         <span class="nt">&quot;schema&quot;</span><span class="p">:{</span>
         <span class="p">}</span>
      <span class="p">}]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="filemanager-get-files-registry">
<span id="id57"></span><h3>filemanager.get_files_registry<a class="headerlink" href="#filemanager-get-files-registry" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code></p>
<div class="section" id="id58">
<h4>Description<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h4>
<p>Fetch the registered config files within ATS. All configured files in the system will be retrieved by this API. This basically drops
the <cite>FileManager</cite> binding files. File Manager keeps track of all the configured files in Traffic Server.</p>
</div>
<div class="section" id="id59">
<h4>Parameters<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: Omitted</p></li>
</ul>
</div>
<div class="section" id="id60">
<h4>Result<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h4>
<p>An list of <em>object</em> with the following fields:</p>
<p><code class="docutils literal notranslate"><span class="pre">config_registry</span></code> object:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 8%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">file_path</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>File path, includes the full path and the file name configured in the record config name(if it’s the case)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">config_record_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Internal record config variable name.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">parent_config</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Parent’s configuration file name. e.g. If a top level remap.config includes additional mapping files,
then the top level file will be set in this field.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">root_access_needed</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Elevated access needed.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">is_required</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>If it’s required by Traffic Server. This specifies if Traffic Server treat this file as required to start the system(e.g. storage.config)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id61">
<h4>Examples<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h4>
<p>Request:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;14c10697-5b09-40f6-b7e5-4be85f64aa5e&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;filemanager.get_files_registry&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Response:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;config_registry&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;file_path&quot;</span><span class="p">:</span><span class="s2">&quot;/home/xyz/ats/etc/trafficserver/sni.yaml&quot;</span><span class="p">,</span>
            <span class="nt">&quot;config_record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.ssl.servername.filename&quot;</span><span class="p">,</span>
            <span class="nt">&quot;parent_config&quot;</span><span class="p">:</span><span class="s2">&quot;N/A&quot;</span><span class="p">,</span>
            <span class="nt">&quot;root_access_needed&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;is_required&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;file_path&quot;</span><span class="p">:</span><span class="s2">&quot;/home/xyz/ats/etc/trafficserver/storage.config&quot;</span><span class="p">,</span>
            <span class="nt">&quot;config_record_name&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;parent_config&quot;</span><span class="p">:</span><span class="s2">&quot;N/A&quot;</span><span class="p">,</span>
            <span class="nt">&quot;root_access_needed&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;is_required&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;file_path&quot;</span><span class="p">:</span><span class="s2">&quot;/home/xyz/ats/etc/trafficserver/jsonrpc3.yaml&quot;</span><span class="p">,</span>
            <span class="nt">&quot;config_record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.jsonrpc.filename&quot;</span><span class="p">,</span>
            <span class="nt">&quot;parent_config&quot;</span><span class="p">:</span><span class="s2">&quot;N/A&quot;</span><span class="p">,</span>
            <span class="nt">&quot;root_access_needed&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="nt">&quot;is_required&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="jsonrpc-node.en.html" class="btn btn-neutral float-right" title="JSONRPC Endpoint" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="jsonrpc-architecture.en.html" class="btn btn-neutral float-left" title="Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, dev@trafficserver.apache.org.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>
 


</body>
</html>