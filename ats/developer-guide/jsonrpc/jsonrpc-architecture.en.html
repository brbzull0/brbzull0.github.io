


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Architecture &mdash; Apache Traffic Server 10.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="API" href="jsonrpc-api.en.html" />
    <link rel="prev" title="JSONRPC" href="index.en.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Apache Traffic Server
          

          
            
            <img src="../../_static/trans_logo_tm_380x69.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.en.html">Administrator’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.en.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-process/index.en.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/index.en.html">Contributing to Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing-with-vagrant/index.en.html">Using Vagrant to Test Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging/index.en.html">Debugging and Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../threads-and-events.en.html">Threads and Event Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cache-architecture/index.en.html">Cache Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging-architecture/index.en.html">Logging Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal-libraries/index.en.html">Internal libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.en.html">Plugin Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-vars.en.html">Configuration Variable Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/index.en.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../continuous-integration/index.en.html">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.en.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../host-resolution-proposal.en.html">Host Resolution Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-session-architecture.en.html">An Overview Client Sessions and Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-architecture/index.en.html">Core Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design-documents/index.en.html">Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/index.en.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/index.en.html">Testing Traffic Server</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.en.html">JSONRPC</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#protocol">Protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="#server">Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-jsonrpc-mechanism">Using the JSONRPC mechanism</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-parsing">JSON Parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jsonrpc-2-0-protocol">JSONRPC 2.0 Protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#development-guide">Development Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-api.en.html">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-node.en.html">JSONRPC Endpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-handler-development.en.html">Handler implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsonrpc-client-api.en.html">Traffic Server JSONRPC Node C++ Client Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="traffic_ctl-development.en.html">Traffic Control Development Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="HandlerError.en.html">API Handler error codes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/index.en.html">Appendices</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Apache Traffic Server</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.en.html">Developer’s Guide</a> &raquo;</li>
        
          <li><a href="index.en.html">JSONRPC</a> &raquo;</li>
        
      <li>Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/developer-guide/jsonrpc/jsonrpc-architecture.en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="architecture">
<h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<div class="section" id="protocol">
<h2>Protocol<a class="headerlink" href="#protocol" title="Permalink to this headline">¶</a></h2>
<p>The RPC mechanism implements the  <a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC</a> protocol. You can refer to this section <a class="reference internal" href="#jsonrpc-protocol">jsonrpc-protocol</a> for more information.</p>
</div>
<div class="section" id="server">
<h2>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ipc">
<span id="jsonrpc-architecture-ipc"></span><h3>IPC<a class="headerlink" href="#ipc" title="Permalink to this headline">¶</a></h3>
<p>The current server implementation runs on an IPC Socket(Unix Domain Socket). This server implements an iterative server style.
The implementation runs on a dedicated <code class="docutils literal notranslate"><span class="pre">TSThread</span></code> and as their style express, this performs blocking calls to all the registered handlers.
Configuration for this particular server style can be found in the admin section <a class="reference internal" href="../../admin-guide/jsonrpc/index.en.html#admnin-jsonrpc-configuration"><span class="std std-ref">Configuration</span></a>.</p>
</div>
</div>
<div class="section" id="using-the-jsonrpc-mechanism">
<h2>Using the JSONRPC mechanism<a class="headerlink" href="#using-the-jsonrpc-mechanism" title="Permalink to this headline">¶</a></h2>
<p>As a user, currently,  <strong class="program">traffic_ctl</strong> exercises this new protocol, please refer to the <a class="reference internal" href="../../appendices/command-line/traffic_ctl_jsonrpc.en.html#traffic-ctl-jsonrpc"><span class="std std-ref">traffic_ctl</span></a> section.</p>
<p>As a developer, please refer to the <a class="reference internal" href="jsonrpc-handler-development.en.html#jsonrpc-development"><span class="std std-ref">Handler implementation</span></a> for a more detailed guide.</p>
</div>
<div class="section" id="json-parsing">
<h2>JSON Parsing<a class="headerlink" href="#json-parsing" title="Permalink to this headline">¶</a></h2>
<p>Our JSONRPC  protocol implementation uses lib yamlcpp for parsing incoming and outgoing requests,
this allows the server to accept either JSON or YAML format messages which then will be parsed by the protocol implementation. This seems handy
for user that want to feed Traffic Server with existing yaml configuration without the need to translate yaml into json.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong class="program">traffic_ctl</strong> have an option to read files from disc and push them into Traffic Server through the RPC server. Files should be a
valid <a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC</a> message. Please check <cite>traffic_ctl rpc</cite> for more details.</p>
</div>
<p>In order to programs communicate with Traffic Server , This one implements a simple RPC mechanism to expose all the registered API handlers.</p>
<p>You can check all current API by:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>traffic_ctl rpc get-api
</pre></div>
</div>
</div></blockquote>
<p>or by using the <code class="docutils literal notranslate"><span class="pre">show_registered_handlers</span></code> API method.</p>
</div>
<div class="section" id="jsonrpc-2-0-protocol">
<span id="jsonrpc-protocol"></span><h2>JSONRPC 2.0 Protocol<a class="headerlink" href="#jsonrpc-2-0-protocol" title="Permalink to this headline">¶</a></h2>
<p>JSON-RPC is a stateless, light-weight remote procedure call (RPC) protocol. Primarily this specification defines several data structures
and the rules around their processing. It is transport agnostic in that the concepts can be used within the same process, over sockets,
over http, or in many various message passing environments. It uses JSON (<a class="reference external" href="https://tools.ietf.org/html/rfc4627.html">RFC 4627</a>) as data format.</p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although most of the protocol specs are granted, we have implemented some exceptions. All the modifications will be properly documented.</p>
</div>
<p>There are a set  of mandatory fields that must be included in a <a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC</a> message as well as some optional fields, all this is documented here,
you also can find this information in the <a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC</a> link.</p>
<div class="section" id="requests">
<span id="jsonrpc-request"></span><h3>Requests<a class="headerlink" href="#requests" title="Permalink to this headline">¶</a></h3>
<p>Please find the <cite>jsonrpc 2.0 request</cite> schema for reference ( <cite>mgmt2/rpc/schema/jsonrpc_request_schema.json</cite> ).</p>
<ul>
<li><p>Mandatory fields.</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 6%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">jsonrpc</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Protocol version. Traffic Server follows the version 2.0 so this field should be only <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">method</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>Method name that is intended to be invoked.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p>Optional parameters:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>:</p>
<blockquote>
<div><p>A Structured value that holds the parameter values to be used during the invocation of the method. This member
may be omitted. If passed then a parameters for the rpc call must be provided as a Structured value.
Either by-position through an Array or by-name through an Object.</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">by-position</span></code> <em>array</em></p>
<p>params must be an <code class="docutils literal notranslate"><span class="pre">array</span></code>, containing the values in the server expected order.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;apache&quot;</span><span class="p">,</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span> <span class="s2">&quot;server&quot;</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Apache&quot;</span>
   <span class="p">},{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Traffic&quot;</span>
   <span class="p">},{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Server&quot;</span>
   <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">by-name</span></code>: <em>object</em></p>
<p>Params must be an <code class="docutils literal notranslate"><span class="pre">object</span></code>, with member names that match the server expected parameter names.
The absence of expected names may result in an error being generated by the server. The names must
match exactly, including case, to the method’s expected parameters.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Apache&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: <code class="docutils literal notranslate"><span class="pre">string</span></code>.</p>
<blockquote>
<div><p>An identifier established by the Client. If present, the request will be treated as a jsonrpc method and a
response should be expected from the server. If it is not present, the server will treat the request as a
notification and the client should not expect any response back from the server.
<em>Although a |number| can  be specified here we will convert this internally to a |str|. The response will be a |str|.</em></p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The JSONRPC 2.0 protocol supports batch requests so, multiple independent requests can be send to the server in a single json message. Batch
request are basically an array of the above request, simply enclose them as an array <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">..</span> <span class="pre">]</span></code>. The response for batch requests will be also
in a form of an array.</p>
</div>
</div>
<div class="section" id="responses">
<span id="jsonrpc-response"></span><h3>Responses<a class="headerlink" href="#responses" title="Permalink to this headline">¶</a></h3>
<p>Although each individual API call will describe the response details and some specific errors, in this section we will describe a high
level protocol response, some defined by the <a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC</a> specs and some by Traffic Server</p>
<p>Please find the <cite>jsonrpc 2.0 response</cite> schema for reference( <cite>mgmt2/rpc/schema/jsonrpc_response_schema.json</cite> ).</p>
<p>The responses have the following structure:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 8%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">jsonrpc</span></code></p></td>
<td><p><em>string|number</em></p></td>
<td><p>A Number that indicates the error type that occurred.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">result</span></code></p></td>
<td></td>
<td><p>Result of the invoked operation. See <a class="reference internal" href="#jsonrpc-result">jsonrpc-result</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
<td><p><em>string|number</em></p></td>
<td><p>It will be the same as the value of the id member in the <a class="reference internal" href="#jsonrpc-request">jsonrpc-request</a> .
We will not be using <cite>null</cite> if the <cite>id</cite> could not be fetch from the request,
in that case the field will not be set.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></td>
<td><p><em>object</em></p></td>
<td><p>Error object, it will be present in case of an error. See <a class="reference internal" href="#jsonrpc-error">jsonrpc-error</a></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Example 1:</p>
<p>Request</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;9&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Response</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;error&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>
      <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;Missing method field&quot;</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;9&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>As the protocol specifies Traffic Server have their own set of error, in the example above it’s clear that the incoming request is missing
the method name, which Traffic Server sends a clear response error back.</p>
</div>
<div class="section" id="result">
<span id="jsonrpc-result"></span><h3>Result<a class="headerlink" href="#result" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>This member is required and will be present on success.</p></li>
<li><p>This member will not exist if there was an error invoking the method.</p></li>
<li><p>The value of this member is determined by the method invoked on the Server.</p></li>
</ul>
<p>In Traffic Server a RPC method that does not report any error and have nothing to send back to the client will use the following format to
express that the call was successfully handled and the command was executed.</p>
<p id="success-response">Example:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;89fc5aea-0740-11eb-82c0-001fc69cc946&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
<span class="hll">   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
</span><span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">&quot;result&quot;:</span> <span class="pre">&quot;success&quot;</span></code> will be set.</p>
</div>
<div class="section" id="errors">
<span id="jsonrpc-error"></span><h3>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h3>
<p>The specs define the error fields that the client must expect to be sent back from the Server in case of any error.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 6%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">code</span></code></p></td>
<td><p><em>number</em></p></td>
<td><p>A Number that indicates the error type that occurred.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>A String providing a short description of the error.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">data</span></code></p></td>
<td><p><em>object</em></p></td>
<td><p>This is an optional field that contains additional error data. Depending on the API this could contain data.</p></td>
</tr>
</tbody>
</table>
<p># data.</p>
<p>This can be used for nested error so Traffic Server can inform a detailed error.</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 12%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">code</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>The error code. Integer type.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>The explanatory string for this error.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Examples:</p>
<p># Fetch a config record response from Traffic Server</p>
<p>Request:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;0f0780a5-0758-4f51-a177-752facc7c0eb&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:[</span>
      <span class="p">{</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.diags.debug.tags&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;16&quot;</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Response:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;recordList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;record&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;proxy.config.diags.debug.tags&quot;</span><span class="p">,</span>
               <span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
               <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;raw_stat_block&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
               <span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="s2">&quot;423&quot;</span><span class="p">,</span>
               <span class="nt">&quot;config_meta&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;access_type&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_status&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;update_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;checktype&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;check_expr&quot;</span><span class="p">:</span><span class="s2">&quot;null&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;record_class&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
               <span class="nt">&quot;overridable&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
               <span class="nt">&quot;data_type&quot;</span><span class="p">:</span><span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
               <span class="nt">&quot;current_value&quot;</span><span class="p">:</span><span class="s2">&quot;rpc&quot;</span><span class="p">,</span>
               <span class="nt">&quot;default_value&quot;</span><span class="p">:</span><span class="s2">&quot;http|dns&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;0f0780a5-0758-4f51-a177-752facc7c0eb&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p># Getting errors from Traffic Server</p>
<p>Request an invalid record (invalid name)</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;f212932f-b260-4f01-9648-8332200524cc&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;admin_lookup_records&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:[</span>
      <span class="p">{</span>
         <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;invalid.record&quot;</span><span class="p">,</span>
         <span class="nt">&quot;rec_types&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;16&quot;</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Response:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;errorList&quot;</span><span class="p">:[</span>
         <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;2000&quot;</span><span class="p">,</span>
            <span class="nt">&quot;record_name&quot;</span><span class="p">:</span><span class="s2">&quot;invalid.record&quot;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">},</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;f212932f-b260-4f01-9648-8332200524cc&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Parse Error from an incomplete request</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">{[[</span> <span class="n">invalid</span> <span class="n">json</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;error&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="mi">-32700</span><span class="p">,</span>
      <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;Parse error&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Invalid method invocation.</p>
<p>Request:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;f212932f-b260-4f01-9648-8332200524cc&quot;</span><span class="p">,</span>
   <span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;some_non_existing_method&quot;</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:{</span>

   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Response:</p>
<blockquote>
<div></div></blockquote>
<p id="rpc-error-code">Internally we have defined an <code class="docutils literal notranslate"><span class="pre">enum</span></code> class that keeps track of the errors that the server will inform in most of the cases.
Some of this errors are already defined by the <a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC</a> specs and some (<code class="docutils literal notranslate"><span class="pre">&gt;=1</span></code>) are defined by Traffic Server.</p>
<dl class="cpp class">
<dt id="_CPPv412RPCErrorCode">
<span id="_CPPv312RPCErrorCode"></span><span id="_CPPv212RPCErrorCode"></span><span id="RPCErrorCode"></span><em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">RPCErrorCode</span></code><a class="headerlink" href="#_CPPv412RPCErrorCode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Defines the API error codes that will be used in case of any RPC error.</p>
<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode15INVALID_REQUESTE">
<span id="_CPPv3N12RPCErrorCode15INVALID_REQUESTE"></span><span id="_CPPv2N12RPCErrorCode15INVALID_REQUESTE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">INVALID_REQUEST</span></code> <span class="pre">=</span> <span class="pre">-</span><span class="pre">32600</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode15INVALID_REQUESTE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode16METHOD_NOT_FOUNDE">
<span id="_CPPv3N12RPCErrorCode16METHOD_NOT_FOUNDE"></span><span id="_CPPv2N12RPCErrorCode16METHOD_NOT_FOUNDE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">METHOD_NOT_FOUND</span></code> <span class="pre">=</span> <span class="pre">-</span><span class="pre">32601</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode16METHOD_NOT_FOUNDE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode14INVALID_PARAMSE">
<span id="_CPPv3N12RPCErrorCode14INVALID_PARAMSE"></span><span id="_CPPv2N12RPCErrorCode14INVALID_PARAMSE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">INVALID_PARAMS</span></code> <span class="pre">=</span> <span class="pre">-</span><span class="pre">32602</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode14INVALID_PARAMSE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode14INTERNAL_ERRORE">
<span id="_CPPv3N12RPCErrorCode14INTERNAL_ERRORE"></span><span id="_CPPv2N12RPCErrorCode14INTERNAL_ERRORE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">INTERNAL_ERROR</span></code> <span class="pre">=</span> <span class="pre">-</span><span class="pre">32603</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode14INTERNAL_ERRORE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode11PARSE_ERRORE">
<span id="_CPPv3N12RPCErrorCode11PARSE_ERRORE"></span><span id="_CPPv2N12RPCErrorCode11PARSE_ERRORE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">PARSE_ERROR</span></code> <span class="pre">=</span> <span class="pre">-</span><span class="pre">32700</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode11PARSE_ERRORE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><a class="reference external" href="https://www.jsonrpc.org/specification">JSONRPC</a> defined errors.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode14InvalidVersionE">
<span id="_CPPv3N12RPCErrorCode14InvalidVersionE"></span><span id="_CPPv2N12RPCErrorCode14InvalidVersionE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">InvalidVersion</span></code> <span class="pre">=</span> <span class="pre">1</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode14InvalidVersionE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The passed version is invalid. must be 2.0</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode18InvalidVersionTypeE">
<span id="_CPPv3N12RPCErrorCode18InvalidVersionTypeE"></span><span id="_CPPv2N12RPCErrorCode18InvalidVersionTypeE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">InvalidVersionType</span></code> <span class="pre">=</span> <span class="pre">2</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode18InvalidVersionTypeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The passed version field type is invalid. must be a <code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode14MissingVersionE">
<span id="_CPPv3N12RPCErrorCode14MissingVersionE"></span><span id="_CPPv2N12RPCErrorCode14MissingVersionE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">MissingVersion</span></code> <span class="pre">=</span> <span class="pre">3</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode14MissingVersionE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Version field is missing from the request. This field is mandatory.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode17InvalidMethodTypeE">
<span id="_CPPv3N12RPCErrorCode17InvalidMethodTypeE"></span><span id="_CPPv2N12RPCErrorCode17InvalidMethodTypeE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">InvalidMethodType</span></code> <span class="pre">=</span> <span class="pre">4</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode17InvalidMethodTypeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The passed method field type is invalid. must be a <code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode13MissingMethodE">
<span id="_CPPv3N12RPCErrorCode13MissingMethodE"></span><span id="_CPPv2N12RPCErrorCode13MissingMethodE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">MissingMethod</span></code> <span class="pre">=</span> <span class="pre">5</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode13MissingMethodE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Method field is missing from the request. This field is mandatory.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode16InvalidParamTypeE">
<span id="_CPPv3N12RPCErrorCode16InvalidParamTypeE"></span><span id="_CPPv2N12RPCErrorCode16InvalidParamTypeE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">InvalidParamType</span></code> <span class="pre">=</span> <span class="pre">6</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode16InvalidParamTypeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The passed parameter field type is not valid.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode13InvalidIdTypeE">
<span id="_CPPv3N12RPCErrorCode13InvalidIdTypeE"></span><span id="_CPPv2N12RPCErrorCode13InvalidIdTypeE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">InvalidIdType</span></code> <span class="pre">=</span> <span class="pre">7</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode13InvalidIdTypeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The passed id field type is invalid.</p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode6NullIdE">
<span id="_CPPv3N12RPCErrorCode6NullIdE"></span><span id="_CPPv2N12RPCErrorCode6NullIdE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">NullId</span></code> <span class="pre">=</span> <span class="pre">8</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode6NullIdE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The passed if is <code class="docutils literal notranslate"><span class="pre">null</span></code></p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12RPCErrorCode14ExecutionErrorE">
<span id="_CPPv3N12RPCErrorCode14ExecutionErrorE"></span><span id="_CPPv2N12RPCErrorCode14ExecutionErrorE"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">ExecutionError</span></code> <span class="pre">=</span> <span class="pre">9</span><a class="headerlink" href="#_CPPv4N12RPCErrorCode14ExecutionErrorE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>An error occurred during the execution of the RPC call. This error is used as a generic High level error. The details details about
the error, in most cases are specified in the <code class="docutils literal notranslate"><span class="pre">data</span></code> field.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="development-guide">
<h2>Development Guide<a class="headerlink" href="#development-guide" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>For details on how to implement JSONRPC  handler and expose them through the rpc server, please refer to <a class="reference internal" href="jsonrpc-handler-development.en.html#jsonrpc-development"><span class="std std-ref">Handler implementation</span></a>.</p></li>
<li><p>If you need to call a new JSONRPC API through <strong class="program">traffic_ctl</strong>, please refer to <a class="reference internal" href="traffic_ctl-development.en.html#developer-guide-traffic-ctl-development"><span class="std std-ref">Traffic Control Development Guide</span></a></p></li>
<li><p>To interact directly with the JSONRPC 2.0 node, please check <a class="reference internal" href="jsonrpc-node.en.html#jsonrpc-node"><span class="std std-ref">JSONRPC Endpoint</span></a></p></li>
</ul>
</div>
<div class="section" id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../admin-guide/jsonrpc/index.en.html#admnin-jsonrpc-configuration"><span class="std std-ref">Configuration</span></a>,
<a class="reference internal" href="../../appendices/command-line/traffic_ctl_jsonrpc.en.html#traffic-ctl-jsonrpc"><span class="std std-ref">traffic_ctl</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="jsonrpc-api.en.html" class="btn btn-neutral float-right" title="API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.en.html" class="btn btn-neutral float-left" title="JSONRPC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, dev@trafficserver.apache.org.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>
 


</body>
</html>