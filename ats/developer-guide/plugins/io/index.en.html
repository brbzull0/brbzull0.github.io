


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>IO &mdash; Apache Traffic Server 10.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Net Vconnections" href="net-vconnections.en.html" />
    <link rel="prev" title="Mutexes" href="../mutexes.en.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Apache Traffic Server
          

          
            
            <img src="../../../_static/trans_logo_tm_380x69.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.en.html">Administrator’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.en.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release-process/index.en.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/index.en.html">Contributing to Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing-with-vagrant/index.en.html">Using Vagrant to Test Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/index.en.html">Debugging and Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../threads-and-events.en.html">Threads and Event Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cache-architecture/index.en.html">Cache Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging-architecture/index.en.html">Logging Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../internal-libraries/index.en.html">Internal libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.en.html">Plugin Development</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../introduction.en.html">Plugin Development Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-plugins.en.html">Building Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration.en.html">Plugin Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plugin-management/index.en.html">Plugin Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../actions/index.en.html">Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hooks-and-transactions/index.en.html">Hooks and Transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../continuations/index.en.html">Continuations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mutexes.en.html">Mutexes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">IO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="net-vconnections.en.html">Net Vconnections</a></li>
<li class="toctree-l4"><a class="reference internal" href="transformations.en.html">Transformations</a></li>
<li class="toctree-l4"><a class="reference internal" href="vios.en.html">VIOs</a></li>
<li class="toctree-l4"><a class="reference internal" href="io-buffers.en.html">IO Buffers</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.en.html">Cache API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vconnections">Vconnections</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../http-headers/index.en.html">HTTP Headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../http-transformations/index.en.html">HTTP Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../remap-plugins.en.html">Remap Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../new-protocol-plugins.en.html">New Protocol Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plugin-interfaces.en.html">Plugin Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adding-statistics.en.html">Adding Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../example-plugins/index.en.html">Example Plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config-vars.en.html">Configuration Variable Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.en.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../continuous-integration/index.en.html">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentation/index.en.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../host-resolution-proposal.en.html">Host Resolution Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../client-session-architecture.en.html">An Overview Client Sessions and Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core-architecture/index.en.html">Core Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-documents/index.en.html">Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../layout/index.en.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/index.en.html">Testing Traffic Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/index.en.html">Appendices</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Apache Traffic Server</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.en.html">Developer’s Guide</a> &raquo;</li>
        
          <li><a href="../index.en.html">Plugin Development</a> &raquo;</li>
        
      <li>IO</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/developer-guide/plugins/io/index.en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="io">
<span id="developer-plugins-io"></span><h1>IO<a class="headerlink" href="#io" title="Permalink to this headline">¶</a></h1>
<p>This chapter contains the following sections:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="net-vconnections.en.html">Net Vconnections</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformations.en.html">Transformations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="transformations.en.html#vconnection-implementer-s-view">Vconnection Implementer’s View</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vios.en.html">VIOs</a></li>
<li class="toctree-l1"><a class="reference internal" href="io-buffers.en.html">IO Buffers</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache-api.en.html">Cache API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cache-api.en.html#cache-reads">Cache Reads</a></li>
<li class="toctree-l2"><a class="reference internal" href="cache-api.en.html#cache-writes">Cache Writes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cache-api.en.html#cache-removes">Cache Removes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cache-api.en.html#errors">Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="cache-api.en.html#example">Example</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="vconnections">
<span id="sdk-vconnections"></span><h2>Vconnections<a class="headerlink" href="#vconnections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="a-user-s-perspective">
<h3>A User’s Perspective<a class="headerlink" href="#a-user-s-perspective" title="Permalink to this headline">¶</a></h3>
<p>To use a vconnection, a user must first get a handle to one. This
is usually accomplished by having it handed to the user; the user
may also simply issue a call that creates a vconnection (such as
c:func:<cite>TSNetConnect</cite>). In the case of transform plugins, the plugin
creates a transformation vconnection viav <a class="reference internal" href="../../api/functions/TSTransformCreate.en.html#c.TSTransformCreate" title="TSTransformCreate"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSTransformCreate()</span></code></a>
and then accesses the output vconnection using
<a class="reference internal" href="../../api/functions/TSTransformOutputVConnGet.en.html#c.TSTransformOutputVConnGet" title="TSTransformOutputVConnGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSTransformOutputVConnGet()</span></code></a>.</p>
<p>After getting a handle to a vconnection, the user can then issue a read
or write call. It’s important to note that not all vconnections support
both reading and writing - as of yet, there has not been a need to query
a vconnection about whether it can perform a read or write operation.
That ability should be obvious from context.</p>
<p>To issue a read or write operation, a user calls <a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a> or
<a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a>. These two operations both return <code class="docutils literal notranslate"><span class="pre">VIO</span> <span class="pre">(TSVIO)</span></code>. The
VIO describes the operation being performed and how much progress has
been made. Transform plugins initiate output to the downstream
vconnection by calling <a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a>.</p>
<p>A vconnection read or write operation is different from a normal UNIX
<em class="manpage">read(2)</em> or <em class="manpage">write(2)</em> operation. Specifically, the vconnection
operation can specify more data to be read or written than exists in the
buffer handed to the operation. For example, it’s typical to issue a
read for <code class="docutils literal notranslate"><span class="pre">INT64_MAX</span></code> (9 quintillion) bytes from a network vconnection
in order to read all the data from the network connection until the end
of stream is reached. This contrasts with the usual UNIX fashion of
issuing repeated calls to <em class="manpage">read(2)</em> until one of the calls finally
returns <code class="docutils literal notranslate"><span class="pre">0</span></code> to indicate the end of stream was reached (indeed, the
underlying implementation of vconnections on UNIX still does issue those
calls to <em class="manpage">read(2)</em>, but the interface does not expose that detail).</p>
<p>At most, a given vconnection can have one read operation and one write
operation being performed on it. This is restricted both by design and
common sense: if two write operations were performed on a single
vconnection, then the user would not be able to specify which should
occur first and the output would occur in an intermingled fashion. Note
that both a read operation and a write operation can happen on a single
vconnection at the same time; the restriction is for more than one
operation of the same type.</p>
<p>One obvious issue is that the buffer passed to <a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a> and
<a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a> won’t be large enough - there is no reasonable way to
make a buffer that can hold <code class="docutils literal notranslate"><span class="pre">INT64_MAX</span></code> (9 quintillion) bytes! The
secret is that vconnections engage in a protocol whereby they signal to
the user (via the continuation passed to <a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a> and
<a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a>) that they have emptied the buffers passed to them and
are ready for more data. When this occurs, it is up to the user to add
more data to the buffers (or wait for more data to be added) and then
wake up the vconnection by calling <a class="reference internal" href="../../api/functions/TSVIOReenable.en.html#c.TSVIOReenable" title="TSVIOReenable"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVIOReenable()</span></code></a> on the VIO
describing the operation. <a class="reference internal" href="../../api/functions/TSVIOReenable.en.html#c.TSVIOReenable" title="TSVIOReenable"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVIOReenable()</span></code></a> specifies that the buffer
for the operation has been modified and that the vconnection should
reexamine it to see if it can make further progress.</p>
<p>The null transform plugin provides an example of how this is done. Below
is a prototype for <a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">TSVIO</span> <span class="n">TSVConnWrite</span> <span class="p">(</span><span class="n">TSVConn</span> <span class="n">connp</span><span class="p">,</span> <span class="n">TSCont</span> <span class="n">contp</span><span class="p">,</span> <span class="n">TSIOBufferReader</span> <span class="n">readerp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nbytes</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">connp</span></code> is the vconnection the user is writing to and <code class="docutils literal notranslate"><span class="pre">contp</span></code> is
the “user” - i.e., the continuation that <code class="docutils literal notranslate"><span class="pre">connp</span></code> calls back when it
has emptied its buffer and is ready for more data.</p>
<p>The call made in the null transform plugin is:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">TSVConnWrite</span> <span class="p">(</span><span class="n">output_conn</span><span class="p">,</span> <span class="n">contp</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">output_reader</span><span class="p">,</span> <span class="n">TSVIONBytesGet</span> <span class="p">(</span><span class="n">input_vio</span><span class="p">));</span>
</pre></div>
</div>
<p>In the example above, <code class="docutils literal notranslate"><span class="pre">contp</span></code> is the transformation vconnection that
is writing to the output vconnection. The number of bytes to be written
is obtained from <code class="docutils literal notranslate"><span class="pre">input_vio</span></code> by <a class="reference internal" href="../../api/functions/TSVIONBytesGet.en.html#c.TSVIONBytesGet" title="TSVIONBytesGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVIONBytesGet()</span></code></a>.</p>
<p>When a vconnection calls back its user to indicate that it wants more
data (or when some other condition has occurred), it issues a call to
<a class="reference internal" href="../../api/functions/TSContCall.en.html#c.TSContCall" title="TSContCall"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSContCall()</span></code></a>. It passes the <code class="docutils literal notranslate"><span class="pre">TSVIO</span></code> describing the operation as the
data parameter, and one of the values below as the event parameter.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">TS_EVENT_ERROR</span></code></dt><dd><p>Indicates an error has occurred on the vconnection. This will
happen for network IO if the underlying <em class="manpage">read(2)</em> or
<em class="manpage">write(2)</em> call returns an error.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_READ_READY</span></code></dt><dd><p>The vconnection has placed data in the buffer passed to an
<a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a> operation and it would like to do more IO, but the
buffer is now full. When the user consumes the data from the buffer,
this should re-enable the VIO so it indicates to the vconnection
that the buffer has been modified.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_WRITE_READY</span></code></dt><dd><p>The vconnection has removed data from the buffer passed to an
<a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a> operation and it would like to do more IO, but the
buffer does not have enough data in it. When placing more data in
the buffer, the user should re-enable the VIO so it indicates to the
vconnection that the buffer has been modified.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_READ_COMPLETE</span></code></dt><dd><p>The vconnection has read all the bytes specified by an
<a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a> operation. The vconnection can now be used to
initiate a new IO operation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_WRITE_COMPLETE</span></code></dt><dd><p>The vconnection has written all the bytes specified by an
<a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a> operation and can now be used to initiate a new IO
operation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_EOS</span></code></dt><dd><p>An attempt was made to read past the end of the stream of bytes
during the handling of an <a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a> operation. This event
occurs when the number of bytes available for reading from a
vconnection is less than the number of bytes the user specifies
should be read from the vconnection in a call to <a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a>. A
common case where this occurs is when the user specifies that
<code class="docutils literal notranslate"><span class="pre">INT64_MAX</span></code> bytes are to be read from a network connection.</p>
</dd>
</dl>
<p>For example: the null transform plugin’s transformation receives
<code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_WRITE_READY</span></code> and <code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_WRITE_COMPLETE</span></code>
events from the downstream vconnection as a result of the call to
<a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a>.</p>
<p>After using a vconnection, the user must call <a class="reference internal" href="../../api/functions/TSVConnClose.en.html#c.TSVConnClose" title="TSVConnClose"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnClose()</span></code></a> or
<a class="reference internal" href="../../api/functions/TSVConnAbort.en.html#c.TSVConnAbort" title="TSVConnAbort"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnAbort()</span></code></a>. While both calls indicate that the vconnection can
destroy itself, <a class="reference internal" href="../../api/functions/TSVConnAbort.en.html#c.TSVConnAbort" title="TSVConnAbort"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnAbort()</span></code></a> should be used when the connection is
being closed abnormally. After a call to <a class="reference internal" href="../../api/functions/TSVConnClose.en.html#c.TSVConnClose" title="TSVConnClose"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnClose()</span></code></a> or
<a class="reference internal" href="../../api/functions/TSVConnAbort.en.html#c.TSVConnAbort" title="TSVConnAbort"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnAbort()</span></code></a>, the user will not be called back by the vconnection
again.</p>
<p>Sometimes it’s desirable to simply close down the write portion of a
connection while keeping the read portion open. This can be accomplished
via the <a class="reference internal" href="../../api/functions/TSVConnShutdown.en.html#c.TSVConnShutdown" title="TSVConnShutdown"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnShutdown()</span></code></a> function, which shuts down either the read
or write portion of a vconnection. <em>Shutdown</em> means that the vconnection
will no longer call back the user with events for the portion of the
connection that was shut down. For example: if the user shuts down the
write portion of a connection, then the <code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_WRITE_READY</span></code>
or <code class="docutils literal notranslate"><span class="pre">TS_EVENT_VCONN_WRITE_COMPLETE</span></code> events will not be produced. In the
null transform plugin, the write operation is shut down with a call to
<a class="reference internal" href="../../api/functions/TSVConnShutdown.en.html#c.TSVConnShutdown" title="TSVConnShutdown"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnShutdown()</span></code></a>. To learn how vconnections are used in
transformation plugins, see <a class="reference internal" href="../http-transformations/index.en.html#writingcontenttransformplugin"><span class="std std-ref">Writing Content Transform
Plugins</span></a>.</p>
<p>The vconnection functions are listed below:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../api/functions/TSVConnAbort.en.html#c.TSVConnAbort" title="TSVConnAbort"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnAbort()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/functions/TSVConnClose.en.html#c.TSVConnClose" title="TSVConnClose"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnClose()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/functions/TSVConnClosedGet.en.html#c.TSVConnClosedGet" title="TSVConnClosedGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnClosedGet()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/functions/TSVConnRead.en.html#c.TSVConnRead" title="TSVConnRead"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnRead()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/functions/TSVConnReadVIOGet.en.html#c.TSVConnReadVIOGet" title="TSVConnReadVIOGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnReadVIOGet()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/functions/TSVConnShutdown.en.html#c.TSVConnShutdown" title="TSVConnShutdown"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnShutdown()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/functions/TSVConnWrite.en.html#c.TSVConnWrite" title="TSVConnWrite"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWrite()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/functions/TSVConnWriteVIOGet.en.html#c.TSVConnWriteVIOGet" title="TSVConnWriteVIOGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSVConnWriteVIOGet()</span></code></a></p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="net-vconnections.en.html" class="btn btn-neutral float-right" title="Net Vconnections" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../mutexes.en.html" class="btn btn-neutral float-left" title="Mutexes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, dev@trafficserver.apache.org.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>
 


</body>
</html>