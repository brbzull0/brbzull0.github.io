

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>TSUrlHostGet &#8212; Apache Traffic Server 10.0.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/override.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="TSUrlHostSet" href="TSUrlHostSet.en.html" />
    <link rel="prev" title="TSUrlFtpTypeSet" href="TSUrlFtpTypeSet.en.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="tsurlhostget">
<h1>TSUrlHostGet<a class="headerlink" href="#tsurlhostget" title="Permalink to this headline">¶</a></h1>
<p>Traffic Server URL component retrieval API.</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ts/ts.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<dl class="function">
<dt id="c.TSUrlHostGet">
const char * <code class="descname">TSUrlHostGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int *<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlHostGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlSchemeGet">
const char * <code class="descname">TSUrlSchemeGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int *<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlSchemeGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlUserGet">
const char * <code class="descname">TSUrlUserGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int *<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlUserGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlPasswordGet">
const char * <code class="descname">TSUrlPasswordGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int*<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlPasswordGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlPortGet">
int <code class="descname">TSUrlPortGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlPortGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlPathGet">
const char * <code class="descname">TSUrlPathGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int *<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlPathGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlHttpQueryGet">
const char * <code class="descname">TSUrlHttpQueryGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int *<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlHttpQueryGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlHttpParamsGet">
const char * <code class="descname">TSUrlHttpParamsGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int *<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlHttpParamsGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.TSUrlHttpFragmentGet">
const char * <code class="descname">TSUrlHttpFragmentGet</code><span class="sig-paren">(</span><a class="reference internal" href="TSTypes.en.html#c.TSMBuffer" title="TSMBuffer">TSMBuffer</a><em>&nbsp;bufp</em>, <a class="reference internal" href="TSTypes.en.html#c.TSMLoc" title="TSMLoc">TSMLoc</a><em>&nbsp;offset</em>, int *<em>&nbsp;length</em><span class="sig-paren">)</span><a class="headerlink" href="#c.TSUrlHttpFragmentGet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The URL data structure is a parsed version of a standard internet URL. The
Traffic Server URL API provides access to URL data stored in marshal
buffers. The URL functions can create, copy, retrieve or delete entire URLs,
and retrieve or modify parts of URLs, such as their host, port or scheme
information.</p>
<p><a class="reference internal" href="#c.TSUrlSchemeGet" title="TSUrlSchemeGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlSchemeGet()</span></code></a>, <a class="reference internal" href="#c.TSUrlUserGet" title="TSUrlUserGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlUserGet()</span></code></a>, <a class="reference internal" href="#c.TSUrlPasswordGet" title="TSUrlPasswordGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlPasswordGet()</span></code></a>,
<a class="reference internal" href="#c.TSUrlHostGet" title="TSUrlHostGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlHostGet()</span></code></a>, <a class="reference internal" href="#c.TSUrlPathGet" title="TSUrlPathGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlPathGet()</span></code></a>, <a class="reference internal" href="#c.TSUrlHttpParamsGet" title="TSUrlHttpParamsGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlHttpParamsGet()</span></code></a>, <a class="reference internal" href="#c.TSUrlHttpQueryGet" title="TSUrlHttpQueryGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlHttpQueryGet()</span></code></a>
and <a class="reference internal" href="#c.TSUrlHttpFragmentGet" title="TSUrlHttpFragmentGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlHttpFragmentGet()</span></code></a> each retrieve an internal pointer to the
specified portion of the URL from the marshall buffer <em>bufp</em>. The length
of the returned string is placed in <em>length</em> and a pointer to the URL
portion is returned.</p>
<p><a class="reference internal" href="#c.TSUrlPortGet" title="TSUrlPortGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlPortGet()</span></code></a> retrieves the port number portion of the URL located at
<em>offset</em> within the marshal buffer <em>bufp</em>. If there is no explicit
port number in the URL, a canonicalized valued is returned based on the URL
scheme.</p>
</div>
<div class="section" id="return-values">
<h2>Return Values<a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<p>All APIs except <a class="reference internal" href="#c.TSUrlPortGet" title="TSUrlPortGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlPortGet()</span></code></a> returns a string, which is not guaranteed
to be NULL terminated. You must therefore always use the <em>length</em> value
to determine the actual length of the returned string.</p>
<p><a class="reference internal" href="#c.TSUrlPortGet" title="TSUrlPortGet"><code class="xref c c-func docutils literal notranslate"><span class="pre">TSUrlPortGet()</span></code></a> simply returns the port number as an integer, possibly
canonicalized with <code class="docutils literal notranslate"><span class="pre">80</span></code> for HTTP and <code class="docutils literal notranslate"><span class="pre">443</span></code> for HTTPS schemes. If
there is neither port nor scheme information available in the URL, <code class="docutils literal notranslate"><span class="pre">0</span></code>
is returned.</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><em class="manpage">TSAPI(3ts)</em>,
<em class="manpage">TSUrlCreate(3ts)</em>,
<em class="manpage">TSHttpHdrUrlGet(3ts)</em>,
<em class="manpage">TSUrlHostSet(3ts)</em>,
<em class="manpage">TSUrlStringGet(3ts)</em>,
<em class="manpage">TSUrlPercentEncode(3ts)</em></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/trans_logo_tm_380x69.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">Apache Traffic Server</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../preface/index.en.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.en.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/index.en.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.en.html">Administrator’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.en.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.en.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release-process/index.en.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/index.en.html">Contributing to Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing-with-vagrant/index.en.html">Using Vagrant to Test Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/index.en.html">Debugging and Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../threads-and-events.en.html">Threads and Event Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cache-architecture/index.en.html">Cache Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging-architecture/index.en.html">Logging Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../internal-libraries/index.en.html">Internal libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.en.html">Plugin Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config-vars.en.html">Configuration Variable Implementation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.en.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../continuous-integration/index.en.html">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentation/index.en.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../host-resolution-proposal.en.html">Host Resolution Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../client-session-architecture.en.html">An Overview Client Sessions and Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core-architecture/index.en.html">Core Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-documents/index.en.html">Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../layout/index.en.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/index.en.html">Testing Traffic Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonrpc/index.en.html">JSONRPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/index.en.html">Appendices</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.en.html">Developer’s Guide</a><ul>
  <li><a href="../index.en.html">API Reference</a><ul>
  <li><a href="index.en.html">API Functions</a><ul>
      <li>Previous: <a href="TSUrlFtpTypeSet.en.html" title="previous chapter">TSUrlFtpTypeSet</a></li>
      <li>Next: <a href="TSUrlHostSet.en.html" title="next chapter">TSUrlHostSet</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Apache Traffic Server</span>
    v: 10.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl id="lang-list">
      <dt>Languages</dt>
    </dl>
    <dl id="version-list">
      <dt>Versions</dt>
    </dl>
  </div>
</div>
<script>
$(function() {
  function update_langlist (json) {
    for (var lang in json) {
      $('#lang-list').append('<dd><a href="/' + lang + '/latest/">' + json[lang]['name'] + '</a></dd>');
    }
    for (var i in json[curlang]['versions']) {
      var ver = json[curlang]['versions'][i];
      $('#version-list').append('<dd><a href="/' + curlang + '/' + ver + '/">' + ver + '</a></dd>');
    }
  }
  var curlang = "None" == "None" ? "en" : "None";
  $.ajax({
    'url':      "/en/latest/_static/languages.json",
    'dataType': "json",
    'success':  function (json) { update_langlist(json) },
    'error':    function (xhr,errstr,e) {
      $.ajax({
        'url':      "/_static/languages.json",
        'dataType': "json",
        'success':  function (json) { update_langlist(json) }
      })
    }
  });
});
</script>

    <div class="footer">
      &copy;2021, dev@trafficserver.apache.org.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/developer-guide/api/functions/TSUrlHostGet.en.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    

  </body>
</html>