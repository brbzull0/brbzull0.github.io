<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="370px" preserveAspectRatio="none" style="width:648px;height:370px;" version="1.1" viewBox="0 0 648 370" width="648px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ulqvxz2q1zs0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class HdrStrHeap--><rect fill="#FEFECE" filter="url(#f1ulqvxz2q1zs0)" height="73.6094" id="HdrStrHeap" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="196" y="167.5"/><ellipse cx="220" cy="183.5" fill="#008000" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M220.1094,187.9531 L222.2969,177.6094 L224.7656,177.6094 L221.8125,190 L218.4219,190 L215.4688,177.6094 L217.9375,177.6094 L220.1094,187.9531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="236" y="187.6543">HdrStrHeap</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="197" x2="320" y1="199.5" y2="199.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="202" y="213.7104">Storage for strings.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="197" x2="320" y1="220.3047" y2="220.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="197" x2="320" y1="222.3047" y2="222.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="202" y="234.5151">Extended Storage</text><!--class StrHeapDesc--><rect fill="#FEFECE" filter="url(#f1ulqvxz2q1zs0)" height="91.2188" id="StrHeapDesc" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="356.5" y="159"/><ellipse cx="371.5" cy="175" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M374.4688,180.6406 Q373.8906,180.9375 373.25,181.0781 Q372.6094,181.2344 371.9063,181.2344 Q369.4063,181.2344 368.0781,179.5938 Q366.7656,177.9375 366.7656,174.8125 Q366.7656,171.6875 368.0781,170.0313 Q369.4063,168.375 371.9063,168.375 Q372.6094,168.375 373.25,168.5313 Q373.9063,168.6875 374.4688,168.9844 L374.4688,171.7031 Q373.8438,171.125 373.25,170.8594 Q372.6563,170.5781 372.0313,170.5781 Q370.6875,170.5781 370,171.6563 Q369.3125,172.7188 369.3125,174.8125 Q369.3125,176.9063 370,177.9844 Q370.6875,179.0469 372.0313,179.0469 Q372.6563,179.0469 373.25,178.7813 Q373.8438,178.5 374.4688,177.9219 L374.4688,180.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="385.5" y="179.1543">StrHeapDesc</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="357.5" x2="469.5" y1="191" y2="191"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="362.5" y="205.2104">m_ref_count_ptr</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="362.5" y="218.0151">m_heap_start</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="362.5" y="230.8198">m_heap_len</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="362.5" y="243.6245">m_locked</text><!--class RefCountObj--><rect fill="#FEFECE" filter="url(#f1ulqvxz2q1zs0)" height="32" id="RefCountObj" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="281" y="327"/><ellipse cx="296" cy="343" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M298.9688,348.6406 Q298.3906,348.9375 297.75,349.0781 Q297.1094,349.2344 296.4063,349.2344 Q293.9063,349.2344 292.5781,347.5938 Q291.2656,345.9375 291.2656,342.8125 Q291.2656,339.6875 292.5781,338.0313 Q293.9063,336.375 296.4063,336.375 Q297.1094,336.375 297.75,336.5313 Q298.4063,336.6875 298.9688,336.9844 L298.9688,339.7031 Q298.3438,339.125 297.75,338.8594 Q297.1563,338.5781 296.5313,338.5781 Q295.1875,338.5781 294.5,339.6563 Q293.8125,340.7188 293.8125,342.8125 Q293.8125,344.9063 294.5,345.9844 Q295.1875,347.0469 296.5313,347.0469 Q297.1563,347.0469 297.75,346.7813 Q298.3438,346.5 298.9688,345.9219 L298.9688,348.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="310" y="347.1543">RefCountObj</text><path d="M6,184.5 L6,224.7656 A0,0 0 0 0 6,224.7656 L161,224.7656 A0,0 0 0 0 161,224.7656 L161,208.5 L195.71,204.5 L161,200.5 L161,194.5 L151,184.5 L6,184.5 A0,0 0 0 0 6,184.5 " fill="#FBFB77" filter="url(#f1ulqvxz2q1zs0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M151,184.5 L151,194.5 L161,194.5 L151,184.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="12" y="201.5669">Storage for strings in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="12" y="216.6997">heap objects.</text><!--class HdrHeap--><rect fill="#FEFECE" filter="url(#f1ulqvxz2q1zs0)" height="73.6094" id="HdrHeap" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="362.5" y="8"/><ellipse cx="395.05" cy="24" fill="#008000" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395.1594,28.4531 L397.3469,18.1094 L399.8156,18.1094 L396.8625,30.5 L393.4719,30.5 L390.5188,18.1094 L392.9875,18.1094 L395.1594,28.4531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="412.95" y="28.1543">HdrHeap</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="363.5" x2="487.5" y1="40" y2="40"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="368.5" y="54.2104">Storage for objects.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="363.5" x2="487.5" y1="60.8047" y2="60.8047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="363.5" x2="487.5" y1="62.8047" y2="62.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="368.5" y="75.0151">Extended Storage</text><!--class HdrHeapObjImpl--><rect fill="#FEFECE" filter="url(#f1ulqvxz2q1zs0)" height="78.4141" id="HdrHeapObjImpl" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="505.5" y="165.5"/><ellipse cx="520.5" cy="181.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520.6094,176.8438 L519.4531,181.9219 L521.7813,181.9219 L520.6094,176.8438 Z M519.125,174.6094 L522.1094,174.6094 L525.4688,187 L523.0156,187 L522.25,183.9375 L518.9688,183.9375 L518.2188,187 L515.7813,187 L519.125,174.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="534.5" y="185.6543">HdrHeapObjImpl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="506.5" x2="636.5" y1="197.5" y2="197.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="511.5" y="211.7104">m_type</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="511.5" y="224.5151">m_length</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="511.5" y="237.3198">m_obj_flags</text><path d="M148,32.5 L148,57.6328 A0,0 0 0 0 148,57.6328 L327,57.6328 A0,0 0 0 0 327,57.6328 L327,50.5 L362.46,45 L327,42.5 L327,42.5 L317,32.5 L148,32.5 A0,0 0 0 0 148,32.5 " fill="#FBFB77" filter="url(#f1ulqvxz2q1zs0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M317,32.5 L317,42.5 L327,42.5 L317,32.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="154" y="49.5669">Heap storage for objects</text><!--link HdrStrHeap to RefCountObj--><path d="M278.93,241.72 C290.76,262.68 305.52,288.85 317,309.2 " fill="none" id="HdrStrHeap-RefCountObj" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="323.25,306.03,326.97,326.89,311.05,312.91,323.25,306.03" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StrHeapDesc to RefCountObj--><path d="M387.96,250.2 C375.63,271.78 361.25,296.94 350.67,315.46 " fill="none" id="StrHeapDesc-RefCountObj" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="344.17,326.83,350.6216,323.6086,350.1293,316.4143,343.6778,319.6357,344.17,326.83" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="370.5" y="293.0669">m_ref_count_ptr</text><!--link HdrHeap to StrHeapDesc--><path d="M422.75,82.13 C421.32,100.92 419.53,124.34 417.91,145.58 " fill="none" id="HdrHeap-StrHeapDesc" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="416.9,158.81,421.3436,153.1307,417.8103,146.8446,413.3667,152.5239,416.9,158.81" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="420.5" y="125.0669">m_ronly_heap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="408.8119" y="148.0583">3</text><!--link HdrHeap to HdrStrHeap--><path d="M362.36,74.15 C326.22,90.5 287.44,108.54 284.5,112 C274.4,123.87 268.22,139.42 264.43,154.32 " fill="none" id="HdrHeap-HdrStrHeap" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="261.68,167.15,266.8499,162.1229,264.198,155.4171,259.028,160.4443,261.68,167.15" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="285.5" y="125.0669">m_read_write_heap</text><!--link HdrHeap to HdrHeap--><path d="M488.65,31.14 C508.17,31.42 523.5,36.04 523.5,45 C523.5,51.79 514.7,56.09 501.94,57.89 " fill="none" id="HdrHeap-HdrHeap" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="488.65,58.86,494.9242,62.4145,500.6184,57.99,494.3442,54.4355,488.65,58.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="529.5" y="49.5669">next</text><!--link HdrHeap to HdrHeapObjImpl--><path d="M485.43,82.09 C497.53,90.96 509.58,101.08 519.5,112 C530.64,124.25 540.41,139.3 548.38,153.62 " fill="none" id="HdrHeap-HdrHeapObjImpl" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="554.64,165.41,555.3584,158.2348,549.0114,154.8119,548.293,161.9872,554.64,165.41" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="532.5" y="125.0669">[heap storage]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="544.1406" y="154.4451">*</text><!--
@startuml

hide empty members

class HdrStrHeap << (V, green) >> {
  Storage for strings.
  ==
  Extended Storage
}

class StrHeapDesc {
  m_ref_count_ptr
  m_heap_start
  m_heap_len
  m_locked
}

HdrStrHeap - -|> RefCountObj
StrHeapDesc - -o RefCountObj : m_ref_count_ptr

note left of HdrStrHeap : Storage for strings in\nheap objects.

class HdrHeap << (V, green) >> {
 Storage for objects.
 ==
 Extended Storage
}

class HdrHeapObjImpl {
  m_type
  m_length
  m_obj_flags
}

HdrHeap - -* "3" StrHeapDesc : m_ronly_heap
HdrHeap - -o HdrStrHeap : m_read_write_heap
HdrHeap - -o HdrHeap : next

note left of HdrHeap : Heap storage for objects

abstract class HdrHeapObjImpl

HdrHeap - -o "*" HdrHeapObjImpl : [heap storage]

@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 GMT 2018)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+11
Operating System: Linux
OS Version: 5.10.7-200.fc33.x86_64
Default Encoding: UTF-8
Language: en
Country: IE
--></g></svg>