<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="913px" preserveAspectRatio="none" style="width:736px;height:913px;" version="1.1" viewBox="0 0 736 913" width="736px" zoomAndPan="magnify"><defs><filter height="300%" id="f140f9d3i3cvp4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="50" x="124.25" y="29.4531">Write</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.7451" y2="901.5889"/><ellipse cx="212.5" cy="43.6982" fill="#000000" filter="url(#f140f9d3i3cvp4)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="151" y="88.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="161" y="109.8369">populate msg_id</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="145.5" y="157.667"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="155.5" y="178.8057">populate data_len</text><path d="M20,295.6045 L20,335.8701 A0,0 0 0 0 20,335.8701 L130,335.8701 A0,0 0 0 0 130,335.8701 L130,319.7373 L150,315.7373 L130,311.7373 L130,305.6045 L120,295.6045 L20,295.6045 A0,0 0 0 0 20,295.6045 " fill="#FBFB77" filter="url(#f140f9d3i3cvp4)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M120,295.6045 L120,305.6045 L130,305.6045 L120,295.6045 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="26" y="312.6714">casts from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="26" y="327.8042">char* to void*</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="150" y="298.7529"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="160" y="319.8916">get the raw data</text><rect fill="#90EE90" height="888.8438" style="stroke: #90EE90; stroke-width: 1.0;" width="186" x="288.5" y="12.7451"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="59" x="352" y="29.4531">Socket</text><line style="stroke: #000000; stroke-width: 2.0;" x1="288.5" x2="288.5" y1="12.7451" y2="901.5889"/><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="298.5" y="226.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="308.5" y="247.7744">send MgmtMessageHdr</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="327" y="370.8701"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="337" y="392.0088">send raw data</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="299.5" y="591.7451"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="145" x="309.5" y="612.8838">read MgmtMessageHdr</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="309.5" y="729.6826"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="319.5" y="750.8213">read data_len bytes</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="45" x="577" y="29.4531">Read</text><line style="stroke: #000000; stroke-width: 2.0;" x1="474.5" x2="474.5" y1="12.7451" y2="901.5889"/><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="515" y="439.8389"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="525" y="460.9775">different address space</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="541" y="508.8076"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="12" x="555" y="529.9463">...</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="551" y="543.915">some time later</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="550.5" y="660.7139"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="560.5" y="681.8525">get data_len</text><rect fill="#FEFECE" filter="url(#f140f9d3i3cvp4)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="231" x="484.5" y="798.6514"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211" x="494.5" y="819.79">choose callback based on msg_id</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="494.5" y="833.7588">and send raw data</text><ellipse cx="600" cy="891.5889" fill="none" filter="url(#f140f9d3i3cvp4)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="600.5" cy="892.0889" fill="#000000" filter="url(#f140f9d3i3cvp4)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="724.5" x2="724.5" y1="12.7451" y2="901.5889"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212.5" x2="212.5" y1="53.6982" y2="88.6982"/><polygon fill="#A80036" points="208.5,78.6982,212.5,88.6982,216.5,78.6982,212.5,82.6982" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212.5" x2="212.5" y1="122.667" y2="157.667"/><polygon fill="#A80036" points="208.5,147.667,212.5,157.667,216.5,147.667,212.5,151.667" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="600" y1="473.8076" y2="508.8076"/><polygon fill="#A80036" points="596,498.8076,600,508.8076,604,498.8076,600,502.8076" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="600" y1="846.5889" y2="881.5889"/><polygon fill="#A80036" points="596,871.5889,600,881.5889,604,871.5889,600,875.5889" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212.5" x2="212.5" y1="191.6357" y2="209.1357"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212.5" x2="382" y1="209.1357" y2="209.1357"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="209.1357" y2="226.6357"/><polygon fill="#A80036" points="378,216.6357,382,226.6357,386,216.6357,382,220.6357" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="260.6045" y2="279.6787"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="212.5" y1="279.6787" y2="279.6787"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212.5" x2="212.5" y1="279.6787" y2="298.7529"/><polygon fill="#A80036" points="208.5,288.7529,212.5,298.7529,216.5,288.7529,212.5,292.7529" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212.5" x2="212.5" y1="332.7217" y2="351.7959"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212.5" x2="382" y1="351.7959" y2="351.7959"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="351.7959" y2="370.8701"/><polygon fill="#A80036" points="378,360.8701,382,370.8701,386,360.8701,382,364.8701" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="404.8389" y2="422.3389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="600" y1="422.3389" y2="422.3389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="600" y1="422.3389" y2="439.8389"/><polygon fill="#A80036" points="596,429.8389,600,439.8389,604,429.8389,600,433.8389" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="600" y1="556.7451" y2="574.2451"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="382" y1="574.2451" y2="574.2451"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="574.2451" y2="591.7451"/><polygon fill="#A80036" points="378,581.7451,382,591.7451,386,581.7451,382,585.7451" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="625.7139" y2="643.2139"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="600" y1="643.2139" y2="643.2139"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="600" y1="643.2139" y2="660.7139"/><polygon fill="#A80036" points="596,650.7139,600,660.7139,604,650.7139,600,654.7139" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="600" y1="694.6826" y2="712.1826"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="382" y1="712.1826" y2="712.1826"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="712.1826" y2="729.6826"/><polygon fill="#A80036" points="378,719.6826,382,729.6826,386,719.6826,382,723.6826" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="382" y1="763.6514" y2="781.1514"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="600" y1="781.1514" y2="781.1514"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600" x2="600" y1="781.1514" y2="798.6514"/><polygon fill="#A80036" points="596,788.6514,600,798.6514,604,788.6514,600,792.6514" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
|Write|
start
:populate msg_id;
:populate data_len;
|#LightGreen|Socket|
:send MgmtMessageHdr;
|Write|
:get the raw data;
note left : casts from\nchar* to void*
|Socket|
:send raw data;
|Read|
:different address space;
: ...\nsome time later;
|Socket|
:read MgmtMessageHdr;
|Read|
:get data_len;
|Socket|
:read data_len bytes;
|Read|
:choose callback based on msg_id\nand send raw data;
stop

@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 GMT 2018)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+11
Operating System: Linux
OS Version: 5.10.7-200.fc33.x86_64
Default Encoding: UTF-8
Language: en
Country: IE
--></g></svg>