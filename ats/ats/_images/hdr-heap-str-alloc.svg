<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="633px" preserveAspectRatio="none" style="width:238px;height:633px;" version="1.1" viewBox="0 0 238 633" width="238px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lu56hw6r65lh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="89" cy="20" fill="#000000" filter="url(#f1lu56hw6r65lh)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="51" y="98.4023"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="61" y="119.541">coalesce</text><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="56,50,122,50,134,62,122,74,56,74,44,62,56,50" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="93" y="84.2104">too much</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="56" y="65.8081">dead space</text><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="89,152.3711,101,164.3711,89,176.3711,77,164.3711,89,152.3711" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="10" y="288.7734"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="20" y="309.9121">create writeable heap</text><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="44,240.3711,134,240.3711,146,252.3711,134,264.3711,44,264.3711,32,252.3711,44,240.3711" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="93" y="274.5815">false</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="44" y="256.1792">writeable heap?</text><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="89,342.7422,101,354.7422,89,366.7422,77,354.7422,89,342.7422" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="55,386.7422,123,386.7422,135,398.7422,123,410.7422,55,410.7422,43,398.7422,55,386.7422" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="55" y="402.5503">can allocate</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="135" y="396.1479">true</text><ellipse cx="178" cy="398.7422" fill="none" filter="url(#f1lu56hw6r65lh)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="178.5" cy="399.2422" fill="#000000" filter="url(#f1lu56hw6r65lh)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="51" y="499.1445"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="61" y="520.2832">coalesce</text><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="50.5,450.7422,127.5,450.7422,139.5,462.7422,127.5,474.7422,50.5,474.7422,38.5,462.7422,50.5,450.7422" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="93" y="484.9526">no open slots</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="50.5" y="466.5503">demote_heap</text><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="89,553.1133,101,565.1133,89,577.1133,77,565.1133,89,553.1133" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="89,196.3711,101,208.3711,89,220.3711,77,208.3711,89,196.3711" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1lu56hw6r65lh)" points="77,597.1133,101,597.1133,113,609.1133,101,621.1133,77,621.1133,65,609.1133,77,597.1133" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="77" y="612.9214">loop</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="74" y2="98.4023"/><polygon fill="#A80036" points="85,88.4023,89,98.4023,93,88.4023,89,92.4023" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="134" x2="146" y1="62" y2="62"/><polygon fill="#A80036" points="142,105.3867,146,115.3867,150,105.3867,146,109.3867" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="146" x2="146" y1="62" y2="164.3711"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="146" x2="101" y1="164.3711" y2="164.3711"/><polygon fill="#A80036" points="111,160.3711,101,164.3711,111,168.3711,107,164.3711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="132.3711" y2="152.3711"/><polygon fill="#A80036" points="85,142.3711,89,152.3711,93,142.3711,89,146.3711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="30" y2="50"/><polygon fill="#A80036" points="85,40,89,50,93,40,89,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="264.3711" y2="288.7734"/><polygon fill="#A80036" points="85,278.7734,89,288.7734,93,278.7734,89,282.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="146" x2="178" y1="252.3711" y2="252.3711"/><polygon fill="#A80036" points="174,295.7578,178,305.7578,182,295.7578,178,299.7578" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="178" x2="178" y1="252.3711" y2="354.7422"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="178" x2="101" y1="354.7422" y2="354.7422"/><polygon fill="#A80036" points="111,350.7422,101,354.7422,111,358.7422,107,354.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="322.7422" y2="342.7422"/><polygon fill="#A80036" points="85,332.7422,89,342.7422,93,332.7422,89,336.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="410.7422" y2="450.7422"/><polygon fill="#A80036" points="85,440.7422,89,450.7422,93,440.7422,89,444.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="135" x2="168" y1="398.7422" y2="398.7422"/><polygon fill="#A80036" points="158,394.7422,168,398.7422,158,402.7422,162,398.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="366.7422" y2="386.7422"/><polygon fill="#A80036" points="85,376.7422,89,386.7422,93,376.7422,89,380.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="474.7422" y2="499.1445"/><polygon fill="#A80036" points="85,489.1445,89,499.1445,93,489.1445,89,493.1445" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="139.5" x2="151.5" y1="462.7422" y2="462.7422"/><polygon fill="#A80036" points="147.5,506.1289,151.5,516.1289,155.5,506.1289,151.5,510.1289" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="151.5" x2="151.5" y1="462.7422" y2="565.1133"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="151.5" x2="101" y1="565.1133" y2="565.1133"/><polygon fill="#A80036" points="111,561.1133,101,565.1133,111,569.1133,107,565.1133" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="533.1133" y2="553.1133"/><polygon fill="#A80036" points="85,543.1133,89,553.1133,93,543.1133,89,547.1133" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="220.3711" y2="240.3711"/><polygon fill="#A80036" points="85,230.3711,89,240.3711,93,230.3711,89,234.3711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="113" x2="212" y1="609.1133" y2="609.1133"/><polygon fill="#A80036" points="208,430.7422,212,420.7422,216,430.7422,212,426.7422" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212" x2="212" y1="208.3711" y2="609.1133"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="212" x2="101" y1="208.3711" y2="208.3711"/><polygon fill="#A80036" points="111,204.3711,101,208.3711,111,212.3711,107,208.3711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="577.1133" y2="597.1133"/><polygon fill="#A80036" points="85,587.1133,89,597.1133,93,587.1133,89,591.1133" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="176.3711" y2="196.3711"/><polygon fill="#A80036" points="85,186.3711,89,196.3711,93,186.3711,89,190.3711" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

start

if (dead space) then (too much)
  :coalesce;
endif

repeat
if (writeable heap?) then (false)
  :create writeable heap;
endif
if (can allocate) then (true)
  stop
endif
if (demote_heap) then (no open slots)
  :coalesce;
endif
repeat while(loop)
detach

@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 GMT 2018)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+11
Operating System: Linux
OS Version: 5.10.7-200.fc33.x86_64
Default Encoding: UTF-8
Language: en
Country: IE
--></g></svg>